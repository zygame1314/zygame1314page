var ec=Object.defineProperty;var tc=(t,e,n)=>e in t?ec(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var nc=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Ze=(t,e,n)=>tc(t,typeof e!="symbol"?e+"":e,n);import"./animations-BWIQC-bF.js";var rg=nc((Wl,ya)=>{/*!
  Highlight.js v11.11.1 (git: 08cb242e7d)
  (c) 2006-2024 Josh Goebel <hello@joshgoebel.com> and other contributors
  License: BSD-3-Clause
 */var sc=function(){function t(u){return u instanceof Map?u.clear=u.delete=u.set=()=>{throw Error("map is read-only")}:u instanceof Set&&(u.add=u.clear=u.delete=()=>{throw Error("set is read-only")}),Object.freeze(u),Object.getOwnPropertyNames(u).forEach(f=>{const v=u[f],S=typeof v;S!=="object"&&S!=="function"||Object.isFrozen(v)||t(v)}),u}class e{constructor(f){f.data===void 0&&(f.data={}),this.data=f.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function n(u){return u.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function s(u,...f){const v=Object.create(null);for(const S in u)v[S]=u[S];return f.forEach(S=>{for(const L in S)v[L]=S[L]}),v}const i=u=>!!u.scope;class a{constructor(f,v){this.buffer="",this.classPrefix=v.classPrefix,f.walk(this)}addText(f){this.buffer+=n(f)}openNode(f){if(!i(f))return;const v=((S,{prefix:L})=>{if(S.startsWith("language:"))return S.replace("language:","language-");if(S.includes(".")){const k=S.split(".");return[`${L}${k.shift()}`,...k.map((C,A)=>`${C}${"_".repeat(A+1)}`)].join(" ")}return`${L}${S}`})(f.scope,{prefix:this.classPrefix});this.span(v)}closeNode(f){i(f)&&(this.buffer+="</span>")}value(){return this.buffer}span(f){this.buffer+=`<span class="${f}">`}}const r=(u={})=>{const f={children:[]};return Object.assign(f,u),f};class o{constructor(){this.rootNode=r(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(f){this.top.children.push(f)}openNode(f){const v=r({scope:f});this.add(v),this.stack.push(v)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(f){return this.constructor._walk(f,this.rootNode)}static _walk(f,v){return typeof v=="string"?f.addText(v):v.children&&(f.openNode(v),v.children.forEach(S=>this._walk(f,S)),f.closeNode(v)),f}static _collapse(f){typeof f!="string"&&f.children&&(f.children.every(v=>typeof v=="string")?f.children=[f.children.join("")]:f.children.forEach(v=>{o._collapse(v)}))}}class l extends o{constructor(f){super(),this.options=f}addText(f){f!==""&&this.add(f)}startScope(f){this.openNode(f)}endScope(){this.closeNode()}__addSublanguage(f,v){const S=f.root;v&&(S.scope="language:"+v),this.add(S)}toHTML(){return new a(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}}function c(u){return u?typeof u=="string"?u:u.source:null}function d(u){return m("(?=",u,")")}function h(u){return m("(?:",u,")*")}function p(u){return m("(?:",u,")?")}function m(...u){return u.map(f=>c(f)).join("")}function b(...u){return"("+((v=>{const S=v[v.length-1];return typeof S=="object"&&S.constructor===Object?(v.splice(v.length-1,1),S):{}})(u).capture?"":"?:")+u.map(v=>c(v)).join("|")+")"}function w(u){return RegExp(u.toString()+"|").exec("").length-1}const N=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function _(u,{joinWith:f}){let v=0;return u.map(S=>{v+=1;const L=v;let k=c(S),C="";for(;k.length>0;){const A=N.exec(k);if(!A){C+=k;break}C+=k.substring(0,A.index),k=k.substring(A.index+A[0].length),A[0][0]==="\\"&&A[1]?C+="\\"+(Number(A[1])+L):(C+=A[0],A[0]==="("&&v++)}return C}).map(S=>`(${S})`).join(f)}const E="[a-zA-Z]\\w*",$="[a-zA-Z_]\\w*",T="\\b\\d+(\\.\\d+)?",B="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",Y="\\b(0b[01]+)",R={begin:"\\\\[\\s\\S]",relevance:0},Z={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[R]},le={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[R]},oe=(u,f,v={})=>{const S=s({scope:"comment",begin:u,end:f,contains:[]},v);S.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const L=b("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return S.contains.push({begin:m(/[ ]+/,"(",L,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),S},D=oe("//","$"),ee=oe("/\\*","\\*/"),P=oe("#","$");var ce=Object.freeze({__proto__:null,APOS_STRING_MODE:Z,BACKSLASH_ESCAPE:R,BINARY_NUMBER_MODE:{scope:"number",begin:Y,relevance:0},BINARY_NUMBER_RE:Y,COMMENT:oe,C_BLOCK_COMMENT_MODE:ee,C_LINE_COMMENT_MODE:D,C_NUMBER_MODE:{scope:"number",begin:B,relevance:0},C_NUMBER_RE:B,END_SAME_AS_BEGIN:u=>Object.assign(u,{"on:begin":(f,v)=>{v.data._beginMatch=f[1]},"on:end":(f,v)=>{v.data._beginMatch!==f[1]&&v.ignoreMatch()}}),HASH_COMMENT_MODE:P,IDENT_RE:E,MATCH_NOTHING_RE:/\b\B/,METHOD_GUARD:{begin:"\\.\\s*"+$,relevance:0},NUMBER_MODE:{scope:"number",begin:T,relevance:0},NUMBER_RE:T,PHRASAL_WORDS_MODE:{begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},QUOTE_STRING_MODE:le,REGEXP_MODE:{scope:"regexp",begin:/\/(?=[^/\n]*\/)/,end:/\/[gimuy]*/,contains:[R,{begin:/\[/,end:/\]/,relevance:0,contains:[R]}]},RE_STARTERS_RE:"!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",SHEBANG:(u={})=>{const f=/^#![ ]*\//;return u.binary&&(u.begin=m(f,/.*\b/,u.binary,/\b.*/)),s({scope:"meta",begin:f,end:/$/,relevance:0,"on:begin":(v,S)=>{v.index!==0&&S.ignoreMatch()}},u)},TITLE_MODE:{scope:"title",begin:E,relevance:0},UNDERSCORE_IDENT_RE:$,UNDERSCORE_TITLE_MODE:{scope:"title",begin:$,relevance:0}});function de(u,f){u.input[u.index-1]==="."&&f.ignoreMatch()}function Ce(u,f){u.className!==void 0&&(u.scope=u.className,delete u.className)}function st(u,f){f&&u.beginKeywords&&(u.begin="\\b("+u.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",u.__beforeBegin=de,u.keywords=u.keywords||u.beginKeywords,delete u.beginKeywords,u.relevance===void 0&&(u.relevance=0))}function fe(u,f){Array.isArray(u.illegal)&&(u.illegal=b(...u.illegal))}function xe(u,f){if(u.match){if(u.begin||u.end)throw Error("begin & end are not supported with match");u.begin=u.match,delete u.match}}function Ve(u,f){u.relevance===void 0&&(u.relevance=1)}const be=(u,f)=>{if(!u.beforeMatch)return;if(u.starts)throw Error("beforeMatch cannot be used with starts");const v=Object.assign({},u);Object.keys(u).forEach(S=>{delete u[S]}),u.keywords=v.keywords,u.begin=m(v.beforeMatch,d(v.begin)),u.starts={relevance:0,contains:[Object.assign(v,{endsParent:!0})]},u.relevance=0,delete v.beforeMatch},ot=["of","and","for","in","not","or","if","then","parent","list","value"];function Ot(u,f,v="keyword"){const S=Object.create(null);return typeof u=="string"?L(v,u.split(" ")):Array.isArray(u)?L(v,u):Object.keys(u).forEach(k=>{Object.assign(S,Ot(u[k],f,k))}),S;function L(k,C){f&&(C=C.map(A=>A.toLowerCase())),C.forEach(A=>{const F=A.split("|");S[F[0]]=[k,os(F[0],F[1])]})}}function os(u,f){return f?Number(f):(v=>ot.includes(v.toLowerCase()))(u)?0:1}const kn={},wt=u=>{console.error(u)},qt=(u,...f)=>{console.log("WARN: "+u,...f)},Lt=(u,f)=>{kn[`${u}/${f}`]||(console.log(`Deprecated as of ${u}. ${f}`),kn[`${u}/${f}`]=!0)},te=Error();function V(u,f,{key:v}){let S=0;const L=u[v],k={},C={};for(let A=1;A<=f.length;A++)C[A+S]=L[A],k[A+S]=!0,S+=w(f[A-1]);u[v]=C,u[v]._emit=k,u[v]._multi=!0}function g(u){(f=>{f.scope&&typeof f.scope=="object"&&f.scope!==null&&(f.beginScope=f.scope,delete f.scope)})(u),typeof u.beginScope=="string"&&(u.beginScope={_wrap:u.beginScope}),typeof u.endScope=="string"&&(u.endScope={_wrap:u.endScope}),(f=>{if(Array.isArray(f.begin)){if(f.skip||f.excludeBegin||f.returnBegin)throw wt("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),te;if(typeof f.beginScope!="object"||f.beginScope===null)throw wt("beginScope must be object"),te;V(f,f.begin,{key:"beginScope"}),f.begin=_(f.begin,{joinWith:""})}})(u),(f=>{if(Array.isArray(f.end)){if(f.skip||f.excludeEnd||f.returnEnd)throw wt("skip, excludeEnd, returnEnd not compatible with endScope: {}"),te;if(typeof f.endScope!="object"||f.endScope===null)throw wt("endScope must be object"),te;V(f,f.end,{key:"endScope"}),f.end=_(f.end,{joinWith:""})}})(u)}function y(u){function f(L,k){return RegExp(c(L),"m"+(u.case_insensitive?"i":"")+(u.unicodeRegex?"u":"")+(k?"g":""))}class v{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(k,C){C.position=this.position++,this.matchIndexes[this.matchAt]=C,this.regexes.push([C,k]),this.matchAt+=w(k)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);const k=this.regexes.map(C=>C[1]);this.matcherRe=f(_(k,{joinWith:"|"}),!0),this.lastIndex=0}exec(k){this.matcherRe.lastIndex=this.lastIndex;const C=this.matcherRe.exec(k);if(!C)return null;const A=C.findIndex((H,G)=>G>0&&H!==void 0),F=this.matchIndexes[A];return C.splice(0,A),Object.assign(C,F)}}class S{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(k){if(this.multiRegexes[k])return this.multiRegexes[k];const C=new v;return this.rules.slice(k).forEach(([A,F])=>C.addRule(A,F)),C.compile(),this.multiRegexes[k]=C,C}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(k,C){this.rules.push([k,C]),C.type==="begin"&&this.count++}exec(k){const C=this.getMatcher(this.regexIndex);C.lastIndex=this.lastIndex;let A=C.exec(k);if(this.resumingScanAtSamePosition()&&!(A&&A.index===this.lastIndex)){const F=this.getMatcher(0);F.lastIndex=this.lastIndex+1,A=F.exec(k)}return A&&(this.regexIndex+=A.position+1,this.regexIndex===this.count&&this.considerAll()),A}}if(u.compilerExtensions||(u.compilerExtensions=[]),u.contains&&u.contains.includes("self"))throw Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return u.classNameAliases=s(u.classNameAliases||{}),function L(k,C){const A=k;if(k.isCompiled)return A;[Ce,xe,g,be].forEach(H=>H(k,C)),u.compilerExtensions.forEach(H=>H(k,C)),k.__beforeBegin=null,[st,fe,Ve].forEach(H=>H(k,C)),k.isCompiled=!0;let F=null;return typeof k.keywords=="object"&&k.keywords.$pattern&&(k.keywords=Object.assign({},k.keywords),F=k.keywords.$pattern,delete k.keywords.$pattern),F=F||/\w+/,k.keywords&&(k.keywords=Ot(k.keywords,u.case_insensitive)),A.keywordPatternRe=f(F,!0),C&&(k.begin||(k.begin=/\B|\b/),A.beginRe=f(A.begin),k.end||k.endsWithParent||(k.end=/\B|\b/),k.end&&(A.endRe=f(A.end)),A.terminatorEnd=c(A.end)||"",k.endsWithParent&&C.terminatorEnd&&(A.terminatorEnd+=(k.end?"|":"")+C.terminatorEnd)),k.illegal&&(A.illegalRe=f(k.illegal)),k.contains||(k.contains=[]),k.contains=[].concat(...k.contains.map(H=>(G=>(G.variants&&!G.cachedVariants&&(G.cachedVariants=G.variants.map(ue=>s(G,{variants:null},ue))),G.cachedVariants?G.cachedVariants:x(G)?s(G,{starts:G.starts?s(G.starts):null}):Object.isFrozen(G)?s(G):G))(H==="self"?k:H))),k.contains.forEach(H=>{L(H,A)}),k.starts&&L(k.starts,C),A.matcher=(H=>{const G=new S;return H.contains.forEach(ue=>G.addRule(ue.begin,{rule:ue,type:"begin"})),H.terminatorEnd&&G.addRule(H.terminatorEnd,{type:"end"}),H.illegal&&G.addRule(H.illegal,{type:"illegal"}),G})(A),A}(u)}function x(u){return!!u&&(u.endsWithParent||x(u.starts))}class I extends Error{constructor(f,v){super(f),this.name="HTMLInjectionError",this.html=v}}const M=n,O=s,z=Symbol("nomatch"),U=u=>{const f=Object.create(null),v=Object.create(null),S=[];let L=!0;const k="Could not find the language '{}', did you forget to load/include a language module?",C={disableAutodetect:!0,name:"Plain text",contains:[]};let A={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:l};function F(X){return A.noHighlightRe.test(X)}function H(X,ie,me){let Ke="",Xe="";typeof ie=="object"?(Ke=X,me=ie.ignoreIllegals,Xe=ie.language):(Lt("10.7.0","highlight(lang, code, ...args) has been deprecated."),Lt("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),Xe=X,Ke=ie),me===void 0&&(me=!0);const Fe={code:Ke,language:Xe};it("before:highlight",Fe);const Me=Fe.result?Fe.result:G(Fe.language,Fe.code,me);return Me.code=Fe.code,it("after:highlight",Me),Me}function G(X,ie,me,Ke){const Xe=Object.create(null);function Fe(){if(!ge.keywords)return void ve.addText(Ie);let Q=0;ge.keywordPatternRe.lastIndex=0;let he=ge.keywordPatternRe.exec(Ie),We="";for(;he;){We+=Ie.substring(Q,he.index);const Je=_t.case_insensitive?he[0].toLowerCase():he[0],pt=(He=Je,ge.keywords[He]);if(pt){const[nn,Ui]=pt;if(ve.addText(We),We="",Xe[Je]=(Xe[Je]||0)+1,Xe[Je]<=7&&(Xt+=Ui),nn.startsWith("_"))We+=he[0];else{const Ws=_t.classNameAliases[nn]||nn;Te(he[0],Ws)}}else We+=he[0];Q=ge.keywordPatternRe.lastIndex,he=ge.keywordPatternRe.exec(Ie)}var He;We+=Ie.substring(Q),ve.addText(We)}function Me(){ge.subLanguage!=null?(()=>{if(Ie==="")return;let Q=null;if(typeof ge.subLanguage=="string"){if(!f[ge.subLanguage])return void ve.addText(Ie);Q=G(ge.subLanguage,Ie,!0,Xs[ge.subLanguage]),Xs[ge.subLanguage]=Q._top}else Q=ue(Ie,ge.subLanguage.length?ge.subLanguage:null);ge.relevance>0&&(Xt+=Q.relevance),ve.__addSublanguage(Q._emitter,Q.language)})():Fe(),Ie=""}function Te(Q,he){Q!==""&&(ve.startScope(he),ve.addText(Q),ve.endScope())}function Ae(Q,he){let We=1;const He=he.length-1;for(;We<=He;){if(!Q._emit[We]){We++;continue}const Je=_t.classNameAliases[Q[We]]||Q[We],pt=he[We];Je?Te(pt,Je):(Ie=pt,Fe(),Ie=""),We++}}function et(Q,he){return Q.scope&&typeof Q.scope=="string"&&ve.openNode(_t.classNameAliases[Q.scope]||Q.scope),Q.beginScope&&(Q.beginScope._wrap?(Te(Ie,_t.classNameAliases[Q.beginScope._wrap]||Q.beginScope._wrap),Ie=""):Q.beginScope._multi&&(Ae(Q.beginScope,he),Ie="")),ge=Object.create(Q,{parent:{value:ge}}),ge}function Nt(Q,he,We){let He=((Je,pt)=>{const nn=Je&&Je.exec(pt);return nn&&nn.index===0})(Q.endRe,We);if(He){if(Q["on:end"]){const Je=new e(Q);Q["on:end"](he,Je),Je.isMatchIgnored&&(He=!1)}if(He){for(;Q.endsParent&&Q.parent;)Q=Q.parent;return Q}}if(Q.endsWithParent)return Nt(Q.parent,he,We)}function Nn(Q){return ge.matcher.regexIndex===0?(Ie+=Q[0],1):(qi=!0,0)}function bn(Q){const he=Q[0],We=ie.substring(Q.index),He=Nt(ge,Q,We);if(!He)return z;const Je=ge;ge.endScope&&ge.endScope._wrap?(Me(),Te(he,ge.endScope._wrap)):ge.endScope&&ge.endScope._multi?(Me(),Ae(ge.endScope,Q)):Je.skip?Ie+=he:(Je.returnEnd||Je.excludeEnd||(Ie+=he),Me(),Je.excludeEnd&&(Ie=he));do ge.scope&&ve.closeNode(),ge.skip||ge.subLanguage||(Xt+=ge.relevance),ge=ge.parent;while(ge!==He.parent);return He.starts&&et(He.starts,Q),Je.returnEnd?0:he.length}let $t={};function vn(Q,he){const We=he&&he[0];if(Ie+=Q,We==null)return Me(),0;if($t.type==="begin"&&he.type==="end"&&$t.index===he.index&&We===""){if(Ie+=ie.slice(he.index,he.index+1),!L){const He=Error(`0 width match regex (${X})`);throw He.languageName=X,He.badRule=$t.rule,He}return 1}if($t=he,he.type==="begin")return(He=>{const Je=He[0],pt=He.rule,nn=new e(pt),Ui=[pt.__beforeBegin,pt["on:begin"]];for(const Ws of Ui)if(Ws&&(Ws(He,nn),nn.isMatchIgnored))return Nn(Je);return pt.skip?Ie+=Je:(pt.excludeBegin&&(Ie+=Je),Me(),pt.returnBegin||pt.excludeBegin||(Ie=Je)),et(pt,He),pt.returnBegin?0:Je.length})(he);if(he.type==="illegal"&&!me){const He=Error('Illegal lexeme "'+We+'" for mode "'+(ge.scope||"<unnamed>")+'"');throw He.mode=ge,He}if(he.type==="end"){const He=bn(he);if(He!==z)return He}if(he.type==="illegal"&&We==="")return Ie+=`
`,1;if(Hi>1e5&&Hi>3*he.index)throw Error("potential infinite loop, way more iterations than matches");return Ie+=We,We.length}const _t=ke(X);if(!_t)throw wt(k.replace("{}",X)),Error('Unknown language: "'+X+'"');const us=y(_t);let An="",ge=Ke||us;const Xs={},ve=new A.__emitter(A);(()=>{const Q=[];for(let he=ge;he!==_t;he=he.parent)he.scope&&Q.unshift(he.scope);Q.forEach(he=>ve.openNode(he))})();let Ie="",Xt=0,tn=0,Hi=0,qi=!1;try{if(_t.__emitTokens)_t.__emitTokens(ie,ve);else{for(ge.matcher.considerAll();;){Hi++,qi?qi=!1:ge.matcher.considerAll(),ge.matcher.lastIndex=tn;const Q=ge.matcher.exec(ie);if(!Q)break;const he=vn(ie.substring(tn,Q.index),Q);tn=Q.index+he}vn(ie.substring(tn))}return ve.finalize(),An=ve.toHTML(),{language:X,value:An,relevance:Xt,illegal:!1,_emitter:ve,_top:ge}}catch(Q){if(Q.message&&Q.message.includes("Illegal"))return{language:X,value:M(ie),illegal:!0,relevance:0,_illegalBy:{message:Q.message,index:tn,context:ie.slice(tn-100,tn+100),mode:Q.mode,resultSoFar:An},_emitter:ve};if(L)return{language:X,value:M(ie),illegal:!1,relevance:0,errorRaised:Q,_emitter:ve,_top:ge};throw Q}}function ue(X,ie){ie=ie||A.languages||Object.keys(f);const me=(Ae=>{const et={value:M(Ae),illegal:!1,relevance:0,_top:C,_emitter:new A.__emitter(A)};return et._emitter.addText(Ae),et})(X),Ke=ie.filter(ke).filter(bt).map(Ae=>G(Ae,X,!1));Ke.unshift(me);const Xe=Ke.sort((Ae,et)=>{if(Ae.relevance!==et.relevance)return et.relevance-Ae.relevance;if(Ae.language&&et.language){if(ke(Ae.language).supersetOf===et.language)return 1;if(ke(et.language).supersetOf===Ae.language)return-1}return 0}),[Fe,Me]=Xe,Te=Fe;return Te.secondBest=Me,Te}function J(X){let ie=null;const me=(Fe=>{let Me=Fe.className+" ";Me+=Fe.parentNode?Fe.parentNode.className:"";const Te=A.languageDetectRe.exec(Me);if(Te){const Ae=ke(Te[1]);return Ae||(qt(k.replace("{}",Te[1])),qt("Falling back to no-highlight mode for this block.",Fe)),Ae?Te[1]:"no-highlight"}return Me.split(/\s+/).find(Ae=>F(Ae)||ke(Ae))})(X);if(F(me))return;if(it("before:highlightElement",{el:X,language:me}),X.dataset.highlighted)return void console.log("Element previously highlighted. To highlight again, first unset `dataset.highlighted`.",X);if(X.children.length>0&&(A.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(X)),A.throwUnescapedHTML))throw new I("One of your code blocks includes unescaped HTML.",X.innerHTML);ie=X;const Ke=ie.textContent,Xe=me?H(Ke,{language:me,ignoreIllegals:!0}):ue(Ke);X.innerHTML=Xe.value,X.dataset.highlighted="yes",((Fe,Me,Te)=>{const Ae=Me&&v[Me]||Te;Fe.classList.add("hljs"),Fe.classList.add("language-"+Ae)})(X,me,Xe.language),X.result={language:Xe.language,re:Xe.relevance,relevance:Xe.relevance},Xe.secondBest&&(X.secondBest={language:Xe.secondBest.language,relevance:Xe.secondBest.relevance}),it("after:highlightElement",{el:X,result:Xe,text:Ke})}let ye=!1;function Ee(){if(document.readyState==="loading")return ye||window.addEventListener("DOMContentLoaded",()=>{Ee()},!1),void(ye=!0);document.querySelectorAll(A.cssSelector).forEach(J)}function ke(X){return X=(X||"").toLowerCase(),f[X]||f[v[X]]}function Ge(X,{languageName:ie}){typeof X=="string"&&(X=[X]),X.forEach(me=>{v[me.toLowerCase()]=ie})}function bt(X){const ie=ke(X);return ie&&!ie.disableAutodetect}function it(X,ie){const me=X;S.forEach(Ke=>{Ke[me]&&Ke[me](ie)})}Object.assign(u,{highlight:H,highlightAuto:ue,highlightAll:Ee,highlightElement:J,highlightBlock:X=>(Lt("10.7.0","highlightBlock will be removed entirely in v12.0"),Lt("10.7.0","Please use highlightElement now."),J(X)),configure:X=>{A=O(A,X)},initHighlighting:()=>{Ee(),Lt("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")},initHighlightingOnLoad:()=>{Ee(),Lt("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")},registerLanguage:(X,ie)=>{let me=null;try{me=ie(u)}catch(Ke){if(wt("Language definition for '{}' could not be registered.".replace("{}",X)),!L)throw Ke;wt(Ke),me=C}me.name||(me.name=X),f[X]=me,me.rawDefinition=ie.bind(null,u),me.aliases&&Ge(me.aliases,{languageName:X})},unregisterLanguage:X=>{delete f[X];for(const ie of Object.keys(v))v[ie]===X&&delete v[ie]},listLanguages:()=>Object.keys(f),getLanguage:ke,registerAliases:Ge,autoDetection:bt,inherit:O,addPlugin:X=>{(ie=>{ie["before:highlightBlock"]&&!ie["before:highlightElement"]&&(ie["before:highlightElement"]=me=>{ie["before:highlightBlock"](Object.assign({block:me.el},me))}),ie["after:highlightBlock"]&&!ie["after:highlightElement"]&&(ie["after:highlightElement"]=me=>{ie["after:highlightBlock"](Object.assign({block:me.el},me))})})(X),S.push(X)},removePlugin:X=>{const ie=S.indexOf(X);ie!==-1&&S.splice(ie,1)}}),u.debugMode=()=>{L=!1},u.safeMode=()=>{L=!0},u.versionString="11.11.1",u.regex={concat:m,lookahead:d,either:b,optional:p,anyNumberOfTimes:h};for(const X in ce)typeof ce[X]=="object"&&t(ce[X]);return Object.assign(u,ce),u},q=U({});q.newInstance=()=>U({});const j=u=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:u.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[u.APOS_STRING_MODE,u.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:u.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),ae=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video","defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],W=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),ne=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),pe=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),Se=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse(),je=ne.concat(pe).sort().reverse();var Ne="[0-9](_*[0-9])*",ht=`\\.(${Ne})`,at="[0-9a-fA-F](_*[0-9a-fA-F])*",mt={className:"number",variants:[{begin:`(\\b(${Ne})((${ht})|\\.)?|(${ht}))[eE][+-]?(${Ne})[fFdD]?\\b`},{begin:`\\b(${Ne})((${ht})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${ht})[fFdD]?\\b`},{begin:`\\b(${Ne})[fFdD]\\b`},{begin:`\\b0[xX]((${at})\\.?|(${at})?\\.(${at}))[pP][+-]?(${Ne})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${at})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function gn(u,f,v){return v===-1?"":u.replace(f,S=>gn(u,f,v-1))}const Ut="[A-Za-z$_][0-9A-Za-z$_]*",ls=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],gt=["true","false","null","undefined","NaN","Infinity"],Ct=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],cs=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],Xa=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],Wa=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],Ga=[].concat(Xa,Ct,cs);function Ka(u){const f=u.regex,v=Ut,S={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(et,Nt)=>{const Nn=et[0].length+et.index,bn=et.input[Nn];if(bn==="<"||bn===",")return void Nt.ignoreMatch();let $t;bn===">"&&(((_t,{after:us})=>{const An="</"+_t[0].slice(1);return _t.input.indexOf(An,us)!==-1})(et,{after:Nn})||Nt.ignoreMatch());const vn=et.input.substring(Nn);(($t=vn.match(/^\s*=/))||($t=vn.match(/^\s+extends\s+/))&&$t.index===0)&&Nt.ignoreMatch()}},L={$pattern:Ut,keyword:ls,literal:gt,built_in:Ga,"variable.language":Wa},k="[0-9](_?[0-9])*",C=`\\.(${k})`,A="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",F={className:"number",variants:[{begin:`(\\b(${A})((${C})|\\.)?|(${C}))[eE][+-]?(${k})\\b`},{begin:`\\b(${A})\\b((${C})\\b|\\.)?|(${C})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},H={className:"subst",begin:"\\$\\{",end:"\\}",keywords:L,contains:[]},G={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[u.BACKSLASH_ESCAPE,H],subLanguage:"xml"}},ue={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[u.BACKSLASH_ESCAPE,H],subLanguage:"css"}},J={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[u.BACKSLASH_ESCAPE,H],subLanguage:"graphql"}},ye={className:"string",begin:"`",end:"`",contains:[u.BACKSLASH_ESCAPE,H]},Ee={className:"comment",variants:[u.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:v+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),u.C_BLOCK_COMMENT_MODE,u.C_LINE_COMMENT_MODE]},ke=[u.APOS_STRING_MODE,u.QUOTE_STRING_MODE,G,ue,J,ye,{match:/\$\d+/},F];H.contains=ke.concat({begin:/\{/,end:/\}/,keywords:L,contains:["self"].concat(ke)});const Ge=[].concat(Ee,H.contains),bt=Ge.concat([{begin:/(\s*)\(/,end:/\)/,keywords:L,contains:["self"].concat(Ge)}]),it={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:L,contains:bt},X={variants:[{match:[/class/,/\s+/,v,/\s+/,/extends/,/\s+/,f.concat(v,"(",f.concat(/\./,v),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,v],scope:{1:"keyword",3:"title.class"}}]},ie={relevance:0,match:f.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...Ct,...cs]}},me={variants:[{match:[/function/,/\s+/,v,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[it],illegal:/%/},Ke={match:f.concat(/\b/,(Xe=[...Xa,"super","import"].map(et=>et+"\\s*\\("),f.concat("(?!",Xe.join("|"),")")),v,f.lookahead(/\s*\(/)),className:"title.function",relevance:0};var Xe;const Fe={begin:f.concat(/\./,f.lookahead(f.concat(v,/(?![0-9A-Za-z$_(])/))),end:v,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},Me={match:[/get|set/,/\s+/,v,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},it]},Te="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+u.UNDERSCORE_IDENT_RE+")\\s*=>",Ae={match:[/const|var|let/,/\s+/,v,/\s*/,/=\s*/,/(async\s*)?/,f.lookahead(Te)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[it]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:L,exports:{PARAMS_CONTAINS:bt,CLASS_REFERENCE:ie},illegal:/#(?![$_A-z])/,contains:[u.SHEBANG({label:"shebang",binary:"node",relevance:5}),{label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},u.APOS_STRING_MODE,u.QUOTE_STRING_MODE,G,ue,J,ye,Ee,{match:/\$\d+/},F,ie,{scope:"attr",match:v+f.lookahead(":"),relevance:0},Ae,{begin:"("+u.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[Ee,u.REGEXP_MODE,{className:"function",begin:Te,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:u.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:L,contains:bt}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:"<>",end:"</>"},{match:/<[A-Za-z0-9\\._:-]+\s*\/>/},{begin:S.begin,"on:begin":S.isTrulyOpeningTag,end:S.end}],subLanguage:"xml",contains:[{begin:S.begin,end:S.end,skip:!0,contains:["self"]}]}]},me,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+u.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[it,u.inherit(u.TITLE_MODE,{begin:v,className:"title.function"})]},{match:/\.\.\./,relevance:0},Fe,{match:"\\$"+v,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[it]},Ke,{relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"},X,Me,{match:/\$[(.]/}]}}const zi=u=>m(/\b/,u,/\w$/.test(u)?/\b/:/\B/),Gl=["Protocol","Type"].map(zi),Za=["init","self"].map(zi),Kl=["Any","Self"],ji=["actor","any","associatedtype","async","await",/as\?/,/as!/,"as","borrowing","break","case","catch","class","consume","consuming","continue","convenience","copy","default","defer","deinit","didSet","distributed","do","dynamic","each","else","enum","extension","fallthrough",/fileprivate\(set\)/,"fileprivate","final","for","func","get","guard","if","import","indirect","infix",/init\?/,/init!/,"inout",/internal\(set\)/,"internal","in","is","isolated","nonisolated","lazy","let","macro","mutating","nonmutating",/open\(set\)/,"open","operator","optional","override","package","postfix","precedencegroup","prefix",/private\(set\)/,"private","protocol",/public\(set\)/,"public","repeat","required","rethrows","return","set","some","static","struct","subscript","super","switch","throws","throw",/try\?/,/try!/,"try","typealias",/unowned\(safe\)/,/unowned\(unsafe\)/,"unowned","var","weak","where","while","willSet"],Qa=["false","nil","true"],Zl=["assignment","associativity","higherThan","left","lowerThan","none","right"],Ql=["#colorLiteral","#column","#dsohandle","#else","#elseif","#endif","#error","#file","#fileID","#fileLiteral","#filePath","#function","#if","#imageLiteral","#keyPath","#line","#selector","#sourceLocation","#warning"],Ya=["abs","all","any","assert","assertionFailure","debugPrint","dump","fatalError","getVaList","isKnownUniquelyReferenced","max","min","numericCast","pointwiseMax","pointwiseMin","precondition","preconditionFailure","print","readLine","repeatElement","sequence","stride","swap","swift_unboxFromSwiftValueWithType","transcode","type","unsafeBitCast","unsafeDowncast","withExtendedLifetime","withUnsafeMutablePointer","withUnsafePointer","withVaList","withoutActuallyEscaping","zip"],Ja=b(/[/=\-+!*%<>&|^~?]/,/[\u00A1-\u00A7]/,/[\u00A9\u00AB]/,/[\u00AC\u00AE]/,/[\u00B0\u00B1]/,/[\u00B6\u00BB\u00BF\u00D7\u00F7]/,/[\u2016-\u2017]/,/[\u2020-\u2027]/,/[\u2030-\u203E]/,/[\u2041-\u2053]/,/[\u2055-\u205E]/,/[\u2190-\u23FF]/,/[\u2500-\u2775]/,/[\u2794-\u2BFF]/,/[\u2E00-\u2E7F]/,/[\u3001-\u3003]/,/[\u3008-\u3020]/,/[\u3030]/),er=b(Ja,/[\u0300-\u036F]/,/[\u1DC0-\u1DFF]/,/[\u20D0-\u20FF]/,/[\uFE00-\uFE0F]/,/[\uFE20-\uFE2F]/),Fi=m(Ja,er,"*"),tr=b(/[a-zA-Z_]/,/[\u00A8\u00AA\u00AD\u00AF\u00B2-\u00B5\u00B7-\u00BA]/,/[\u00BC-\u00BE\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF]/,/[\u0100-\u02FF\u0370-\u167F\u1681-\u180D\u180F-\u1DBF]/,/[\u1E00-\u1FFF]/,/[\u200B-\u200D\u202A-\u202E\u203F-\u2040\u2054\u2060-\u206F]/,/[\u2070-\u20CF\u2100-\u218F\u2460-\u24FF\u2776-\u2793]/,/[\u2C00-\u2DFF\u2E80-\u2FFF]/,/[\u3004-\u3007\u3021-\u302F\u3031-\u303F\u3040-\uD7FF]/,/[\uF900-\uFD3D\uFD40-\uFDCF\uFDF0-\uFE1F\uFE30-\uFE44]/,/[\uFE47-\uFEFE\uFF00-\uFFFD]/),Us=b(tr,/\d/,/[\u0300-\u036F\u1DC0-\u1DFF\u20D0-\u20FF\uFE20-\uFE2F]/),Vt=m(tr,Us,"*"),Vs=m(/[A-Z]/,Us,"*"),Yl=["attached","autoclosure",m(/convention\(/,b("swift","block","c"),/\)/),"discardableResult","dynamicCallable","dynamicMemberLookup","escaping","freestanding","frozen","GKInspectable","IBAction","IBDesignable","IBInspectable","IBOutlet","IBSegueAction","inlinable","main","nonobjc","NSApplicationMain","NSCopying","NSManaged",m(/objc\(/,Vt,/\)/),"objc","objcMembers","propertyWrapper","requires_stored_property_inits","resultBuilder","Sendable","testable","UIApplicationMain","unchecked","unknown","usableFromInline","warn_unqualified_access"],Jl=["iOS","iOSApplicationExtension","macOS","macOSApplicationExtension","macCatalyst","macCatalystApplicationExtension","watchOS","watchOSApplicationExtension","tvOS","tvOSApplicationExtension","swift"];var nr=Object.freeze({__proto__:null,grmr_bash:u=>{const f=u.regex,v={},S={begin:/\$\{/,end:/\}/,contains:["self",{begin:/:-/,contains:[v]}]};Object.assign(v,{className:"variable",variants:[{begin:f.concat(/\$[\w\d#@][\w\d_]*/,"(?![\\w\\d])(?![$])")},S]});const L={className:"subst",begin:/\$\(/,end:/\)/,contains:[u.BACKSLASH_ESCAPE]},k=u.inherit(u.COMMENT(),{match:[/(^|\s)/,/#.*$/],scope:{2:"comment"}}),C={begin:/<<-?\s*(?=\w+)/,starts:{contains:[u.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,className:"string"})]}},A={className:"string",begin:/"/,end:/"/,contains:[u.BACKSLASH_ESCAPE,v,L]};L.contains.push(A);const F={begin:/\$?\(\(/,end:/\)\)/,contains:[{begin:/\d+#[0-9a-f]+/,className:"number"},u.NUMBER_MODE,v]},H=u.SHEBANG({binary:"(fish|bash|zsh|sh|csh|ksh|tcsh|dash|scsh)",relevance:10}),G={className:"function",begin:/\w[\w\d_]*\s*\(\s*\)\s*\{/,returnBegin:!0,contains:[u.inherit(u.TITLE_MODE,{begin:/\w[\w\d_]*/})],relevance:0};return{name:"Bash",aliases:["sh","zsh"],keywords:{$pattern:/\b[a-z][a-z0-9._-]+\b/,keyword:["if","then","else","elif","fi","time","for","while","until","in","do","done","case","esac","coproc","function","select"],literal:["true","false"],built_in:["break","cd","continue","eval","exec","exit","export","getopts","hash","pwd","readonly","return","shift","test","times","trap","umask","unset","alias","bind","builtin","caller","command","declare","echo","enable","help","let","local","logout","mapfile","printf","read","readarray","source","sudo","type","typeset","ulimit","unalias","set","shopt","autoload","bg","bindkey","bye","cap","chdir","clone","comparguments","compcall","compctl","compdescribe","compfiles","compgroups","compquote","comptags","comptry","compvalues","dirs","disable","disown","echotc","echoti","emulate","fc","fg","float","functions","getcap","getln","history","integer","jobs","kill","limit","log","noglob","popd","print","pushd","pushln","rehash","sched","setcap","setopt","stat","suspend","ttyctl","unfunction","unhash","unlimit","unsetopt","vared","wait","whence","where","which","zcompile","zformat","zftp","zle","zmodload","zparseopts","zprof","zpty","zregexparse","zsocket","zstyle","ztcp","chcon","chgrp","chown","chmod","cp","dd","df","dir","dircolors","ln","ls","mkdir","mkfifo","mknod","mktemp","mv","realpath","rm","rmdir","shred","sync","touch","truncate","vdir","b2sum","base32","base64","cat","cksum","comm","csplit","cut","expand","fmt","fold","head","join","md5sum","nl","numfmt","od","paste","ptx","pr","sha1sum","sha224sum","sha256sum","sha384sum","sha512sum","shuf","sort","split","sum","tac","tail","tr","tsort","unexpand","uniq","wc","arch","basename","chroot","date","dirname","du","echo","env","expr","factor","groups","hostid","id","link","logname","nice","nohup","nproc","pathchk","pinky","printenv","printf","pwd","readlink","runcon","seq","sleep","stat","stdbuf","stty","tee","test","timeout","tty","uname","unlink","uptime","users","who","whoami","yes"]},contains:[H,u.SHEBANG(),G,F,k,C,{match:/(\/[a-z._-]+)+/},A,{match:/\\"/},{className:"string",begin:/'/,end:/'/},{match:/\\'/},v]}},grmr_c:u=>{const f=u.regex,v=u.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),S="decltype\\(auto\\)",L="[a-zA-Z_]\\w*::",k="("+S+"|"+f.optional(L)+"[a-zA-Z_]\\w*"+f.optional("<[^<>]+>")+")",C={className:"type",variants:[{begin:"\\b[a-z\\d_]*_t\\b"},{match:/\batomic_[a-z]{3,6}\b/}]},A={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[u.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'(\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)|.)",end:"'",illegal:"."},u.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},F={className:"number",variants:[{match:/\b(0b[01']+)/},{match:/(-?)\b([\d']+(\.[\d']*)?|\.[\d']+)((ll|LL|l|L)(u|U)?|(u|U)(ll|LL|l|L)?|f|F|b|B)/},{match:/(-?)\b(0[xX][a-fA-F0-9]+(?:'[a-fA-F0-9]+)*(?:\.[a-fA-F0-9]*(?:'[a-fA-F0-9]*)*)?(?:[pP][-+]?[0-9]+)?(l|L)?(u|U)?)/},{match:/(-?)\b\d+(?:'\d+)*(?:\.\d*(?:'\d*)*)?(?:[eE][-+]?\d+)?/}],relevance:0},H={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef elifdef elifndef include"},contains:[{begin:/\\\n/,relevance:0},u.inherit(A,{className:"string"}),{className:"string",begin:/<.*?>/},v,u.C_BLOCK_COMMENT_MODE]},G={className:"title",begin:f.optional(L)+u.IDENT_RE,relevance:0},ue=f.optional(L)+u.IDENT_RE+"\\s*\\(",J={keyword:["asm","auto","break","case","continue","default","do","else","enum","extern","for","fortran","goto","if","inline","register","restrict","return","sizeof","typeof","typeof_unqual","struct","switch","typedef","union","volatile","while","_Alignas","_Alignof","_Atomic","_Generic","_Noreturn","_Static_assert","_Thread_local","alignas","alignof","noreturn","static_assert","thread_local","_Pragma"],type:["float","double","signed","unsigned","int","short","long","char","void","_Bool","_BitInt","_Complex","_Imaginary","_Decimal32","_Decimal64","_Decimal96","_Decimal128","_Decimal64x","_Decimal128x","_Float16","_Float32","_Float64","_Float128","_Float32x","_Float64x","_Float128x","const","static","constexpr","complex","bool","imaginary"],literal:"true false NULL",built_in:"std string wstring cin cout cerr clog stdin stdout stderr stringstream istringstream ostringstream auto_ptr deque list queue stack vector map set pair bitset multiset multimap unordered_set unordered_map unordered_multiset unordered_multimap priority_queue make_pair array shared_ptr abort terminate abs acos asin atan2 atan calloc ceil cosh cos exit exp fabs floor fmod fprintf fputs free frexp fscanf future isalnum isalpha iscntrl isdigit isgraph islower isprint ispunct isspace isupper isxdigit tolower toupper labs ldexp log10 log malloc realloc memchr memcmp memcpy memset modf pow printf putchar puts scanf sinh sin snprintf sprintf sqrt sscanf strcat strchr strcmp strcpy strcspn strlen strncat strncmp strncpy strpbrk strrchr strspn strstr tanh tan vfprintf vprintf vsprintf endl initializer_list unique_ptr"},ye=[H,C,v,u.C_BLOCK_COMMENT_MODE,F,A],Ee={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:J,contains:ye.concat([{begin:/\(/,end:/\)/,keywords:J,contains:ye.concat(["self"]),relevance:0}]),relevance:0},ke={begin:"("+k+"[\\*&\\s]+)+"+ue,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:J,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:S,keywords:J,relevance:0},{begin:ue,returnBegin:!0,contains:[u.inherit(G,{className:"title.function"})],relevance:0},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:J,relevance:0,contains:[v,u.C_BLOCK_COMMENT_MODE,A,F,C,{begin:/\(/,end:/\)/,keywords:J,relevance:0,contains:["self",v,u.C_BLOCK_COMMENT_MODE,A,F,C]}]},C,v,u.C_BLOCK_COMMENT_MODE,H]};return{name:"C",aliases:["h"],keywords:J,disableAutodetect:!0,illegal:"</",contains:[].concat(Ee,ke,ye,[H,{begin:u.IDENT_RE+"::",keywords:J},{className:"class",beginKeywords:"enum class struct union",end:/[{;:<>=]/,contains:[{beginKeywords:"final class struct"},u.TITLE_MODE]}]),exports:{preprocessor:H,strings:A,keywords:J}}},grmr_cpp:u=>{const f=u.regex,v=u.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),S="decltype\\(auto\\)",L="[a-zA-Z_]\\w*::",k="(?!struct)("+S+"|"+f.optional(L)+"[a-zA-Z_]\\w*"+f.optional("<[^<>]+>")+")",C={className:"type",begin:"\\b[a-z\\d_]*_t\\b"},A={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[u.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'(\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)|.)",end:"'",illegal:"."},u.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},F={className:"number",variants:[{begin:"[+-]?(?:(?:[0-9](?:'?[0-9])*\\.(?:[0-9](?:'?[0-9])*)?|\\.[0-9](?:'?[0-9])*)(?:[Ee][+-]?[0-9](?:'?[0-9])*)?|[0-9](?:'?[0-9])*[Ee][+-]?[0-9](?:'?[0-9])*|0[Xx](?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*(?:\\.(?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)?)?|\\.[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)[Pp][+-]?[0-9](?:'?[0-9])*)(?:[Ff](?:16|32|64|128)?|(BF|bf)16|[Ll]|)"},{begin:"[+-]?\\b(?:0[Bb][01](?:'?[01])*|0[Xx][0-9A-Fa-f](?:'?[0-9A-Fa-f])*|0(?:'?[0-7])*|[1-9](?:'?[0-9])*)(?:[Uu](?:LL?|ll?)|[Uu][Zz]?|(?:LL?|ll?)[Uu]?|[Zz][Uu]|)"}],relevance:0},H={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},u.inherit(A,{className:"string"}),{className:"string",begin:/<.*?>/},v,u.C_BLOCK_COMMENT_MODE]},G={className:"title",begin:f.optional(L)+u.IDENT_RE,relevance:0},ue=f.optional(L)+u.IDENT_RE+"\\s*\\(",J={type:["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],keyword:["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],_type_hints:["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","flat_map","flat_set","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"]},ye={className:"function.dispatch",relevance:0,keywords:{_hint:["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"]},begin:f.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,u.IDENT_RE,f.lookahead(/(<[^<>]+>|)\s*\(/))},Ee=[ye,H,C,v,u.C_BLOCK_COMMENT_MODE,F,A],ke={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:J,contains:Ee.concat([{begin:/\(/,end:/\)/,keywords:J,contains:Ee.concat(["self"]),relevance:0}]),relevance:0},Ge={className:"function",begin:"("+k+"[\\*&\\s]+)+"+ue,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:J,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:S,keywords:J,relevance:0},{begin:ue,returnBegin:!0,contains:[G],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[A,F]},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:J,relevance:0,contains:[v,u.C_BLOCK_COMMENT_MODE,A,F,C,{begin:/\(/,end:/\)/,keywords:J,relevance:0,contains:["self",v,u.C_BLOCK_COMMENT_MODE,A,F,C]}]},C,v,u.C_BLOCK_COMMENT_MODE,H]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:J,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(ke,Ge,ye,Ee,[H,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function|flat_map|flat_set)\\s*<(?!<)",end:">",keywords:J,contains:["self",C]},{begin:u.IDENT_RE+"::",keywords:J},{match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],className:{1:"keyword",3:"title.class"}}])}},grmr_csharp:u=>{const f={keyword:["abstract","as","base","break","case","catch","class","const","continue","do","else","event","explicit","extern","finally","fixed","for","foreach","goto","if","implicit","in","interface","internal","is","lock","namespace","new","operator","out","override","params","private","protected","public","readonly","record","ref","return","scoped","sealed","sizeof","stackalloc","static","struct","switch","this","throw","try","typeof","unchecked","unsafe","using","virtual","void","volatile","while"].concat(["add","alias","and","ascending","args","async","await","by","descending","dynamic","equals","file","from","get","global","group","init","into","join","let","nameof","not","notnull","on","or","orderby","partial","record","remove","required","scoped","select","set","unmanaged","value|0","var","when","where","with","yield"]),built_in:["bool","byte","char","decimal","delegate","double","dynamic","enum","float","int","long","nint","nuint","object","sbyte","short","string","ulong","uint","ushort"],literal:["default","false","null","true"]},v=u.inherit(u.TITLE_MODE,{begin:"[a-zA-Z](\\.?\\w)*"}),S={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)(u|U|l|L|ul|UL|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},L={className:"string",begin:'@"',end:'"',contains:[{begin:'""'}]},k=u.inherit(L,{illegal:/\n/}),C={className:"subst",begin:/\{/,end:/\}/,keywords:f},A=u.inherit(C,{illegal:/\n/}),F={className:"string",begin:/\$"/,end:'"',illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},u.BACKSLASH_ESCAPE,A]},H={className:"string",begin:/\$@"/,end:'"',contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},C]},G=u.inherit(H,{illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},A]});C.contains=[H,F,L,u.APOS_STRING_MODE,u.QUOTE_STRING_MODE,S,u.C_BLOCK_COMMENT_MODE],A.contains=[G,F,k,u.APOS_STRING_MODE,u.QUOTE_STRING_MODE,S,u.inherit(u.C_BLOCK_COMMENT_MODE,{illegal:/\n/})];const ue={variants:[{className:"string",begin:/"""("*)(?!")(.|\n)*?"""\1/,relevance:1},H,F,L,u.APOS_STRING_MODE,u.QUOTE_STRING_MODE]},J={begin:"<",end:">",contains:[{beginKeywords:"in out"},v]},ye=u.IDENT_RE+"(<"+u.IDENT_RE+"(\\s*,\\s*"+u.IDENT_RE+")*>)?(\\[\\])?",Ee={begin:"@"+u.IDENT_RE,relevance:0};return{name:"C#",aliases:["cs","c#"],keywords:f,illegal:/::/,contains:[u.COMMENT("///","$",{returnBegin:!0,contains:[{className:"doctag",variants:[{begin:"///",relevance:0},{begin:"<!--|-->"},{begin:"</?",end:">"}]}]}),u.C_LINE_COMMENT_MODE,u.C_BLOCK_COMMENT_MODE,{className:"meta",begin:"#",end:"$",keywords:{keyword:"if else elif endif define undef warning error line region endregion pragma checksum"}},ue,S,{beginKeywords:"class interface",relevance:0,end:/[{;=]/,illegal:/[^\s:,]/,contains:[{beginKeywords:"where class"},v,J,u.C_LINE_COMMENT_MODE,u.C_BLOCK_COMMENT_MODE]},{beginKeywords:"namespace",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[v,u.C_LINE_COMMENT_MODE,u.C_BLOCK_COMMENT_MODE]},{beginKeywords:"record",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[v,J,u.C_LINE_COMMENT_MODE,u.C_BLOCK_COMMENT_MODE]},{className:"meta",begin:"^\\s*\\[(?=[\\w])",excludeBegin:!0,end:"\\]",excludeEnd:!0,contains:[{className:"string",begin:/"/,end:/"/}]},{beginKeywords:"new return throw await else",relevance:0},{className:"function",begin:"("+ye+"\\s+)+"+u.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,end:/\s*[{;=]/,excludeEnd:!0,keywords:f,contains:[{beginKeywords:"public private protected static internal protected abstract async extern override unsafe virtual new sealed partial",relevance:0},{begin:u.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,contains:[u.TITLE_MODE,J],relevance:0},{match:/\(\)/},{className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:f,relevance:0,contains:[ue,S,u.C_BLOCK_COMMENT_MODE]},u.C_LINE_COMMENT_MODE,u.C_BLOCK_COMMENT_MODE]},Ee]}},grmr_css:u=>{const f=u.regex,v=j(u),S=[u.APOS_STRING_MODE,u.QUOTE_STRING_MODE];return{name:"CSS",case_insensitive:!0,illegal:/[=|'\$]/,keywords:{keyframePosition:"from to"},classNameAliases:{keyframePosition:"selector-tag"},contains:[v.BLOCK_COMMENT,{begin:/-(webkit|moz|ms|o)-(?=[a-z])/},v.CSS_NUMBER_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/,relevance:0},{className:"selector-class",begin:"\\.[a-zA-Z-][a-zA-Z0-9_-]*",relevance:0},v.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",variants:[{begin:":("+ne.join("|")+")"},{begin:":(:)?("+pe.join("|")+")"}]},v.CSS_VARIABLE,{className:"attribute",begin:"\\b("+Se.join("|")+")\\b"},{begin:/:/,end:/[;}{]/,contains:[v.BLOCK_COMMENT,v.HEXCOLOR,v.IMPORTANT,v.CSS_NUMBER_MODE,...S,{begin:/(url|data-uri)\(/,end:/\)/,relevance:0,keywords:{built_in:"url data-uri"},contains:[...S,{className:"string",begin:/[^)]/,endsWithParent:!0,excludeEnd:!0}]},v.FUNCTION_DISPATCH]},{begin:f.lookahead(/@/),end:"[{;]",relevance:0,illegal:/:/,contains:[{className:"keyword",begin:/@-?\w[\w]*(-\w+)*/},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,keywords:{$pattern:/[a-z-]+/,keyword:"and or not only",attribute:W.join(" ")},contains:[{begin:/[a-z-]+(?=:)/,className:"attribute"},...S,v.CSS_NUMBER_MODE]}]},{className:"selector-tag",begin:"\\b("+ae.join("|")+")\\b"}]}},grmr_diff:u=>{const f=u.regex;return{name:"Diff",aliases:["patch"],contains:[{className:"meta",relevance:10,match:f.either(/^@@ +-\d+,\d+ +\+\d+,\d+ +@@/,/^\*\*\* +\d+,\d+ +\*\*\*\*$/,/^--- +\d+,\d+ +----$/)},{className:"comment",variants:[{begin:f.either(/Index: /,/^index/,/={3,}/,/^-{3}/,/^\*{3} /,/^\+{3}/,/^diff --git/),end:/$/},{match:/^\*{15}$/}]},{className:"addition",begin:/^\+/,end:/$/},{className:"deletion",begin:/^-/,end:/$/},{className:"addition",begin:/^!/,end:/$/}]}},grmr_go:u=>{const f={keyword:["break","case","chan","const","continue","default","defer","else","fallthrough","for","func","go","goto","if","import","interface","map","package","range","return","select","struct","switch","type","var"],type:["bool","byte","complex64","complex128","error","float32","float64","int8","int16","int32","int64","string","uint8","uint16","uint32","uint64","int","uint","uintptr","rune"],literal:["true","false","iota","nil"],built_in:["append","cap","close","complex","copy","imag","len","make","new","panic","print","println","real","recover","delete"]};return{name:"Go",aliases:["golang"],keywords:f,illegal:"</",contains:[u.C_LINE_COMMENT_MODE,u.C_BLOCK_COMMENT_MODE,{className:"string",variants:[u.QUOTE_STRING_MODE,u.APOS_STRING_MODE,{begin:"`",end:"`"}]},{className:"number",variants:[{match:/-?\b0[xX]\.[a-fA-F0-9](_?[a-fA-F0-9])*[pP][+-]?\d(_?\d)*i?/,relevance:0},{match:/-?\b0[xX](_?[a-fA-F0-9])+((\.([a-fA-F0-9](_?[a-fA-F0-9])*)?)?[pP][+-]?\d(_?\d)*)?i?/,relevance:0},{match:/-?\b0[oO](_?[0-7])*i?/,relevance:0},{match:/-?\.\d(_?\d)*([eE][+-]?\d(_?\d)*)?i?/,relevance:0},{match:/-?\b\d(_?\d)*(\.(\d(_?\d)*)?)?([eE][+-]?\d(_?\d)*)?i?/,relevance:0}]},{begin:/:=/},{className:"function",beginKeywords:"func",end:"\\s*(\\{|$)",excludeEnd:!0,contains:[u.TITLE_MODE,{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:f,illegal:/["']/}]}]}},grmr_graphql:u=>{const f=u.regex;return{name:"GraphQL",aliases:["gql"],case_insensitive:!0,disableAutodetect:!1,keywords:{keyword:["query","mutation","subscription","type","input","schema","directive","interface","union","scalar","fragment","enum","on"],literal:["true","false","null"]},contains:[u.HASH_COMMENT_MODE,u.QUOTE_STRING_MODE,u.NUMBER_MODE,{scope:"punctuation",match:/[.]{3}/,relevance:0},{scope:"punctuation",begin:/[\!\(\)\:\=\[\]\{\|\}]{1}/,relevance:0},{scope:"variable",begin:/\$/,end:/\W/,excludeEnd:!0,relevance:0},{scope:"meta",match:/@\w+/,excludeEnd:!0},{scope:"symbol",begin:f.concat(/[_A-Za-z][_0-9A-Za-z]*/,f.lookahead(/\s*:/)),relevance:0}],illegal:[/[;<']/,/BEGIN/]}},grmr_ini:u=>{const f=u.regex,v={className:"number",relevance:0,variants:[{begin:/([+-]+)?[\d]+_[\d_]+/},{begin:u.NUMBER_RE}]},S=u.COMMENT();S.variants=[{begin:/;/,end:/$/},{begin:/#/,end:/$/}];const L={className:"variable",variants:[{begin:/\$[\w\d"][\w\d_]*/},{begin:/\$\{(.*?)\}/}]},k={className:"literal",begin:/\bon|off|true|false|yes|no\b/},C={className:"string",contains:[u.BACKSLASH_ESCAPE],variants:[{begin:"'''",end:"'''",relevance:10},{begin:'"""',end:'"""',relevance:10},{begin:'"',end:'"'},{begin:"'",end:"'"}]},A={begin:/\[/,end:/\]/,contains:[S,k,L,C,v,"self"],relevance:0},F=f.either(/[A-Za-z0-9_-]+/,/"(\\"|[^"])*"/,/'[^']*'/);return{name:"TOML, also INI",aliases:["toml"],case_insensitive:!0,illegal:/\S/,contains:[S,{className:"section",begin:/\[+/,end:/\]+/},{begin:f.concat(F,"(\\s*\\.\\s*",F,")*",f.lookahead(/\s*=\s*[^#\s]/)),className:"attr",starts:{end:/$/,contains:[S,A,k,L,C,v]}}]}},grmr_java:u=>{const f=u.regex,v="[-a-zA-Z_$][-a-zA-Z_$0-9]*",S=v+gn("(?:<"+v+"~~~(?:\\s*,\\s*"+v+"~~~)*>)?",/~~~/g,2),L={keyword:["synchronized","abstract","private","var","static","if","const ","for","while","strictfp","finally","protected","import","native","final","void","enum","else","break","transient","catch","instanceof","volatile","case","assert","package","default","public","try","switch","continue","throws","protected","public","private","module","requires","exports","do","sealed","yield","permits","goto","when"],literal:["false","true","null"],type:["char","boolean","long","float","int","byte","short","double"],built_in:["super","this"]},k={className:"meta",begin:"@"+v,contains:[{begin:/\(/,end:/\)/,contains:["self"]}]},C={className:"params",begin:/\(/,end:/\)/,keywords:L,relevance:0,contains:[u.C_BLOCK_COMMENT_MODE],endsParent:!0};return{name:"Java",aliases:["jsp"],keywords:L,illegal:/<\/|#/,contains:[u.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{begin:/\w+@/,relevance:0},{className:"doctag",begin:"@[A-Za-z]+"}]}),{begin:/import java\.[a-z]+\./,keywords:"import",relevance:2},u.C_LINE_COMMENT_MODE,u.C_BLOCK_COMMENT_MODE,{begin:/"""/,end:/"""/,className:"string",contains:[u.BACKSLASH_ESCAPE]},u.APOS_STRING_MODE,u.QUOTE_STRING_MODE,{match:[/\b(?:class|interface|enum|extends|implements|new)/,/\s+/,v],className:{1:"keyword",3:"title.class"}},{match:/non-sealed/,scope:"keyword"},{begin:[f.concat(/(?!else)/,v),/\s+/,v,/\s+/,/=(?!=)/],className:{1:"type",3:"variable",5:"operator"}},{begin:[/record/,/\s+/,v],className:{1:"keyword",3:"title.class"},contains:[C,u.C_LINE_COMMENT_MODE,u.C_BLOCK_COMMENT_MODE]},{beginKeywords:"new throw return else",relevance:0},{begin:["(?:"+S+"\\s+)",u.UNDERSCORE_IDENT_RE,/\s*(?=\()/],className:{2:"title.function"},keywords:L,contains:[{className:"params",begin:/\(/,end:/\)/,keywords:L,relevance:0,contains:[k,u.APOS_STRING_MODE,u.QUOTE_STRING_MODE,mt,u.C_BLOCK_COMMENT_MODE]},u.C_LINE_COMMENT_MODE,u.C_BLOCK_COMMENT_MODE]},mt,k]}},grmr_javascript:Ka,grmr_json:u=>{const f=["true","false","null"],v={scope:"literal",beginKeywords:f.join(" ")};return{name:"JSON",aliases:["jsonc"],keywords:{literal:f},contains:[{className:"attr",begin:/"(\\.|[^\\"\r\n])*"(?=\s*:)/,relevance:1.01},{match:/[{}[\],:]/,className:"punctuation",relevance:0},u.QUOTE_STRING_MODE,v,u.C_NUMBER_MODE,u.C_LINE_COMMENT_MODE,u.C_BLOCK_COMMENT_MODE],illegal:"\\S"}},grmr_kotlin:u=>{const f={keyword:"abstract as val var vararg get set class object open private protected public noinline crossinline dynamic final enum if else do while for when throw try catch finally import package is in fun override companion reified inline lateinit init interface annotation data sealed internal infix operator out by constructor super tailrec where const inner suspend typealias external expect actual",built_in:"Byte Short Char Int Long Boolean Float Double Void Unit Nothing",literal:"true false null"},v={className:"symbol",begin:u.UNDERSCORE_IDENT_RE+"@"},S={className:"subst",begin:/\$\{/,end:/\}/,contains:[u.C_NUMBER_MODE]},L={className:"variable",begin:"\\$"+u.UNDERSCORE_IDENT_RE},k={className:"string",variants:[{begin:'"""',end:'"""(?=[^"])',contains:[L,S]},{begin:"'",end:"'",illegal:/\n/,contains:[u.BACKSLASH_ESCAPE]},{begin:'"',end:'"',illegal:/\n/,contains:[u.BACKSLASH_ESCAPE,L,S]}]};S.contains.push(k);const C={className:"meta",begin:"@(?:file|property|field|get|set|receiver|param|setparam|delegate)\\s*:(?:\\s*"+u.UNDERSCORE_IDENT_RE+")?"},A={className:"meta",begin:"@"+u.UNDERSCORE_IDENT_RE,contains:[{begin:/\(/,end:/\)/,contains:[u.inherit(k,{className:"string"}),"self"]}]},F=mt,H=u.COMMENT("/\\*","\\*/",{contains:[u.C_BLOCK_COMMENT_MODE]}),G={variants:[{className:"type",begin:u.UNDERSCORE_IDENT_RE},{begin:/\(/,end:/\)/,contains:[]}]},ue=G;return ue.variants[1].contains=[G],G.variants[1].contains=[ue],{name:"Kotlin",aliases:["kt","kts"],keywords:f,contains:[u.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"}]}),u.C_LINE_COMMENT_MODE,H,{className:"keyword",begin:/\b(break|continue|return|this)\b/,starts:{contains:[{className:"symbol",begin:/@\w+/}]}},v,C,A,{className:"function",beginKeywords:"fun",end:"[(]|$",returnBegin:!0,excludeEnd:!0,keywords:f,relevance:5,contains:[{begin:u.UNDERSCORE_IDENT_RE+"\\s*\\(",returnBegin:!0,relevance:0,contains:[u.UNDERSCORE_TITLE_MODE]},{className:"type",begin:/</,end:/>/,keywords:"reified",relevance:0},{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:f,relevance:0,contains:[{begin:/:/,end:/[=,\/]/,endsWithParent:!0,contains:[G,u.C_LINE_COMMENT_MODE,H],relevance:0},u.C_LINE_COMMENT_MODE,H,C,A,k,u.C_NUMBER_MODE]},H]},{begin:[/class|interface|trait/,/\s+/,u.UNDERSCORE_IDENT_RE],beginScope:{3:"title.class"},keywords:"class interface trait",end:/[:\{(]|$/,excludeEnd:!0,illegal:"extends implements",contains:[{beginKeywords:"public protected internal private constructor"},u.UNDERSCORE_TITLE_MODE,{className:"type",begin:/</,end:/>/,excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:/[,:]\s*/,end:/[<\(,){\s]|$/,excludeBegin:!0,returnEnd:!0},C,A]},k,{className:"meta",begin:"^#!/usr/bin/env",end:"$",illegal:`
`},F]}},grmr_less:u=>{const f=j(u),v=je,S="[\\w-]+",L="("+S+"|@\\{"+S+"\\})",k=[],C=[],A=it=>({className:"string",begin:"~?"+it+".*?"+it}),F=(it,X,ie)=>({className:it,begin:X,relevance:ie}),H={$pattern:/[a-z-]+/,keyword:"and or not only",attribute:W.join(" ")},G={begin:"\\(",end:"\\)",contains:C,keywords:H,relevance:0};C.push(u.C_LINE_COMMENT_MODE,u.C_BLOCK_COMMENT_MODE,A("'"),A('"'),f.CSS_NUMBER_MODE,{begin:"(url|data-uri)\\(",starts:{className:"string",end:"[\\)\\n]",excludeEnd:!0}},f.HEXCOLOR,G,F("variable","@@?"+S,10),F("variable","@\\{"+S+"\\}"),F("built_in","~?`[^`]*?`"),{className:"attribute",begin:S+"\\s*:",end:":",returnBegin:!0,excludeEnd:!0},f.IMPORTANT,{beginKeywords:"and not"},f.FUNCTION_DISPATCH);const ue=C.concat({begin:/\{/,end:/\}/,contains:k}),J={beginKeywords:"when",endsWithParent:!0,contains:[{beginKeywords:"and not"}].concat(C)},ye={begin:L+"\\s*:",returnBegin:!0,end:/[;}]/,relevance:0,contains:[{begin:/-(webkit|moz|ms|o)-/},f.CSS_VARIABLE,{className:"attribute",begin:"\\b("+Se.join("|")+")\\b",end:/(?=:)/,starts:{endsWithParent:!0,illegal:"[<=$]",relevance:0,contains:C}}]},Ee={className:"keyword",begin:"@(import|media|charset|font-face|(-[a-z]+-)?keyframes|supports|document|namespace|page|viewport|host)\\b",starts:{end:"[;{}]",keywords:H,returnEnd:!0,contains:C,relevance:0}},ke={className:"variable",variants:[{begin:"@"+S+"\\s*:",relevance:15},{begin:"@"+S}],starts:{end:"[;}]",returnEnd:!0,contains:ue}},Ge={variants:[{begin:"[\\.#:&\\[>]",end:"[;{}]"},{begin:L,end:/\{/}],returnBegin:!0,returnEnd:!0,illegal:`[<='$"]`,relevance:0,contains:[u.C_LINE_COMMENT_MODE,u.C_BLOCK_COMMENT_MODE,J,F("keyword","all\\b"),F("variable","@\\{"+S+"\\}"),{begin:"\\b("+ae.join("|")+")\\b",className:"selector-tag"},f.CSS_NUMBER_MODE,F("selector-tag",L,0),F("selector-id","#"+L),F("selector-class","\\."+L,0),F("selector-tag","&",0),f.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",begin:":("+ne.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+pe.join("|")+")"},{begin:/\(/,end:/\)/,relevance:0,contains:ue},{begin:"!important"},f.FUNCTION_DISPATCH]},bt={begin:S+`:(:)?(${v.join("|")})`,returnBegin:!0,contains:[Ge]};return k.push(u.C_LINE_COMMENT_MODE,u.C_BLOCK_COMMENT_MODE,Ee,ke,bt,ye,Ge,J,f.FUNCTION_DISPATCH),{name:"Less",case_insensitive:!0,illegal:`[=>'/<($"]`,contains:k}},grmr_lua:u=>{const f="\\[=*\\[",v="\\]=*\\]",S={begin:f,end:v,contains:["self"]},L=[u.COMMENT("--(?!"+f+")","$"),u.COMMENT("--"+f,v,{contains:[S],relevance:10})];return{name:"Lua",aliases:["pluto"],keywords:{$pattern:u.UNDERSCORE_IDENT_RE,literal:"true false nil",keyword:"and break do else elseif end for goto if in local not or repeat return then until while",built_in:"_G _ENV _VERSION __index __newindex __mode __call __metatable __tostring __len __gc __add __sub __mul __div __mod __pow __concat __unm __eq __lt __le assert collectgarbage dofile error getfenv getmetatable ipairs load loadfile loadstring module next pairs pcall print rawequal rawget rawset require select setfenv setmetatable tonumber tostring type unpack xpcall arg self coroutine resume yield status wrap create running debug getupvalue debug sethook getmetatable gethook setmetatable setlocal traceback setfenv getinfo setupvalue getlocal getregistry getfenv io lines write close flush open output type read stderr stdin input stdout popen tmpfile math log max acos huge ldexp pi cos tanh pow deg tan cosh sinh random randomseed frexp ceil floor rad abs sqrt modf asin min mod fmod log10 atan2 exp sin atan os exit setlocale date getenv difftime remove time clock tmpname rename execute package preload loadlib loaded loaders cpath config path seeall string sub upper len gfind rep find match char dump gmatch reverse byte format gsub lower table setn insert getn foreachi maxn foreach concat sort remove"},contains:L.concat([{className:"function",beginKeywords:"function",end:"\\)",contains:[u.inherit(u.TITLE_MODE,{begin:"([_a-zA-Z]\\w*\\.)*([_a-zA-Z]\\w*:)?[_a-zA-Z]\\w*"}),{className:"params",begin:"\\(",endsWithParent:!0,contains:L}].concat(L)},u.C_NUMBER_MODE,u.APOS_STRING_MODE,u.QUOTE_STRING_MODE,{className:"string",begin:f,end:v,contains:[S],relevance:5}])}},grmr_makefile:u=>{const f={className:"variable",variants:[{begin:"\\$\\("+u.UNDERSCORE_IDENT_RE+"\\)",contains:[u.BACKSLASH_ESCAPE]},{begin:/\$[@%<?\^\+\*]/}]},v={className:"string",begin:/"/,end:/"/,contains:[u.BACKSLASH_ESCAPE,f]},S={className:"variable",begin:/\$\([\w-]+\s/,end:/\)/,keywords:{built_in:"subst patsubst strip findstring filter filter-out sort word wordlist firstword lastword dir notdir suffix basename addsuffix addprefix join wildcard realpath abspath error warning shell origin flavor foreach if or and call eval file value"},contains:[f,v]},L={begin:"^"+u.UNDERSCORE_IDENT_RE+"\\s*(?=[:+?]?=)"},k={className:"section",begin:/^[^\s]+:/,end:/$/,contains:[f]};return{name:"Makefile",aliases:["mk","mak","make"],keywords:{$pattern:/[\w-]+/,keyword:"define endef undefine ifdef ifndef ifeq ifneq else endif include -include sinclude override export unexport private vpath"},contains:[u.HASH_COMMENT_MODE,f,v,S,L,{className:"meta",begin:/^\.PHONY:/,end:/$/,keywords:{$pattern:/[\.\w]+/,keyword:".PHONY"}},k]}},grmr_markdown:u=>{const f={begin:/<\/?[A-Za-z_]/,end:">",subLanguage:"xml",relevance:0},v={variants:[{begin:/\[.+?\]\[.*?\]/,relevance:0},{begin:/\[.+?\]\(((data|javascript|mailto):|(?:http|ftp)s?:\/\/).*?\)/,relevance:2},{begin:u.regex.concat(/\[.+?\]\(/,/[A-Za-z][A-Za-z0-9+.-]*/,/:\/\/.*?\)/),relevance:2},{begin:/\[.+?\]\([./?&#].*?\)/,relevance:1},{begin:/\[.*?\]\(.*?\)/,relevance:0}],returnBegin:!0,contains:[{match:/\[(?=\])/},{className:"string",relevance:0,begin:"\\[",end:"\\]",excludeBegin:!0,returnEnd:!0},{className:"link",relevance:0,begin:"\\]\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0},{className:"symbol",relevance:0,begin:"\\]\\[",end:"\\]",excludeBegin:!0,excludeEnd:!0}]},S={className:"strong",contains:[],variants:[{begin:/_{2}(?!\s)/,end:/_{2}/},{begin:/\*{2}(?!\s)/,end:/\*{2}/}]},L={className:"emphasis",contains:[],variants:[{begin:/\*(?![*\s])/,end:/\*/},{begin:/_(?![_\s])/,end:/_/,relevance:0}]},k=u.inherit(S,{contains:[]}),C=u.inherit(L,{contains:[]});S.contains.push(C),L.contains.push(k);let A=[f,v];return[S,L,k,C].forEach(F=>{F.contains=F.contains.concat(A)}),A=A.concat(S,L),{name:"Markdown",aliases:["md","mkdown","mkd"],contains:[{className:"section",variants:[{begin:"^#{1,6}",end:"$",contains:A},{begin:"(?=^.+?\\n[=-]{2,}$)",contains:[{begin:"^[=-]*$"},{begin:"^",end:"\\n",contains:A}]}]},f,{className:"bullet",begin:"^[ 	]*([*+-]|(\\d+\\.))(?=\\s+)",end:"\\s+",excludeEnd:!0},S,L,{className:"quote",begin:"^>\\s+",contains:A,end:"$"},{className:"code",variants:[{begin:"(`{3,})[^`](.|\\n)*?\\1`*[ ]*"},{begin:"(~{3,})[^~](.|\\n)*?\\1~*[ ]*"},{begin:"```",end:"```+[ ]*$"},{begin:"~~~",end:"~~~+[ ]*$"},{begin:"`.+?`"},{begin:"(?=^( {4}|\\t))",contains:[{begin:"^( {4}|\\t)",end:"(\\n)$"}],relevance:0}]},{begin:"^[-\\*]{3,}",end:"$"},v,{begin:/^\[[^\n]+\]:/,returnBegin:!0,contains:[{className:"symbol",begin:/\[/,end:/\]/,excludeBegin:!0,excludeEnd:!0},{className:"link",begin:/:\s*/,end:/$/,excludeBegin:!0}]},{scope:"literal",match:/&([a-zA-Z0-9]+|#[0-9]{1,7}|#[Xx][0-9a-fA-F]{1,6});/}]}},grmr_objectivec:u=>{const f=/[a-zA-Z@][a-zA-Z0-9_]*/,v={$pattern:f,keyword:["@interface","@class","@protocol","@implementation"]};return{name:"Objective-C",aliases:["mm","objc","obj-c","obj-c++","objective-c++"],keywords:{"variable.language":["this","super"],$pattern:f,keyword:["while","export","sizeof","typedef","const","struct","for","union","volatile","static","mutable","if","do","return","goto","enum","else","break","extern","asm","case","default","register","explicit","typename","switch","continue","inline","readonly","assign","readwrite","self","@synchronized","id","typeof","nonatomic","IBOutlet","IBAction","strong","weak","copy","in","out","inout","bycopy","byref","oneway","__strong","__weak","__block","__autoreleasing","@private","@protected","@public","@try","@property","@end","@throw","@catch","@finally","@autoreleasepool","@synthesize","@dynamic","@selector","@optional","@required","@encode","@package","@import","@defs","@compatibility_alias","__bridge","__bridge_transfer","__bridge_retained","__bridge_retain","__covariant","__contravariant","__kindof","_Nonnull","_Nullable","_Null_unspecified","__FUNCTION__","__PRETTY_FUNCTION__","__attribute__","getter","setter","retain","unsafe_unretained","nonnull","nullable","null_unspecified","null_resettable","class","instancetype","NS_DESIGNATED_INITIALIZER","NS_UNAVAILABLE","NS_REQUIRES_SUPER","NS_RETURNS_INNER_POINTER","NS_INLINE","NS_AVAILABLE","NS_DEPRECATED","NS_ENUM","NS_OPTIONS","NS_SWIFT_UNAVAILABLE","NS_ASSUME_NONNULL_BEGIN","NS_ASSUME_NONNULL_END","NS_REFINED_FOR_SWIFT","NS_SWIFT_NAME","NS_SWIFT_NOTHROW","NS_DURING","NS_HANDLER","NS_ENDHANDLER","NS_VALUERETURN","NS_VOIDRETURN"],literal:["false","true","FALSE","TRUE","nil","YES","NO","NULL"],built_in:["dispatch_once_t","dispatch_queue_t","dispatch_sync","dispatch_async","dispatch_once"],type:["int","float","char","unsigned","signed","short","long","double","wchar_t","unichar","void","bool","BOOL","id|0","_Bool"]},illegal:"</",contains:[{className:"built_in",begin:"\\b(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)\\w+"},u.C_LINE_COMMENT_MODE,u.C_BLOCK_COMMENT_MODE,u.C_NUMBER_MODE,u.QUOTE_STRING_MODE,u.APOS_STRING_MODE,{className:"string",variants:[{begin:'@"',end:'"',illegal:"\\n",contains:[u.BACKSLASH_ESCAPE]}]},{className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},u.inherit(u.QUOTE_STRING_MODE,{className:"string"}),{className:"string",begin:/<.*?>/,end:/$/,illegal:"\\n"},u.C_LINE_COMMENT_MODE,u.C_BLOCK_COMMENT_MODE]},{className:"class",begin:"("+v.keyword.join("|")+")\\b",end:/(\{|$)/,excludeEnd:!0,keywords:v,contains:[u.UNDERSCORE_TITLE_MODE]},{begin:"\\."+u.UNDERSCORE_IDENT_RE,relevance:0}]}},grmr_perl:u=>{const f=u.regex,v=/[dualxmsipngr]{0,12}/,S={$pattern:/[\w.]+/,keyword:"abs accept alarm and atan2 bind binmode bless break caller chdir chmod chomp chop chown chr chroot class close closedir connect continue cos crypt dbmclose dbmopen defined delete die do dump each else elsif endgrent endhostent endnetent endprotoent endpwent endservent eof eval exec exists exit exp fcntl field fileno flock for foreach fork format formline getc getgrent getgrgid getgrnam gethostbyaddr gethostbyname gethostent getlogin getnetbyaddr getnetbyname getnetent getpeername getpgrp getpriority getprotobyname getprotobynumber getprotoent getpwent getpwnam getpwuid getservbyname getservbyport getservent getsockname getsockopt given glob gmtime goto grep gt hex if index int ioctl join keys kill last lc lcfirst length link listen local localtime log lstat lt ma map method mkdir msgctl msgget msgrcv msgsnd my ne next no not oct open opendir or ord our pack package pipe pop pos print printf prototype push q|0 qq quotemeta qw qx rand read readdir readline readlink readpipe recv redo ref rename require reset return reverse rewinddir rindex rmdir say scalar seek seekdir select semctl semget semop send setgrent sethostent setnetent setpgrp setpriority setprotoent setpwent setservent setsockopt shift shmctl shmget shmread shmwrite shutdown sin sleep socket socketpair sort splice split sprintf sqrt srand stat state study sub substr symlink syscall sysopen sysread sysseek system syswrite tell telldir tie tied time times tr truncate uc ucfirst umask undef unless unlink unpack unshift untie until use utime values vec wait waitpid wantarray warn when while write x|0 xor y|0"},L={className:"subst",begin:"[$@]\\{",end:"\\}",keywords:S},k={begin:/->\{/,end:/\}/},C={scope:"attr",match:/\s+:\s*\w+(\s*\(.*?\))?/},A={scope:"variable",variants:[{begin:/\$\d/},{begin:f.concat(/[$%@](?!")(\^\w\b|#\w+(::\w+)*|\{\w+\}|\w+(::\w*)*)/,"(?![A-Za-z])(?![@$%])")},{begin:/[$%@](?!")[^\s\w{=]|\$=/,relevance:0}],contains:[C]},F={className:"number",variants:[{match:/0?\.[0-9][0-9_]+\b/},{match:/\bv?(0|[1-9][0-9_]*(\.[0-9_]+)?|[1-9][0-9_]*)\b/},{match:/\b0[0-7][0-7_]*\b/},{match:/\b0x[0-9a-fA-F][0-9a-fA-F_]*\b/},{match:/\b0b[0-1][0-1_]*\b/}],relevance:0},H=[u.BACKSLASH_ESCAPE,L,A],G=[/!/,/\//,/\|/,/\?/,/'/,/"/,/#/],ue=(Ee,ke,Ge="\\1")=>{const bt=Ge==="\\1"?Ge:f.concat(Ge,ke);return f.concat(f.concat("(?:",Ee,")"),ke,/(?:\\.|[^\\\/])*?/,bt,/(?:\\.|[^\\\/])*?/,Ge,v)},J=(Ee,ke,Ge)=>f.concat(f.concat("(?:",Ee,")"),ke,/(?:\\.|[^\\\/])*?/,Ge,v),ye=[A,u.HASH_COMMENT_MODE,u.COMMENT(/^=\w/,/=cut/,{endsWithParent:!0}),k,{className:"string",contains:H,variants:[{begin:"q[qwxr]?\\s*\\(",end:"\\)",relevance:5},{begin:"q[qwxr]?\\s*\\[",end:"\\]",relevance:5},{begin:"q[qwxr]?\\s*\\{",end:"\\}",relevance:5},{begin:"q[qwxr]?\\s*\\|",end:"\\|",relevance:5},{begin:"q[qwxr]?\\s*<",end:">",relevance:5},{begin:"qw\\s+q",end:"q",relevance:5},{begin:"'",end:"'",contains:[u.BACKSLASH_ESCAPE]},{begin:'"',end:'"'},{begin:"`",end:"`",contains:[u.BACKSLASH_ESCAPE]},{begin:/\{\w+\}/,relevance:0},{begin:"-?\\w+\\s*=>",relevance:0}]},F,{begin:"(\\/\\/|"+u.RE_STARTERS_RE+"|\\b(split|return|print|reverse|grep)\\b)\\s*",keywords:"split return print reverse grep",relevance:0,contains:[u.HASH_COMMENT_MODE,{className:"regexp",variants:[{begin:ue("s|tr|y",f.either(...G,{capture:!0}))},{begin:ue("s|tr|y","\\(","\\)")},{begin:ue("s|tr|y","\\[","\\]")},{begin:ue("s|tr|y","\\{","\\}")}],relevance:2},{className:"regexp",variants:[{begin:/(m|qr)\/\//,relevance:0},{begin:J("(?:m|qr)?",/\//,/\//)},{begin:J("m|qr",f.either(...G,{capture:!0}),/\1/)},{begin:J("m|qr",/\(/,/\)/)},{begin:J("m|qr",/\[/,/\]/)},{begin:J("m|qr",/\{/,/\}/)}]}]},{className:"function",beginKeywords:"sub method",end:"(\\s*\\(.*?\\))?[;{]",excludeEnd:!0,relevance:5,contains:[u.TITLE_MODE,C]},{className:"class",beginKeywords:"class",end:"[;{]",excludeEnd:!0,relevance:5,contains:[u.TITLE_MODE,C,F]},{begin:"-\\w\\b",relevance:0},{begin:"^__DATA__$",end:"^__END__$",subLanguage:"mojolicious",contains:[{begin:"^@@.*",end:"$",className:"comment"}]}];return L.contains=ye,k.contains=ye,{name:"Perl",aliases:["pl","pm"],keywords:S,contains:ye}},grmr_php:u=>{const f=u.regex,v=/(?![A-Za-z0-9])(?![$])/,S=f.concat(/[a-zA-Z_\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*/,v),L=f.concat(/(\\?[A-Z][a-z0-9_\x7f-\xff]+|\\?[A-Z]+(?=[A-Z][a-z0-9_\x7f-\xff])){1,}/,v),k=f.concat(/[A-Z]+/,v),C={scope:"variable",match:"\\$+"+S},A={scope:"subst",variants:[{begin:/\$\w+/},{begin:/\{\$/,end:/\}/}]},F=u.inherit(u.APOS_STRING_MODE,{illegal:null}),H=`[ 	
]`,G={scope:"string",variants:[u.inherit(u.QUOTE_STRING_MODE,{illegal:null,contains:u.QUOTE_STRING_MODE.contains.concat(A)}),F,{begin:/<<<[ \t]*(?:(\w+)|"(\w+)")\n/,end:/[ \t]*(\w+)\b/,contains:u.QUOTE_STRING_MODE.contains.concat(A),"on:begin":(Me,Te)=>{Te.data._beginMatch=Me[1]||Me[2]},"on:end":(Me,Te)=>{Te.data._beginMatch!==Me[1]&&Te.ignoreMatch()}},u.END_SAME_AS_BEGIN({begin:/<<<[ \t]*'(\w+)'\n/,end:/[ \t]*(\w+)\b/})]},ue={scope:"number",variants:[{begin:"\\b0[bB][01]+(?:_[01]+)*\\b"},{begin:"\\b0[oO][0-7]+(?:_[0-7]+)*\\b"},{begin:"\\b0[xX][\\da-fA-F]+(?:_[\\da-fA-F]+)*\\b"},{begin:"(?:\\b\\d+(?:_\\d+)*(\\.(?:\\d+(?:_\\d+)*))?|\\B\\.\\d+)(?:[eE][+-]?\\d+)?"}],relevance:0},J=["false","null","true"],ye=["__CLASS__","__DIR__","__FILE__","__FUNCTION__","__COMPILER_HALT_OFFSET__","__LINE__","__METHOD__","__NAMESPACE__","__TRAIT__","die","echo","exit","include","include_once","print","require","require_once","array","abstract","and","as","binary","bool","boolean","break","callable","case","catch","class","clone","const","continue","declare","default","do","double","else","elseif","empty","enddeclare","endfor","endforeach","endif","endswitch","endwhile","enum","eval","extends","final","finally","float","for","foreach","from","global","goto","if","implements","instanceof","insteadof","int","integer","interface","isset","iterable","list","match|0","mixed","new","never","object","or","private","protected","public","readonly","real","return","string","switch","throw","trait","try","unset","use","var","void","while","xor","yield"],Ee=["Error|0","AppendIterator","ArgumentCountError","ArithmeticError","ArrayIterator","ArrayObject","AssertionError","BadFunctionCallException","BadMethodCallException","CachingIterator","CallbackFilterIterator","CompileError","Countable","DirectoryIterator","DivisionByZeroError","DomainException","EmptyIterator","ErrorException","Exception","FilesystemIterator","FilterIterator","GlobIterator","InfiniteIterator","InvalidArgumentException","IteratorIterator","LengthException","LimitIterator","LogicException","MultipleIterator","NoRewindIterator","OutOfBoundsException","OutOfRangeException","OuterIterator","OverflowException","ParentIterator","ParseError","RangeException","RecursiveArrayIterator","RecursiveCachingIterator","RecursiveCallbackFilterIterator","RecursiveDirectoryIterator","RecursiveFilterIterator","RecursiveIterator","RecursiveIteratorIterator","RecursiveRegexIterator","RecursiveTreeIterator","RegexIterator","RuntimeException","SeekableIterator","SplDoublyLinkedList","SplFileInfo","SplFileObject","SplFixedArray","SplHeap","SplMaxHeap","SplMinHeap","SplObjectStorage","SplObserver","SplPriorityQueue","SplQueue","SplStack","SplSubject","SplTempFileObject","TypeError","UnderflowException","UnexpectedValueException","UnhandledMatchError","ArrayAccess","BackedEnum","Closure","Fiber","Generator","Iterator","IteratorAggregate","Serializable","Stringable","Throwable","Traversable","UnitEnum","WeakReference","WeakMap","Directory","__PHP_Incomplete_Class","parent","php_user_filter","self","static","stdClass"],ke={keyword:ye,literal:(Me=>{const Te=[];return Me.forEach(Ae=>{Te.push(Ae),Ae.toLowerCase()===Ae?Te.push(Ae.toUpperCase()):Te.push(Ae.toLowerCase())}),Te})(J),built_in:Ee},Ge=Me=>Me.map(Te=>Te.replace(/\|\d+$/,"")),bt={variants:[{match:[/new/,f.concat(H,"+"),f.concat("(?!",Ge(Ee).join("\\b|"),"\\b)"),L],scope:{1:"keyword",4:"title.class"}}]},it=f.concat(S,"\\b(?!\\()"),X={variants:[{match:[f.concat(/::/,f.lookahead(/(?!class\b)/)),it],scope:{2:"variable.constant"}},{match:[/::/,/class/],scope:{2:"variable.language"}},{match:[L,f.concat(/::/,f.lookahead(/(?!class\b)/)),it],scope:{1:"title.class",3:"variable.constant"}},{match:[L,f.concat("::",f.lookahead(/(?!class\b)/))],scope:{1:"title.class"}},{match:[L,/::/,/class/],scope:{1:"title.class",3:"variable.language"}}]},ie={scope:"attr",match:f.concat(S,f.lookahead(":"),f.lookahead(/(?!::)/))},me={relevance:0,begin:/\(/,end:/\)/,keywords:ke,contains:[ie,C,X,u.C_BLOCK_COMMENT_MODE,G,ue,bt]},Ke={relevance:0,match:[/\b/,f.concat("(?!fn\\b|function\\b|",Ge(ye).join("\\b|"),"|",Ge(Ee).join("\\b|"),"\\b)"),S,f.concat(H,"*"),f.lookahead(/(?=\()/)],scope:{3:"title.function.invoke"},contains:[me]};me.contains.push(Ke);const Xe=[ie,X,u.C_BLOCK_COMMENT_MODE,G,ue,bt],Fe={begin:f.concat(/#\[\s*\\?/,f.either(L,k)),beginScope:"meta",end:/]/,endScope:"meta",keywords:{literal:J,keyword:["new","array"]},contains:[{begin:/\[/,end:/]/,keywords:{literal:J,keyword:["new","array"]},contains:["self",...Xe]},...Xe,{scope:"meta",variants:[{match:L},{match:k}]}]};return{case_insensitive:!1,keywords:ke,contains:[Fe,u.HASH_COMMENT_MODE,u.COMMENT("//","$"),u.COMMENT("/\\*","\\*/",{contains:[{scope:"doctag",match:"@[A-Za-z]+"}]}),{match:/__halt_compiler\(\);/,keywords:"__halt_compiler",starts:{scope:"comment",end:u.MATCH_NOTHING_RE,contains:[{match:/\?>/,scope:"meta",endsParent:!0}]}},{scope:"meta",variants:[{begin:/<\?php/,relevance:10},{begin:/<\?=/},{begin:/<\?/,relevance:.1},{begin:/\?>/}]},{scope:"variable.language",match:/\$this\b/},C,Ke,X,{match:[/const/,/\s/,S],scope:{1:"keyword",3:"variable.constant"}},bt,{scope:"function",relevance:0,beginKeywords:"fn function",end:/[;{]/,excludeEnd:!0,illegal:"[$%\\[]",contains:[{beginKeywords:"use"},u.UNDERSCORE_TITLE_MODE,{begin:"=>",endsParent:!0},{scope:"params",begin:"\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0,keywords:ke,contains:["self",Fe,C,X,u.C_BLOCK_COMMENT_MODE,G,ue]}]},{scope:"class",variants:[{beginKeywords:"enum",illegal:/[($"]/},{beginKeywords:"class interface trait",illegal:/[:($"]/}],relevance:0,end:/\{/,excludeEnd:!0,contains:[{beginKeywords:"extends implements"},u.UNDERSCORE_TITLE_MODE]},{beginKeywords:"namespace",relevance:0,end:";",illegal:/[.']/,contains:[u.inherit(u.UNDERSCORE_TITLE_MODE,{scope:"title.class"})]},{beginKeywords:"use",relevance:0,end:";",contains:[{match:/\b(as|const|function)\b/,scope:"keyword"},u.UNDERSCORE_TITLE_MODE]},G,ue]}},grmr_php_template:u=>({name:"PHP template",subLanguage:"xml",contains:[{begin:/<\?(php|=)?/,end:/\?>/,subLanguage:"php",contains:[{begin:"/\\*",end:"\\*/",skip:!0},{begin:'b"',end:'"',skip:!0},{begin:"b'",end:"'",skip:!0},u.inherit(u.APOS_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0}),u.inherit(u.QUOTE_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0})]}]}),grmr_plaintext:u=>({name:"Plain text",aliases:["text","txt"],disableAutodetect:!0}),grmr_python:u=>{const f=u.regex,v=new RegExp("[\\p{XID_Start}_]\\p{XID_Continue}*","u"),S=["and","as","assert","async","await","break","case","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","in","is","lambda","match","nonlocal|10","not","or","pass","raise","return","try","while","with","yield"],L={$pattern:/[A-Za-z]\w+|__\w+__/,keyword:S,built_in:["__import__","abs","all","any","ascii","bin","bool","breakpoint","bytearray","bytes","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","exec","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","print","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip"],literal:["__debug__","Ellipsis","False","None","NotImplemented","True"],type:["Any","Callable","Coroutine","Dict","List","Literal","Generic","Optional","Sequence","Set","Tuple","Type","Union"]},k={className:"meta",begin:/^(>>>|\.\.\.) /},C={className:"subst",begin:/\{/,end:/\}/,keywords:L,illegal:/#/},A={begin:/\{\{/,relevance:0},F={className:"string",contains:[u.BACKSLASH_ESCAPE],variants:[{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?'''/,end:/'''/,contains:[u.BACKSLASH_ESCAPE,k],relevance:10},{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?"""/,end:/"""/,contains:[u.BACKSLASH_ESCAPE,k],relevance:10},{begin:/([fF][rR]|[rR][fF]|[fF])'''/,end:/'''/,contains:[u.BACKSLASH_ESCAPE,k,A,C]},{begin:/([fF][rR]|[rR][fF]|[fF])"""/,end:/"""/,contains:[u.BACKSLASH_ESCAPE,k,A,C]},{begin:/([uU]|[rR])'/,end:/'/,relevance:10},{begin:/([uU]|[rR])"/,end:/"/,relevance:10},{begin:/([bB]|[bB][rR]|[rR][bB])'/,end:/'/},{begin:/([bB]|[bB][rR]|[rR][bB])"/,end:/"/},{begin:/([fF][rR]|[rR][fF]|[fF])'/,end:/'/,contains:[u.BACKSLASH_ESCAPE,A,C]},{begin:/([fF][rR]|[rR][fF]|[fF])"/,end:/"/,contains:[u.BACKSLASH_ESCAPE,A,C]},u.APOS_STRING_MODE,u.QUOTE_STRING_MODE]},H="[0-9](_?[0-9])*",G=`(\\b(${H}))?\\.(${H})|\\b(${H})\\.`,ue="\\b|"+S.join("|"),J={className:"number",relevance:0,variants:[{begin:`(\\b(${H})|(${G}))[eE][+-]?(${H})[jJ]?(?=${ue})`},{begin:`(${G})[jJ]?`},{begin:`\\b([1-9](_?[0-9])*|0+(_?0)*)[lLjJ]?(?=${ue})`},{begin:`\\b0[bB](_?[01])+[lL]?(?=${ue})`},{begin:`\\b0[oO](_?[0-7])+[lL]?(?=${ue})`},{begin:`\\b0[xX](_?[0-9a-fA-F])+[lL]?(?=${ue})`},{begin:`\\b(${H})[jJ](?=${ue})`}]},ye={className:"comment",begin:f.lookahead(/# type:/),end:/$/,keywords:L,contains:[{begin:/# type:/},{begin:/#/,end:/\b\B/,endsWithParent:!0}]},Ee={className:"params",variants:[{className:"",begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:L,contains:["self",k,J,F,u.HASH_COMMENT_MODE]}]};return C.contains=[F,J,k],{name:"Python",aliases:["py","gyp","ipython"],unicodeRegex:!0,keywords:L,illegal:/(<\/|\?)|=>/,contains:[k,J,{scope:"variable.language",match:/\bself\b/},{beginKeywords:"if",relevance:0},{match:/\bor\b/,scope:"keyword"},F,ye,u.HASH_COMMENT_MODE,{match:[/\bdef/,/\s+/,v],scope:{1:"keyword",3:"title.function"},contains:[Ee]},{variants:[{match:[/\bclass/,/\s+/,v,/\s*/,/\(\s*/,v,/\s*\)/]},{match:[/\bclass/,/\s+/,v]}],scope:{1:"keyword",3:"title.class",6:"title.class.inherited"}},{className:"meta",begin:/^[\t ]*@/,end:/(?=#)|$/,contains:[J,Ee,F]}]}},grmr_python_repl:u=>({aliases:["pycon"],contains:[{className:"meta.prompt",starts:{end:/ |$/,starts:{end:"$",subLanguage:"python"}},variants:[{begin:/^>>>(?=[ ]|$)/},{begin:/^\.\.\.(?=[ ]|$)/}]}]}),grmr_r:u=>{const f=u.regex,v=/(?:(?:[a-zA-Z]|\.[._a-zA-Z])[._a-zA-Z0-9]*)|\.(?!\d)/,S=f.either(/0[xX][0-9a-fA-F]+\.[0-9a-fA-F]*[pP][+-]?\d+i?/,/0[xX][0-9a-fA-F]+(?:[pP][+-]?\d+)?[Li]?/,/(?:\d+(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+)?[Li]?/),L=/[=!<>:]=|\|\||&&|:::?|<-|<<-|->>|->|\|>|[-+*\/?!$&|:<=>@^~]|\*\*/,k=f.either(/[()]/,/[{}]/,/\[\[/,/[[\]]/,/\\/,/,/);return{name:"R",keywords:{$pattern:v,keyword:"function if in break next repeat else for while",literal:"NULL NA TRUE FALSE Inf NaN NA_integer_|10 NA_real_|10 NA_character_|10 NA_complex_|10",built_in:"LETTERS letters month.abb month.name pi T F abs acos acosh all any anyNA Arg as.call as.character as.complex as.double as.environment as.integer as.logical as.null.default as.numeric as.raw asin asinh atan atanh attr attributes baseenv browser c call ceiling class Conj cos cosh cospi cummax cummin cumprod cumsum digamma dim dimnames emptyenv exp expression floor forceAndCall gamma gc.time globalenv Im interactive invisible is.array is.atomic is.call is.character is.complex is.double is.environment is.expression is.finite is.function is.infinite is.integer is.language is.list is.logical is.matrix is.na is.name is.nan is.null is.numeric is.object is.pairlist is.raw is.recursive is.single is.symbol lazyLoadDBfetch length lgamma list log max min missing Mod names nargs nzchar oldClass on.exit pos.to.env proc.time prod quote range Re rep retracemem return round seq_along seq_len seq.int sign signif sin sinh sinpi sqrt standardGeneric substitute sum switch tan tanh tanpi tracemem trigamma trunc unclass untracemem UseMethod xtfrm"},contains:[u.COMMENT(/#'/,/$/,{contains:[{scope:"doctag",match:/@examples/,starts:{end:f.lookahead(f.either(/\n^#'\s*(?=@[a-zA-Z]+)/,/\n^(?!#')/)),endsParent:!0}},{scope:"doctag",begin:"@param",end:/$/,contains:[{scope:"variable",variants:[{match:v},{match:/`(?:\\.|[^`\\])+`/}],endsParent:!0}]},{scope:"doctag",match:/@[a-zA-Z]+/},{scope:"keyword",match:/\\[a-zA-Z]+/}]}),u.HASH_COMMENT_MODE,{scope:"string",contains:[u.BACKSLASH_ESCAPE],variants:[u.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\(/,end:/\)(-*)"/}),u.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\{/,end:/\}(-*)"/}),u.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\[/,end:/\](-*)"/}),u.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\(/,end:/\)(-*)'/}),u.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\{/,end:/\}(-*)'/}),u.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\[/,end:/\](-*)'/}),{begin:'"',end:'"',relevance:0},{begin:"'",end:"'",relevance:0}]},{relevance:0,variants:[{scope:{1:"operator",2:"number"},match:[L,S]},{scope:{1:"operator",2:"number"},match:[/%[^%]*%/,S]},{scope:{1:"punctuation",2:"number"},match:[k,S]},{scope:{2:"number"},match:[/[^a-zA-Z0-9._]|^/,S]}]},{scope:{3:"operator"},match:[v,/\s+/,/<-/,/\s+/]},{scope:"operator",relevance:0,variants:[{match:L},{match:/%[^%]*%/}]},{scope:"punctuation",relevance:0,match:k},{begin:"`",end:"`",contains:[{begin:/\\./}]}]}},grmr_ruby:u=>{const f=u.regex,v="([a-zA-Z_]\\w*[!?=]?|[-+~]@|<<|>>|=~|===?|<=>|[<>]=?|\\*\\*|[-/+%^&*~`|]|\\[\\]=?)",S=f.either(/\b([A-Z]+[a-z0-9]+)+/,/\b([A-Z]+[a-z0-9]+)+[A-Z]+/),L=f.concat(S,/(::\w+)*/),k={"variable.constant":["__FILE__","__LINE__","__ENCODING__"],"variable.language":["self","super"],keyword:["alias","and","begin","BEGIN","break","case","class","defined","do","else","elsif","end","END","ensure","for","if","in","module","next","not","or","redo","require","rescue","retry","return","then","undef","unless","until","when","while","yield","include","extend","prepend","public","private","protected","raise","throw"],built_in:["proc","lambda","attr_accessor","attr_reader","attr_writer","define_method","private_constant","module_function"],literal:["true","false","nil"]},C={className:"doctag",begin:"@[A-Za-z]+"},A={begin:"#<",end:">"},F=[u.COMMENT("#","$",{contains:[C]}),u.COMMENT("^=begin","^=end",{contains:[C],relevance:10}),u.COMMENT("^__END__",u.MATCH_NOTHING_RE)],H={className:"subst",begin:/#\{/,end:/\}/,keywords:k},G={className:"string",contains:[u.BACKSLASH_ESCAPE,H],variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/`/,end:/`/},{begin:/%[qQwWx]?\(/,end:/\)/},{begin:/%[qQwWx]?\[/,end:/\]/},{begin:/%[qQwWx]?\{/,end:/\}/},{begin:/%[qQwWx]?</,end:/>/},{begin:/%[qQwWx]?\//,end:/\//},{begin:/%[qQwWx]?%/,end:/%/},{begin:/%[qQwWx]?-/,end:/-/},{begin:/%[qQwWx]?\|/,end:/\|/},{begin:/\B\?(\\\d{1,3})/},{begin:/\B\?(\\x[A-Fa-f0-9]{1,2})/},{begin:/\B\?(\\u\{?[A-Fa-f0-9]{1,6}\}?)/},{begin:/\B\?(\\M-\\C-|\\M-\\c|\\c\\M-|\\M-|\\C-\\M-)[\x20-\x7e]/},{begin:/\B\?\\(c|C-)[\x20-\x7e]/},{begin:/\B\?\\?\S/},{begin:f.concat(/<<[-~]?'?/,f.lookahead(/(\w+)(?=\W)[^\n]*\n(?:[^\n]*\n)*?\s*\1\b/)),contains:[u.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,contains:[u.BACKSLASH_ESCAPE,H]})]}]},ue="[0-9](_?[0-9])*",J={className:"number",relevance:0,variants:[{begin:`\\b([1-9](_?[0-9])*|0)(\\.(${ue}))?([eE][+-]?(${ue})|r)?i?\\b`},{begin:"\\b0[dD][0-9](_?[0-9])*r?i?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*r?i?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*r?i?\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*r?i?\\b"},{begin:"\\b0(_?[0-7])+r?i?\\b"}]},ye={variants:[{match:/\(\)/},{className:"params",begin:/\(/,end:/(?=\))/,excludeBegin:!0,endsParent:!0,keywords:k}]},Ee=[G,{variants:[{match:[/class\s+/,L,/\s+<\s+/,L]},{match:[/\b(class|module)\s+/,L]}],scope:{2:"title.class",4:"title.class.inherited"},keywords:k},{match:[/(include|extend)\s+/,L],scope:{2:"title.class"},keywords:k},{relevance:0,match:[L,/\.new[. (]/],scope:{1:"title.class"}},{relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"},{relevance:0,match:S,scope:"title.class"},{match:[/def/,/\s+/,v],scope:{1:"keyword",3:"title.function"},contains:[ye]},{begin:u.IDENT_RE+"::"},{className:"symbol",begin:u.UNDERSCORE_IDENT_RE+"(!|\\?)?:",relevance:0},{className:"symbol",begin:":(?!\\s)",contains:[G,{begin:v}],relevance:0},J,{className:"variable",begin:"(\\$\\W)|((\\$|@@?)(\\w+))(?=[^@$?])(?![A-Za-z])(?![@$?'])"},{className:"params",begin:/\|(?!=)/,end:/\|/,excludeBegin:!0,excludeEnd:!0,relevance:0,keywords:k},{begin:"("+u.RE_STARTERS_RE+"|unless)\\s*",keywords:"unless",contains:[{className:"regexp",contains:[u.BACKSLASH_ESCAPE,H],illegal:/\n/,variants:[{begin:"/",end:"/[a-z]*"},{begin:/%r\{/,end:/\}[a-z]*/},{begin:"%r\\(",end:"\\)[a-z]*"},{begin:"%r!",end:"![a-z]*"},{begin:"%r\\[",end:"\\][a-z]*"}]}].concat(A,F),relevance:0}].concat(A,F);H.contains=Ee,ye.contains=Ee;const ke=[{begin:/^\s*=>/,starts:{end:"$",contains:Ee}},{className:"meta.prompt",begin:"^([>?]>|[\\w#]+\\(\\w+\\):\\d+:\\d+[>*]|(\\w+-)?\\d+\\.\\d+\\.\\d+(p\\d+)?[^\\d][^>]+>)(?=[ ])",starts:{end:"$",keywords:k,contains:Ee}}];return F.unshift(A),{name:"Ruby",aliases:["rb","gemspec","podspec","thor","irb"],keywords:k,illegal:/\/\*/,contains:[u.SHEBANG({binary:"ruby"})].concat(ke).concat(F).concat(Ee)}},grmr_rust:u=>{const f=u.regex,v=/(r#)?/,S=f.concat(v,u.UNDERSCORE_IDENT_RE),L=f.concat(v,u.IDENT_RE),k={className:"title.function.invoke",relevance:0,begin:f.concat(/\b/,/(?!let|for|while|if|else|match\b)/,L,f.lookahead(/\s*\(/))},C="([ui](8|16|32|64|128|size)|f(32|64))?",A=["drop ","Copy","Send","Sized","Sync","Drop","Fn","FnMut","FnOnce","ToOwned","Clone","Debug","PartialEq","PartialOrd","Eq","Ord","AsRef","AsMut","Into","From","Default","Iterator","Extend","IntoIterator","DoubleEndedIterator","ExactSizeIterator","SliceConcatExt","ToString","assert!","assert_eq!","bitflags!","bytes!","cfg!","col!","concat!","concat_idents!","debug_assert!","debug_assert_eq!","env!","eprintln!","panic!","file!","format!","format_args!","include_bytes!","include_str!","line!","local_data_key!","module_path!","option_env!","print!","println!","select!","stringify!","try!","unimplemented!","unreachable!","vec!","write!","writeln!","macro_rules!","assert_ne!","debug_assert_ne!"],F=["i8","i16","i32","i64","i128","isize","u8","u16","u32","u64","u128","usize","f32","f64","str","char","bool","Box","Option","Result","String","Vec"];return{name:"Rust",aliases:["rs"],keywords:{$pattern:u.IDENT_RE+"!?",type:F,keyword:["abstract","as","async","await","become","box","break","const","continue","crate","do","dyn","else","enum","extern","false","final","fn","for","if","impl","in","let","loop","macro","match","mod","move","mut","override","priv","pub","ref","return","self","Self","static","struct","super","trait","true","try","type","typeof","union","unsafe","unsized","use","virtual","where","while","yield"],literal:["true","false","Some","None","Ok","Err"],built_in:A},illegal:"</",contains:[u.C_LINE_COMMENT_MODE,u.COMMENT("/\\*","\\*/",{contains:["self"]}),u.inherit(u.QUOTE_STRING_MODE,{begin:/b?"/,illegal:null}),{className:"symbol",begin:/'[a-zA-Z_][a-zA-Z0-9_]*(?!')/},{scope:"string",variants:[{begin:/b?r(#*)"(.|\n)*?"\1(?!#)/},{begin:/b?'/,end:/'/,contains:[{scope:"char.escape",match:/\\('|\w|x\w{2}|u\w{4}|U\w{8})/}]}]},{className:"number",variants:[{begin:"\\b0b([01_]+)"+C},{begin:"\\b0o([0-7_]+)"+C},{begin:"\\b0x([A-Fa-f0-9_]+)"+C},{begin:"\\b(\\d[\\d_]*(\\.[0-9_]+)?([eE][+-]?[0-9_]+)?)"+C}],relevance:0},{begin:[/fn/,/\s+/,S],className:{1:"keyword",3:"title.function"}},{className:"meta",begin:"#!?\\[",end:"\\]",contains:[{className:"string",begin:/"/,end:/"/,contains:[u.BACKSLASH_ESCAPE]}]},{begin:[/let/,/\s+/,/(?:mut\s+)?/,S],className:{1:"keyword",3:"keyword",4:"variable"}},{begin:[/for/,/\s+/,S,/\s+/,/in/],className:{1:"keyword",3:"variable",5:"keyword"}},{begin:[/type/,/\s+/,S],className:{1:"keyword",3:"title.class"}},{begin:[/(?:trait|enum|struct|union|impl|for)/,/\s+/,S],className:{1:"keyword",3:"title.class"}},{begin:u.IDENT_RE+"::",keywords:{keyword:"Self",built_in:A,type:F}},{className:"punctuation",begin:"->"},k]}},grmr_scss:u=>{const f=j(u),v=pe,S=ne,L="@[a-z-]+",k={className:"variable",begin:"(\\$[a-zA-Z-][a-zA-Z0-9_-]*)\\b",relevance:0};return{name:"SCSS",case_insensitive:!0,illegal:"[=/|']",contains:[u.C_LINE_COMMENT_MODE,u.C_BLOCK_COMMENT_MODE,f.CSS_NUMBER_MODE,{className:"selector-id",begin:"#[A-Za-z0-9_-]+",relevance:0},{className:"selector-class",begin:"\\.[A-Za-z0-9_-]+",relevance:0},f.ATTRIBUTE_SELECTOR_MODE,{className:"selector-tag",begin:"\\b("+ae.join("|")+")\\b",relevance:0},{className:"selector-pseudo",begin:":("+S.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+v.join("|")+")"},k,{begin:/\(/,end:/\)/,contains:[f.CSS_NUMBER_MODE]},f.CSS_VARIABLE,{className:"attribute",begin:"\\b("+Se.join("|")+")\\b"},{begin:"\\b(whitespace|wait|w-resize|visible|vertical-text|vertical-ideographic|uppercase|upper-roman|upper-alpha|underline|transparent|top|thin|thick|text|text-top|text-bottom|tb-rl|table-header-group|table-footer-group|sw-resize|super|strict|static|square|solid|small-caps|separate|se-resize|scroll|s-resize|rtl|row-resize|ridge|right|repeat|repeat-y|repeat-x|relative|progress|pointer|overline|outside|outset|oblique|nowrap|not-allowed|normal|none|nw-resize|no-repeat|no-drop|newspaper|ne-resize|n-resize|move|middle|medium|ltr|lr-tb|lowercase|lower-roman|lower-alpha|loose|list-item|line|line-through|line-edge|lighter|left|keep-all|justify|italic|inter-word|inter-ideograph|inside|inset|inline|inline-block|inherit|inactive|ideograph-space|ideograph-parenthesis|ideograph-numeric|ideograph-alpha|horizontal|hidden|help|hand|groove|fixed|ellipsis|e-resize|double|dotted|distribute|distribute-space|distribute-letter|distribute-all-lines|disc|disabled|default|decimal|dashed|crosshair|collapse|col-resize|circle|char|center|capitalize|break-word|break-all|bottom|both|bolder|bold|block|bidi-override|below|baseline|auto|always|all-scroll|absolute|table|table-cell)\\b"},{begin:/:/,end:/[;}{]/,relevance:0,contains:[f.BLOCK_COMMENT,k,f.HEXCOLOR,f.CSS_NUMBER_MODE,u.QUOTE_STRING_MODE,u.APOS_STRING_MODE,f.IMPORTANT,f.FUNCTION_DISPATCH]},{begin:"@(page|font-face)",keywords:{$pattern:L,keyword:"@page @font-face"}},{begin:"@",end:"[{;]",returnBegin:!0,keywords:{$pattern:/[a-z-]+/,keyword:"and or not only",attribute:W.join(" ")},contains:[{begin:L,className:"keyword"},{begin:/[a-z-]+(?=:)/,className:"attribute"},k,u.QUOTE_STRING_MODE,u.APOS_STRING_MODE,f.HEXCOLOR,f.CSS_NUMBER_MODE]},f.FUNCTION_DISPATCH]}},grmr_shell:u=>({name:"Shell Session",aliases:["console","shellsession"],contains:[{className:"meta.prompt",begin:/^\s{0,3}[/~\w\d[\]()@-]*[>%$#][ ]?/,starts:{end:/[^\\](?=\s*$)/,subLanguage:"bash"}}]}),grmr_sql:u=>{const f=u.regex,v=u.COMMENT("--","$"),S=["abs","acos","array_agg","asin","atan","avg","cast","ceil","ceiling","coalesce","corr","cos","cosh","count","covar_pop","covar_samp","cume_dist","dense_rank","deref","element","exp","extract","first_value","floor","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","last_value","lead","listagg","ln","log","log10","lower","max","min","mod","nth_value","ntile","nullif","percent_rank","percentile_cont","percentile_disc","position","position_regex","power","rank","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","row_number","sin","sinh","sqrt","stddev_pop","stddev_samp","substring","substring_regex","sum","tan","tanh","translate","translate_regex","treat","trim","trim_array","unnest","upper","value_of","var_pop","var_samp","width_bucket"],L=S,k=["abs","acos","all","allocate","alter","and","any","are","array","array_agg","array_max_cardinality","as","asensitive","asin","asymmetric","at","atan","atomic","authorization","avg","begin","begin_frame","begin_partition","between","bigint","binary","blob","boolean","both","by","call","called","cardinality","cascaded","case","cast","ceil","ceiling","char","char_length","character","character_length","check","classifier","clob","close","coalesce","collate","collect","column","commit","condition","connect","constraint","contains","convert","copy","corr","corresponding","cos","cosh","count","covar_pop","covar_samp","create","cross","cube","cume_dist","current","current_catalog","current_date","current_default_transform_group","current_path","current_role","current_row","current_schema","current_time","current_timestamp","current_path","current_role","current_transform_group_for_type","current_user","cursor","cycle","date","day","deallocate","dec","decimal","decfloat","declare","default","define","delete","dense_rank","deref","describe","deterministic","disconnect","distinct","double","drop","dynamic","each","element","else","empty","end","end_frame","end_partition","end-exec","equals","escape","every","except","exec","execute","exists","exp","external","extract","false","fetch","filter","first_value","float","floor","for","foreign","frame_row","free","from","full","function","fusion","get","global","grant","group","grouping","groups","having","hold","hour","identity","in","indicator","initial","inner","inout","insensitive","insert","int","integer","intersect","intersection","interval","into","is","join","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","language","large","last_value","lateral","lead","leading","left","like","like_regex","listagg","ln","local","localtime","localtimestamp","log","log10","lower","match","match_number","match_recognize","matches","max","member","merge","method","min","minute","mod","modifies","module","month","multiset","national","natural","nchar","nclob","new","no","none","normalize","not","nth_value","ntile","null","nullif","numeric","octet_length","occurrences_regex","of","offset","old","omit","on","one","only","open","or","order","out","outer","over","overlaps","overlay","parameter","partition","pattern","per","percent","percent_rank","percentile_cont","percentile_disc","period","portion","position","position_regex","power","precedes","precision","prepare","primary","procedure","ptf","range","rank","reads","real","recursive","ref","references","referencing","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","release","result","return","returns","revoke","right","rollback","rollup","row","row_number","rows","running","savepoint","scope","scroll","search","second","seek","select","sensitive","session_user","set","show","similar","sin","sinh","skip","smallint","some","specific","specifictype","sql","sqlexception","sqlstate","sqlwarning","sqrt","start","static","stddev_pop","stddev_samp","submultiset","subset","substring","substring_regex","succeeds","sum","symmetric","system","system_time","system_user","table","tablesample","tan","tanh","then","time","timestamp","timezone_hour","timezone_minute","to","trailing","translate","translate_regex","translation","treat","trigger","trim","trim_array","true","truncate","uescape","union","unique","unknown","unnest","update","upper","user","using","value","values","value_of","var_pop","var_samp","varbinary","varchar","varying","versioning","when","whenever","where","width_bucket","window","with","within","without","year","add","asc","collation","desc","final","first","last","view"].filter(H=>!S.includes(H)),C={match:f.concat(/\b/,f.either(...L),/\s*\(/),relevance:0,keywords:{built_in:L}};function A(H){return f.concat(/\b/,f.either(...H.map(G=>G.replace(/\s+/,"\\s+"))),/\b/)}const F={scope:"keyword",match:A(["create table","insert into","primary key","foreign key","not null","alter table","add constraint","grouping sets","on overflow","character set","respect nulls","ignore nulls","nulls first","nulls last","depth first","breadth first"]),relevance:0};return{name:"SQL",case_insensitive:!0,illegal:/[{}]|<\//,keywords:{$pattern:/\b[\w\.]+/,keyword:((H,{exceptions:G,when:ue}={})=>{const J=ue;return G=G||[],H.map(ye=>ye.match(/\|\d+$/)||G.includes(ye)?ye:J(ye)?ye+"|0":ye)})(k,{when:H=>H.length<3}),literal:["true","false","unknown"],type:["bigint","binary","blob","boolean","char","character","clob","date","dec","decfloat","decimal","float","int","integer","interval","nchar","nclob","national","numeric","real","row","smallint","time","timestamp","varchar","varying","varbinary"],built_in:["current_catalog","current_date","current_default_transform_group","current_path","current_role","current_schema","current_transform_group_for_type","current_user","session_user","system_time","system_user","current_time","localtime","current_timestamp","localtimestamp"]},contains:[{scope:"type",match:A(["double precision","large object","with timezone","without timezone"])},F,C,{scope:"variable",match:/@[a-z0-9][a-z0-9_]*/},{scope:"string",variants:[{begin:/'/,end:/'/,contains:[{match:/''/}]}]},{begin:/"/,end:/"/,contains:[{match:/""/}]},u.C_NUMBER_MODE,u.C_BLOCK_COMMENT_MODE,v,{scope:"operator",match:/[-+*/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?/,relevance:0}]}},grmr_swift:u=>{const f={match:/\s+/,relevance:0},v=u.COMMENT("/\\*","\\*/",{contains:["self"]}),S=[u.C_LINE_COMMENT_MODE,v],L={match:[/\./,b(...Gl,...Za)],className:{2:"keyword"}},k={match:m(/\./,b(...ji)),relevance:0},C=ji.filter(ve=>typeof ve=="string").concat(["_|0"]),A={variants:[{className:"keyword",match:b(...ji.filter(ve=>typeof ve!="string").concat(Kl).map(zi),...Za)}]},F={$pattern:b(/\b\w+/,/#\w+/),keyword:C.concat(Ql),literal:Qa},H=[L,k,A],G=[{match:m(/\./,b(...Ya)),relevance:0},{className:"built_in",match:m(/\b/,b(...Ya),/(?=\()/)}],ue={match:/->/,relevance:0},J=[ue,{className:"operator",relevance:0,variants:[{match:Fi},{match:`\\.(\\.|${er})+`}]}],ye="([0-9]_*)+",Ee="([0-9a-fA-F]_*)+",ke={className:"number",relevance:0,variants:[{match:`\\b(${ye})(\\.(${ye}))?([eE][+-]?(${ye}))?\\b`},{match:`\\b0x(${Ee})(\\.(${Ee}))?([pP][+-]?(${ye}))?\\b`},{match:/\b0o([0-7]_*)+\b/},{match:/\b0b([01]_*)+\b/}]},Ge=(ve="")=>({className:"subst",variants:[{match:m(/\\/,ve,/[0\\tnr"']/)},{match:m(/\\/,ve,/u\{[0-9a-fA-F]{1,8}\}/)}]}),bt=(ve="")=>({className:"subst",match:m(/\\/,ve,/[\t ]*(?:[\r\n]|\r\n)/)}),it=(ve="")=>({className:"subst",label:"interpol",begin:m(/\\/,ve,/\(/),end:/\)/}),X=(ve="")=>({begin:m(ve,/"""/),end:m(/"""/,ve),contains:[Ge(ve),bt(ve),it(ve)]}),ie=(ve="")=>({begin:m(ve,/"/),end:m(/"/,ve),contains:[Ge(ve),it(ve)]}),me={className:"string",variants:[X(),X("#"),X("##"),X("###"),ie(),ie("#"),ie("##"),ie("###")]},Ke=[u.BACKSLASH_ESCAPE,{begin:/\[/,end:/\]/,relevance:0,contains:[u.BACKSLASH_ESCAPE]}],Xe={begin:/\/[^\s](?=[^/\n]*\/)/,end:/\//,contains:Ke},Fe=ve=>{const Ie=m(ve,/\//),Xt=m(/\//,ve);return{begin:Ie,end:Xt,contains:[...Ke,{scope:"comment",begin:`#(?!.*${Xt})`,end:/$/}]}},Me={scope:"regexp",variants:[Fe("###"),Fe("##"),Fe("#"),Xe]},Te={match:m(/`/,Vt,/`/)},Ae=[Te,{className:"variable",match:/\$\d+/},{className:"variable",match:`\\$${Us}+`}],et=[{match:/(@|#(un)?)available/,scope:"keyword",starts:{contains:[{begin:/\(/,end:/\)/,keywords:Jl,contains:[...J,ke,me]}]}},{scope:"keyword",match:m(/@/,b(...Yl),d(b(/\(/,/\s+/)))},{scope:"meta",match:m(/@/,Vt)}],Nt={match:d(/\b[A-Z]/),relevance:0,contains:[{className:"type",match:m(/(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)/,Us,"+")},{className:"type",match:Vs,relevance:0},{match:/[?!]+/,relevance:0},{match:/\.\.\./,relevance:0},{match:m(/\s+&\s+/,d(Vs)),relevance:0}]},Nn={begin:/</,end:/>/,keywords:F,contains:[...S,...H,...et,ue,Nt]};Nt.contains.push(Nn);const bn={begin:/\(/,end:/\)/,relevance:0,keywords:F,contains:["self",{match:m(Vt,/\s*:/),keywords:"_|0",relevance:0},...S,Me,...H,...G,...J,ke,me,...Ae,...et,Nt]},$t={begin:/</,end:/>/,keywords:"repeat each",contains:[...S,Nt]},vn={begin:/\(/,end:/\)/,keywords:F,contains:[{begin:b(d(m(Vt,/\s*:/)),d(m(Vt,/\s+/,Vt,/\s*:/))),end:/:/,relevance:0,contains:[{className:"keyword",match:/\b_\b/},{className:"params",match:Vt}]},...S,...H,...J,ke,me,...et,Nt,bn],endsParent:!0,illegal:/["']/},_t={match:[/(func|macro)/,/\s+/,b(Te.match,Vt,Fi)],className:{1:"keyword",3:"title.function"},contains:[$t,vn,f],illegal:[/\[/,/%/]},us={match:[/\b(?:subscript|init[?!]?)/,/\s*(?=[<(])/],className:{1:"keyword"},contains:[$t,vn,f],illegal:/\[|%/},An={match:[/operator/,/\s+/,Fi],className:{1:"keyword",3:"title"}},ge={begin:[/precedencegroup/,/\s+/,Vs],className:{1:"keyword",3:"title"},contains:[Nt],keywords:[...Zl,...Qa],end:/}/},Xs={begin:[/(struct|protocol|class|extension|enum|actor)/,/\s+/,Vt,/\s*/],beginScope:{1:"keyword",3:"title.class"},keywords:F,contains:[$t,...H,{begin:/:/,end:/\{/,keywords:F,contains:[{scope:"title.class.inherited",match:Vs},...H],relevance:0}]};for(const ve of me.variants){const Ie=ve.contains.find(tn=>tn.label==="interpol");Ie.keywords=F;const Xt=[...H,...G,...J,ke,me,...Ae];Ie.contains=[...Xt,{begin:/\(/,end:/\)/,contains:["self",...Xt]}]}return{name:"Swift",keywords:F,contains:[...S,_t,us,{match:[/class\b/,/\s+/,/func\b/,/\s+/,/\b[A-Za-z_][A-Za-z0-9_]*\b/],scope:{1:"keyword",3:"keyword",5:"title.function"}},{match:[/class\b/,/\s+/,/var\b/],scope:{1:"keyword",3:"keyword"}},Xs,An,ge,{beginKeywords:"import",end:/$/,contains:[...S],relevance:0},Me,...H,...G,...J,ke,me,...Ae,...et,Nt,bn]}},grmr_typescript:u=>{const f=u.regex,v=Ka(u),S=Ut,L=["any","void","number","boolean","string","object","never","symbol","bigint","unknown"],k={begin:[/namespace/,/\s+/,u.IDENT_RE],beginScope:{1:"keyword",3:"title.class"}},C={beginKeywords:"interface",end:/\{/,excludeEnd:!0,keywords:{keyword:"interface extends",built_in:L},contains:[v.exports.CLASS_REFERENCE]},A={$pattern:Ut,keyword:ls.concat(["type","interface","public","private","protected","implements","declare","abstract","readonly","enum","override","satisfies"]),literal:gt,built_in:Ga.concat(L),"variable.language":Wa},F={className:"meta",begin:"@"+S},H=(J,ye,Ee)=>{const ke=J.contains.findIndex(Ge=>Ge.label===ye);if(ke===-1)throw Error("can not find mode to replace");J.contains.splice(ke,1,Ee)};Object.assign(v.keywords,A),v.exports.PARAMS_CONTAINS.push(F);const G=v.contains.find(J=>J.scope==="attr"),ue=Object.assign({},G,{match:f.concat(S,f.lookahead(/\s*\?:/))});return v.exports.PARAMS_CONTAINS.push([v.exports.CLASS_REFERENCE,G,ue]),v.contains=v.contains.concat([F,k,C,ue]),H(v,"shebang",u.SHEBANG()),H(v,"use_strict",{className:"meta",relevance:10,begin:/^\s*['"]use strict['"]/}),v.contains.find(J=>J.label==="func.def").relevance=0,Object.assign(v,{name:"TypeScript",aliases:["ts","tsx","mts","cts"]}),v},grmr_vbnet:u=>{const f=u.regex,v=/\d{1,2}\/\d{1,2}\/\d{4}/,S=/\d{4}-\d{1,2}-\d{1,2}/,L=/(\d|1[012])(:\d+){0,2} *(AM|PM)/,k=/\d{1,2}(:\d{1,2}){1,2}/,C={className:"literal",variants:[{begin:f.concat(/# */,f.either(S,v),/ *#/)},{begin:f.concat(/# */,k,/ *#/)},{begin:f.concat(/# */,L,/ *#/)},{begin:f.concat(/# */,f.either(S,v),/ +/,f.either(L,k),/ *#/)}]},A=u.COMMENT(/'''/,/$/,{contains:[{className:"doctag",begin:/<\/?/,end:/>/}]}),F=u.COMMENT(null,/$/,{variants:[{begin:/'/},{begin:/([\t ]|^)REM(?=\s)/}]});return{name:"Visual Basic .NET",aliases:["vb"],case_insensitive:!0,classNameAliases:{label:"symbol"},keywords:{keyword:"addhandler alias aggregate ansi as async assembly auto binary by byref byval call case catch class compare const continue custom declare default delegate dim distinct do each equals else elseif end enum erase error event exit explicit finally for friend from function get global goto group handles if implements imports in inherits interface into iterator join key let lib loop me mid module mustinherit mustoverride mybase myclass namespace narrowing new next notinheritable notoverridable of off on operator option optional order overloads overridable overrides paramarray partial preserve private property protected public raiseevent readonly redim removehandler resume return select set shadows shared skip static step stop structure strict sub synclock take text then throw to try unicode until using when where while widening with withevents writeonly yield",built_in:"addressof and andalso await directcast gettype getxmlnamespace is isfalse isnot istrue like mod nameof new not or orelse trycast typeof xor cbool cbyte cchar cdate cdbl cdec cint clng cobj csbyte cshort csng cstr cuint culng cushort",type:"boolean byte char date decimal double integer long object sbyte short single string uinteger ulong ushort",literal:"true false nothing"},illegal:"//|\\{|\\}|endif|gosub|variant|wend|^\\$ ",contains:[{className:"string",begin:/"(""|[^/n])"C\b/},{className:"string",begin:/"/,end:/"/,illegal:/\n/,contains:[{begin:/""/}]},C,{className:"number",relevance:0,variants:[{begin:/\b\d[\d_]*((\.[\d_]+(E[+-]?[\d_]+)?)|(E[+-]?[\d_]+))[RFD@!#]?/},{begin:/\b\d[\d_]*((U?[SIL])|[%&])?/},{begin:/&H[\dA-F_]+((U?[SIL])|[%&])?/},{begin:/&O[0-7_]+((U?[SIL])|[%&])?/},{begin:/&B[01_]+((U?[SIL])|[%&])?/}]},{className:"label",begin:/^\w+:/},A,F,{className:"meta",begin:/[\t ]*#(const|disable|else|elseif|enable|end|externalsource|if|region)\b/,end:/$/,keywords:{keyword:"const disable else elseif enable end externalsource if region then"},contains:[F]}]}},grmr_wasm:u=>{u.regex;const f=u.COMMENT(/\(;/,/;\)/);return f.contains.push("self"),{name:"WebAssembly",keywords:{$pattern:/[\w.]+/,keyword:["anyfunc","block","br","br_if","br_table","call","call_indirect","data","drop","elem","else","end","export","func","global.get","global.set","local.get","local.set","local.tee","get_global","get_local","global","if","import","local","loop","memory","memory.grow","memory.size","module","mut","nop","offset","param","result","return","select","set_global","set_local","start","table","tee_local","then","type","unreachable"]},contains:[u.COMMENT(/;;/,/$/),f,{match:[/(?:offset|align)/,/\s*/,/=/],className:{1:"keyword",3:"operator"}},{className:"variable",begin:/\$[\w_]+/},{match:/(\((?!;)|\))+/,className:"punctuation",relevance:0},{begin:[/(?:func|call|call_indirect)/,/\s+/,/\$[^\s)]+/],className:{1:"keyword",3:"title.function"}},u.QUOTE_STRING_MODE,{match:/(i32|i64|f32|f64)(?!\.)/,className:"type"},{className:"keyword",match:/\b(f32|f64|i32|i64)(?:\.(?:abs|add|and|ceil|clz|const|convert_[su]\/i(?:32|64)|copysign|ctz|demote\/f64|div(?:_[su])?|eqz?|extend_[su]\/i32|floor|ge(?:_[su])?|gt(?:_[su])?|le(?:_[su])?|load(?:(?:8|16|32)_[su])?|lt(?:_[su])?|max|min|mul|nearest|neg?|or|popcnt|promote\/f32|reinterpret\/[fi](?:32|64)|rem_[su]|rot[lr]|shl|shr_[su]|store(?:8|16|32)?|sqrt|sub|trunc(?:_[su]\/f(?:32|64))?|wrap\/i64|xor))\b/},{className:"number",relevance:0,match:/[+-]?\b(?:\d(?:_?\d)*(?:\.\d(?:_?\d)*)?(?:[eE][+-]?\d(?:_?\d)*)?|0x[\da-fA-F](?:_?[\da-fA-F])*(?:\.[\da-fA-F](?:_?[\da-fA-D])*)?(?:[pP][+-]?\d(?:_?\d)*)?)\b|\binf\b|\bnan(?::0x[\da-fA-F](?:_?[\da-fA-D])*)?\b/}]}},grmr_xml:u=>{const f=u.regex,v=f.concat(/[\p{L}_]/u,f.optional(/[\p{L}0-9_.-]*:/u),/[\p{L}0-9_.-]*/u),S={className:"symbol",begin:/&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/},L={begin:/\s/,contains:[{className:"keyword",begin:/#?[a-z_][a-z1-9_-]+/,illegal:/\n/}]},k=u.inherit(L,{begin:/\(/,end:/\)/}),C=u.inherit(u.APOS_STRING_MODE,{className:"string"}),A=u.inherit(u.QUOTE_STRING_MODE,{className:"string"}),F={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:/[\p{L}0-9._:-]+/u,relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[S]},{begin:/'/,end:/'/,contains:[S]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,unicodeRegex:!0,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,relevance:10,contains:[L,A,C,k,{begin:/\[/,end:/\]/,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,contains:[L,k,A,C]}]}]},u.COMMENT(/<!--/,/-->/,{relevance:10}),{begin:/<!\[CDATA\[/,end:/\]\]>/,relevance:10},S,{className:"meta",end:/\?>/,variants:[{begin:/<\?xml/,relevance:10,contains:[A]},{begin:/<\?[a-z][a-z0-9]+/}]},{className:"tag",begin:/<style(?=\s|>)/,end:/>/,keywords:{name:"style"},contains:[F],starts:{end:/<\/style>/,returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:/<script(?=\s|>)/,end:/>/,keywords:{name:"script"},contains:[F],starts:{end:/<\/script>/,returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:/<>|<\/>/},{className:"tag",begin:f.concat(/</,f.lookahead(f.concat(v,f.either(/\/>/,/>/,/\s/)))),end:/\/?>/,contains:[{className:"name",begin:v,relevance:0,starts:F}]},{className:"tag",begin:f.concat(/<\//,f.lookahead(f.concat(v,/>/))),contains:[{className:"name",begin:v,relevance:0},{begin:/>/,relevance:0,endsParent:!0}]}]}},grmr_yaml:u=>{const f="true false yes no null",v="[\\w#;/?:@&=+$,.~*'()[\\]]+",S={className:"string",relevance:0,variants:[{begin:/"/,end:/"/},{begin:/\S+/}],contains:[u.BACKSLASH_ESCAPE,{className:"template-variable",variants:[{begin:/\{\{/,end:/\}\}/},{begin:/%\{/,end:/\}/}]}]},L=u.inherit(S,{variants:[{begin:/'/,end:/'/,contains:[{begin:/''/,relevance:0}]},{begin:/"/,end:/"/},{begin:/[^\s,{}[\]]+/}]}),k={end:",",endsWithParent:!0,excludeEnd:!0,keywords:f,relevance:0},C={begin:/\{/,end:/\}/,contains:[k],illegal:"\\n",relevance:0},A={begin:"\\[",end:"\\]",contains:[k],illegal:"\\n",relevance:0},F=[{className:"attr",variants:[{begin:/[\w*@][\w*@ :()\./-]*:(?=[ \t]|$)/},{begin:/"[\w*@][\w*@ :()\./-]*":(?=[ \t]|$)/},{begin:/'[\w*@][\w*@ :()\./-]*':(?=[ \t]|$)/}]},{className:"meta",begin:"^---\\s*$",relevance:10},{className:"string",begin:"[\\|>]([1-9]?[+-])?[ ]*\\n( +)[^ ][^\\n]*\\n(\\2[^\\n]+\\n?)*"},{begin:"<%[%=-]?",end:"[%-]?%>",subLanguage:"ruby",excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:"!\\w+!"+v},{className:"type",begin:"!<"+v+">"},{className:"type",begin:"!"+v},{className:"type",begin:"!!"+v},{className:"meta",begin:"&"+u.UNDERSCORE_IDENT_RE+"$"},{className:"meta",begin:"\\*"+u.UNDERSCORE_IDENT_RE+"$"},{className:"bullet",begin:"-(?=[ ]|$)",relevance:0},u.HASH_COMMENT_MODE,{beginKeywords:f,keywords:{literal:f}},{className:"number",begin:"\\b[0-9]{4}(-[0-9][0-9]){0,2}([Tt \\t][0-9][0-9]?(:[0-9][0-9]){2})?(\\.[0-9]*)?([ \\t])*(Z|[-+][0-9][0-9]?(:[0-9][0-9])?)?\\b"},{className:"number",begin:u.C_NUMBER_RE+"\\b",relevance:0},C,A,{className:"string",relevance:0,begin:/'/,end:/'/,contains:[{match:/''/,scope:"char.escape",relevance:0}]},S],H=[...F];return H.pop(),H.push(L),k.contains=H,{name:"YAML",case_insensitive:!0,aliases:["yml"],contains:F}}});const sr=q;for(const u of Object.keys(nr)){const f=u.replace("grmr_","").replace("_","-");sr.registerLanguage(f,nr[u])}return sr}();typeof Wl=="object"&&typeof ya<"u"&&(ya.exports=sc);const ut={spring:"<br>DNA<br>",summer:"WIFI <br>",autumn:"<br> <br>//",winter:" <br>1",chineseNewYear:"<br>/",midAutumn:"<br>",dragonBoat:" <br>",lanternFestival:" <br>",christmas:"<br>",halloween:"cos<br>",valentines:"<br> <br>VIP",qixi:"<br>5",nationalDay:"2.0<br>7",qingming:"<br>",labor:" <br>+10086",teacher:"<br>",children:"<br>/",newyear:" 99%<br>Flag..."};function ic(){return new Promise((t,e)=>{const n=document.createElement("script");n.src="/js/lib/lunar.min.js",n.onload=t,n.onerror=e,document.head.appendChild(n)})}async function ac(){try{await ic()}catch(a){console.error(":",a)}const t=new Date,e=t.getMonth()+1,n=t.getDate();let s=null,i="";if(typeof Lunar<"u"){const a=Lunar.fromDate(t),r=a.getMonth(),o=a.getDay();r===1&&o<=14||r===12&&o>=23?(s="chinese-new-year",i=ut.chineseNewYear):r===1&&o===15?(s="lantern",i=ut.lanternFestival):r===5&&o===5?(s="dragon-boat",i=ut.dragonBoat):r===8&&o===15?(s="mid-autumn",i=ut.midAutumn):r===7&&o===7?(s="qixi",i=ut.qixi):e===4&&(n===4||n===5)&&(s="qingming",i=ut.qingming)}s||(e===12&&n>=24&&n<=26?(s="christmas",i=ut.christmas):e===10&&n===31?(s="halloween",i=ut.halloween):e===2&&n===14?(s="valentines",i=ut.valentines):e===10&&n>=1&&n<=7?(s="nationalDay",i=ut.nationalDay):e===5&&n>=1&&n<=5?(s="labor",i=ut.labor):e===9&&n===10?(s="teacher",i=ut.teacher):e===6&&n===1?(s="children",i=ut.children):e===1&&n===1&&(s="newyear",i=ut.newyear)),s||(e>=3&&e<=5?(s="spring",i=ut.spring):e>=6&&e<=8?(s="summer",i=ut.summer):e>=9&&e<=11?(s="autumn",i=ut.autumn):(s="winter",i=ut.winter)),document.documentElement.style.setProperty("--primary-color",`var(--${s}-primary)`),document.documentElement.style.setProperty("--secondary-color",`var(--${s}-secondary)`),document.documentElement.style.setProperty("--theme-bg",`var(--${s}-bg)`),showNotification(i,5,"info")}document.addEventListener("DOMContentLoaded",ac);window.loadingComplete=new Promise(t=>{document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".loading-screen");e?setTimeout(()=>{e.classList.add("fade-out"),setTimeout(()=>{e.style.display="none",t()},500)},500):(console.error(""),t())})});document.addEventListener("DOMContentLoaded",function(){if(window.innerWidth<1200){console.log("Live2D ");const i=document.getElementById("live2d-text-box");i&&(i.style.display="none");return}const t=document.getElementById("live2d-text-box");let e=null;function n(i){return Math.min(1e3+i.length*100,8e3)}window.showLive2dNotification=function(i,a=null,r=null){e&&clearTimeout(e),window.live2dModel&&r&&window.live2dModel.expression(r);const o=a||n(i);t.innerHTML=`<span>${i}</span>`,t.classList.remove("hide"),t.classList.add("show"),e=setTimeout(()=>{t.classList.remove("show"),t.classList.add("hide")},o)};function s(){if(!(localStorage.getItem("textBoxDisplay")!=="false")){removeTextHover();return}const a={thunderstorm:{cold:{message:"",expression:L2D_EXPRESSIONS.SURPRISED},mild:{message:"~",expression:L2D_EXPRESSIONS.SURPRISED},hot:{message:"",expression:L2D_EXPRESSIONS.ANNOYED}},drizzle:{cold:{message:"~",expression:L2D_EXPRESSIONS.CONFUSED},mild:{message:"~",expression:L2D_EXPRESSIONS.BAG},hot:{message:"~",expression:L2D_EXPRESSIONS.SUNGLASSES}},rain:{cold:{message:"~",expression:L2D_EXPRESSIONS.ANNOYED},mild:{message:"~",expression:L2D_EXPRESSIONS.BAG},hot:{message:"~",expression:L2D_EXPRESSIONS.SUNGLASSES}},snow:{cold:{message:"~",expression:L2D_EXPRESSIONS.STARRY_EYES},mild:{message:"~",expression:L2D_EXPRESSIONS.STARRY_EYES},hot:{message:"...",expression:L2D_EXPRESSIONS.SPEECHLESS}},clear:{cold:{message:"~",expression:L2D_EXPRESSIONS.CONFUSED},mild:{message:"",expression:L2D_EXPRESSIONS.SUNGLASSES},hot:{message:"~",expression:L2D_EXPRESSIONS.DIZZY}},clouds:{cold:{message:"~",expression:L2D_EXPRESSIONS.ANNOYED},mild:{message:"~",expression:L2D_EXPRESSIONS.BAG},hot:{message:"~",expression:L2D_EXPRESSIONS.SPEECHLESS}}},r={"#home":{message:"",expression:L2D_EXPRESSIONS.SUNGLASSES},"#projects":{message:"",expression:L2D_EXPRESSIONS.STARRY_EYES},"#about":{message:"",expression:L2D_EXPRESSIONS.SUNGLASSES},"#contact":{message:"QQGithubsteam",expression:L2D_EXPRESSIONS.CONFUSED},"#live2d-settings":{message:"Live2D~",expression:L2D_EXPRESSIONS.DIZZY},"#article-network":{message:"~",expression:L2D_EXPRESSIONS.BAG},"#articles":{message:"",expression:L2D_EXPRESSIONS.BAG},"#donate-button-section":{message:"~",expression:L2D_EXPRESSIONS.STARRY_EYES},".glitch-container":{message:"zygame1314",expression:L2D_EXPRESSIONS.SUNGLASSES},".typing-effect":{message:"",expression:L2D_EXPRESSIONS.BAG},"#dev-journey":{message:"~",expression:L2D_EXPRESSIONS.BAG},"#waline":{message:"~",expression:L2D_EXPRESSIONS.SURPRISED},".avatar":{message:"'' ''",expression:L2D_EXPRESSIONS.SURPRISED},footer:{message:"",expression:L2D_EXPRESSIONS.SUNGLASSES}},o=document.querySelector(".weather-widget");o&&o.addEventListener("mouseenter",async function(){var N,_;const l=(N=document.querySelector(".temperature"))==null?void 0:N.textContent,c=(_=document.querySelector(".description"))==null?void 0:_.textContent;if(!l||!c||l.trim()===""||c.trim()===""){showLive2dNotification("~!",null,L2D_EXPRESSIONS.CONFUSED);return}const d=parseInt(l);let h="";d<=0?h="":d<10?h="~":d<20?h="":d<30?h="~":h="";let p="",m=L2D_EXPRESSIONS.SUNGLASSES;const b=Array.from(o.classList).find(E=>E.startsWith("weather-")&&E!=="weather-widget");if(b){const E=b.replace("weather-","");let $="";if(d<=10?$="cold":d<26?$="mild":$="hot",a[E]&&a[E][$]){const T=a[E][$];p=T.message,m=T.expression}}const w=`${c}${l} ${p} ${h}`.trim().replace(/  +/g," ");showLive2dNotification(w,null,m)});for(const[l,c]of Object.entries(r)){const d=document.querySelector(l);d&&d.addEventListener("mouseenter",function(){typeof c=="string"?showLive2dNotification(c):showLive2dNotification(c.message,null,c.expression)})}}s()});let on,ft;const rc="https://bucket.zygame1314.site/static/live2d/",ir="Doro",oc=`${rc}${ir}/${ir}.model3.json`,zt=document.getElementById("L2dCanvas");window.L2D_EXPRESSIONS={ANNOYED:"Exp1",SPEECHLESS:"Exp2",SURPRISED:"Exp3",CONFUSED:"Exp4",SUNGLASSES:"Exp5",BAG:"Exp6",DIZZY:"Exp7",STARRY_EYES:"Exp8",TONGUE_OUT:"TongueOut",HIGHLIGHT_OFF:"HighlightOFF"};function lc(t){return new Promise((e,n)=>{const s=document.createElement("script");s.src=t,s.async=!1,s.onload=e,s.onerror=()=>n(new Error(`: ${t}`)),document.head.appendChild(s)})}async function cc(){const t=["/js/lib/live2dcubismcore.min.js","/js/lib/pixi.min.js","/js/lib/cubism4.min.js"];try{for(const e of t)console.log(`: ${e}`),await lc(e),console.log(`: ${e}`);return window.PIXI=PIXI,console.log(" Live2D "),!0}catch(e){return console.error(" Live2D :",e),typeof showLive2dNotification=="function"?showNotification("",3,"error"):showNotification("",3,"error"),!1}}async function ar(){if(window.innerWidth<1200){console.log("Live2D "),zt&&(zt.style.display="none");return}if(!zt){console.error(" L2dCanvas ");return}if(!await cc()){zt&&(zt.style.display="none");return}try{if(console.log(" PIXI ..."),on=new PIXI.Application({transparent:!0,autoStart:!0,resizeTo:zt,resolution:window.devicePixelRatio||1}),zt.innerHTML="",zt.appendChild(on.view),on.view.className="live2d-canvas-view",on.renderer.view.style.width="300px",on.renderer.view.style.height="300px",ft=await PIXI.live2d.Live2DModel.from(oc,{onError:e=>{console.error(" Live2D :",e),typeof showLive2dNotification=="function"&&showNotification(" (`)",3,"error")}}),ft.motion("Idle"),ft.autoInteract=!0,!ft)throw new Error("Live2DModel.from  undefined  null");console.log(":",ft),on.stage.addChild(ft),rr(),setTimeout(()=>{typeof showLive2dNotification=="function"?uc():console.error("showLive2dNotification ")},500),window.addEventListener("resize",rr),window.live2dApp=on,window.live2dModel=ft}catch(e){console.error("Live2D  (PIXI/):",e),typeof showLive2dNotification=="function"?showNotification("",3,"error"):showNotification("",3,"error"),zt&&(zt.style.display="none")}}function rr(){if(!on||!ft||!ft.internalModel||!ft.internalModel.width||!ft.internalModel.height){console.warn("");return}const t=zt.getBoundingClientRect(),e=t.width,n=t.height;if(e<=0||n<=0){console.warn("");return}on.renderer.resize(e,n);const s=ft.internalModel.width,i=ft.internalModel.height,a=e/s,r=n/i,o=Math.min(a,r)*.8;ft.scale.set(-o,o),ft.x=e/2,ft.y=n/2,ft.anchor.set(.5,.5),console.log(`: ${e}x${n}, : ${s}x${i}, : ${o.toFixed(3)}`)}function uc(){if(typeof showLive2dNotification!="function"){console.warn(" showLive2dNotification ");return}const t=new Date().getHours(),e=new Date().getDay(),n=e===0||e===6;let s="",i=L2D_EXPRESSIONS.SUNGLASSES;t<3?(s="",i=L2D_EXPRESSIONS.ANNOYED):t<6?(s="",i=L2D_EXPRESSIONS.SURPRISED):t<9?(s=n?"~":"",i=L2D_EXPRESSIONS.STARRY_EYES):t<11?(s=n?"":"",i=L2D_EXPRESSIONS.BAG):t<13?(s="",i=L2D_EXPRESSIONS.TONGUE_OUT):t<15?(s="~",i=L2D_EXPRESSIONS.DIZZY):t<17?(s=t===15?"":"~",i=L2D_EXPRESSIONS.CONFUSED):t<19?(s="",i=L2D_EXPRESSIONS.STARRY_EYES):t<22?(s="~",i=L2D_EXPRESSIONS.SUNGLASSES):(s="",i=L2D_EXPRESSIONS.SPEECHLESS),showLive2dNotification(s,3e3,i)}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",ar):ar();const dc=(t,e,n)=>{const s=t[e];return s?typeof s=="function"?s():Promise.resolve(s):new Promise((i,a)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(a.bind(null,new Error("Unknown variable dynamic import: "+e+(e.split("/").length!==n?". Note that variables only represent file names one level deep.":""))))})};var hc=Object.defineProperty,pc=(t,e,n)=>e in t?hc(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,fc=(t,e,n)=>pc(t,e+"",n);const bo={"Content-Type":"application/json"},zn=t=>`${t.replace(/\/?$/,"/")}api/`,ns=(t,e="")=>{if(typeof t=="object"&&t.errno)throw new TypeError(`${e} failed with ${t.errno}: ${t.errmsg}`);return t},vo=({serverURL:t,lang:e,paths:n,type:s,signal:i})=>fetch(`${zn(t)}article?path=${encodeURIComponent(n.join(","))}&type=${encodeURIComponent(s.join(","))}&lang=${e}`,{signal:i}).then(a=>a.json()).then(a=>ns(a,"Get counter").data),ra=({serverURL:t,lang:e,path:n,type:s,action:i})=>fetch(`${zn(t)}article?lang=${e}`,{method:"POST",headers:bo,body:JSON.stringify({path:n,type:s,action:i})}).then(a=>a.json()).then(a=>ns(a,"Update counter").data),mc=({serverURL:t,lang:e,path:n,page:s,pageSize:i,sortBy:a,signal:r,token:o})=>{const l={};return o&&(l.Authorization=`Bearer ${o}`),fetch(`${zn(t)}comment?path=${encodeURIComponent(n)}&pageSize=${i}&page=${s}&lang=${e}&sortBy=${a}`,{signal:r,headers:l}).then(c=>c.json()).then(c=>ns(c,"Get comment data").data)},gc=({serverURL:t,lang:e,token:n,comment:s})=>{const i={"Content-Type":"application/json"};return n&&(i.Authorization=`Bearer ${n}`),fetch(`${zn(t)}comment?lang=${e}`,{method:"POST",headers:i,body:JSON.stringify(s)}).then(a=>a.json())},bc=({serverURL:t,lang:e,token:n,objectId:s})=>fetch(`${zn(t)}comment/${s}?lang=${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${n}`}}).then(i=>i.json()).then(i=>ns(i,"Delete comment")),si=({serverURL:t,lang:e,token:n,objectId:s,comment:i})=>fetch(`${zn(t)}comment/${s}?lang=${e}`,{method:"PUT",headers:{...bo,Authorization:`Bearer ${n}`},body:JSON.stringify(i)}).then(a=>a.json()).then(a=>ns(a,"Update comment")),vc=({serverURL:t,lang:e,paths:n,signal:s})=>fetch(`${zn(t)}comment?type=count&url=${encodeURIComponent(n.join(","))}&lang=${e}`,{signal:s}).then(i=>i.json()).then(i=>ns(i,"Get comment count").data),yc=({lang:t,serverURL:e})=>{const n=(window.innerWidth-450)/2,s=(window.innerHeight-450)/2,i=window.open(`${e.replace(/\/$/,"")}/ui/login?lng=${encodeURIComponent(t)}`,"_blank",`width=450,height=450,left=${n},top=${s},scrollbars=no,resizable=no,status=no,location=no,toolbar=no,menubar=no`);return i==null||i.postMessage({type:"TOKEN",data:null},"*"),new Promise(a=>{const r=({data:o})=>{!o||typeof o!="object"||o.type!=="userInfo"||o.data.token&&(i==null||i.close(),window.removeEventListener("message",r),a(o.data))};window.addEventListener("message",r)})},wc=({serverURL:t,lang:e,paths:n,signal:s})=>vo({serverURL:t,lang:e,paths:n,type:["time"],signal:s}),_c=t=>ra({...t,type:"time",action:"inc"}),Ec=["nick","mail","link"],or=t=>t.filter(e=>Ec.includes(e)),lr=["//unpkg.com/@waline/emojis@1.1.0/weibo"],xc=["//unpkg.com/@waline/emojis/tieba/tieba_agree.png","//unpkg.com/@waline/emojis/tieba/tieba_look_down.png","//unpkg.com/@waline/emojis/tieba/tieba_sunglasses.png","//unpkg.com/@waline/emojis/tieba/tieba_pick_nose.png","//unpkg.com/@waline/emojis/tieba/tieba_awkward.png","//unpkg.com/@waline/emojis/tieba/tieba_sleep.png"],Sc=t=>new Promise((e,n)=>{if(t.size>128e3)return n(new Error("File too large! File size limit 128KB"));const s=new FileReader;s.readAsDataURL(t),s.onload=()=>e(s.result),s.onerror=n}),kc=t=>t?'<p class="wl-tex">TeX is not available in preview</p>':'<span class="wl-tex">TeX is not available in preview</span>',Nc=t=>{const e=async(n,s={})=>fetch(`https://api.giphy.com/v1/gifs/${n}?${new URLSearchParams({lang:t,limit:"20",rating:"g",api_key:"6CIMLkNMMOhRcXPoMCPkFy4Ybk2XUiMp",...s}).toString()}`).then(i=>i.json()).then(({data:i})=>i.map(a=>({title:a.title,src:a.images.downsized_medium.url})));return{search:n=>e("search",{q:n,offset:"0"}),default:()=>e("trending",{}),more:(n,s=0)=>e("search",{q:n,offset:s.toString()})}},Ac=/[\u4E00-\u9FFF\u3400-\u4dbf\uf900-\ufaff\u3040-\u309f\uac00-\ud7af\u0400-\u04FF]+|\w+/,Lc=/</,Cc=/(?:^|\s)\/\/(.+?)$/gm,Mc=/\/\*([\S\s]*?)\*\//gm,Tc=new RegExp(`(${Ac.source}|${Lc.source})|((?:${Cc.source})|(?:${Mc.source}))`,"gmi"),cr=["23AC69","91C132","F19726","E8552D","1AAB8E","E1147F","2980C1","1BA1E6","9FA0A0","F19726","E30B20","E30B20","A3338B"],Vi={},Ic=t=>{let e=0;return t.replace(Tc,(n,s,i)=>{if(i)return`<span style="color: slategray">${i}</span>`;if(s==="<")return"&lt;";let a;Vi[s]?a=Vi[s]:(a=cr[e],Vi[s]=a);const r=`<span style="color: #${a}">${s}</span>`;return e=++e%cr.length,r})},Oc=["nick","nickError","mail","mailError","link","optional","placeholder","sofa","submit","like","cancelLike","reply","cancelReply","comment","refresh","more","preview","emoji","uploadImage","seconds","minutes","hours","days","now","uploading","login","logout","admin","sticky","word","wordHint","anonymous","level0","level1","level2","level3","level4","level5","gif","gifSearchPlaceholder","profile","approved","waiting","spam","unsticky","oldest","latest","hottest","reactionTitle"],Jt=t=>Object.fromEntries(t.map((e,n)=>[Oc[n],e]));var $c=Jt(["Benutzername","Der Benutzername darf nicht weniger als 3 Bytes umfassen.","E-Mail","Bitte besttigen Sie Ihre E-Mail-Adresse.","Webseite","Optional","Kommentieren Sie hier...","Noch keine Kommentare.","Senden","Gefllt mir","Gefllt mir nicht mehr","Antworten","Antwort abbrechen","Kommentare","Aktualisieren","Mehr laden...","Vorschau","Emoji","Ein Bild hochladen","Vor einigen Sekunden","Vor einigen Minuten","Vor einigen Stunden","Vor einigen Tagen","Gerade eben","Hochladen luft","Anmelden","Abmelden","Admin","Angeheftet","Wrter","Bitte geben Sie Kommentare zwischen $0 und $1 Wrtern ein! Aktuelle Anzahl der Wrter: $2","Anonym","Zwerge","Hobbits","Ents","Magier","Elfen","Maar","GIF","Nach einem GIF suchen","Profil","Genehmigt","Ausstehend","Spam","Lsen","lteste","Neueste","Am beliebtesten","Was denken Sie?"]),ur=Jt(["NickName","NickName cannot be less than 3 bytes.","E-Mail","Please confirm your email address.","Website","Optional","Comment here...","No comment yet.","Submit","Like","Cancel like","Reply","Cancel reply","Comments","Refresh","Load More...","Preview","Emoji","Upload Image","seconds ago","minutes ago","hours ago","days ago","just now","Uploading","Login","logout","Admin","Sticky","Words",`Please input comments between $0 and $1 words!
 Current word number: $2`,"Anonymous","Dwarves","Hobbits","Ents","Wizards","Elves","Maiar","GIF","Search GIF","Profile","Approved","Waiting","Spam","Unsticky","Oldest","Latest","Hottest","What do you think?"]),dr=Jt(["Nombre de usuario","El nombre de usuario no puede tener menos de 3 bytes.","Correo electrnico","Por favor confirma tu direccin de correo electrnico.","Sitio web","Opcional","Comenta aqu...","Sin comentarios todava.","Enviar","Like","Anular like","Responder","Anular respuesta","Comentarios","Recargar","Cargar Ms...","Previsualizar","Emoji","Subir Imagen","segundos atrs","minutos atrs","horas atrs","das atrs","justo ahora","Subiendo","Iniciar sesin","cerrar sesin","Admin","Fijado","Palabras",`Por favor escriba entre $0 y $1 palabras!
 El nmero actual de palabras: $2`,"Annimo","Enanos","Hobbits","Ents","Magos","Elfos","Maiar","GIF","Buscar GIF","Perfil","Aprobado","Esperando","Spam","Desfijar","Ms antiguos","Ms recientes","Ms vistos","Qu piensas?"]),hr=Jt(["Pseudo","Le pseudo ne peut pas faire moins de 3 octets.","E-mail","Veuillez confirmer votre adresse e-mail.","Site Web","Optionnel","Commentez ici...","Aucun commentaire pour l'instant.","Envoyer","J'aime","Annuler le j'aime","Rpondre","Annuler la rponse","Commentaires","Actualiser","Charger plus...","Aperu","Emoji","Tlcharger une image","Il y a quelques secondes","Il y a quelques minutes","Il y a quelques heures","Il y a quelques jours"," l'instant","Tlchargement en cours","Connexion","Dconnexion","Admin","pingl","Mots",`Veuillez saisir des commentaires entre $0 et $1 mots !
 Nombre actuel de mots : $2`,"Anonyme","Nains","Hobbits","Ents","Mages","Elfes","Maar","GIF","Rechercher un GIF","Profil","Approuv","En attente","Indsirable","Dtacher","Le plus ancien","Dernier","Le plus populaire","Qu'en pensez-vous ?"]),pr=Jt(["","3.","",".","","","","~","","Like","Cancel like","","","","","","","","","","","","","","","","","","","",` $0  $1 !
 : $2`,"","","","","","","","GIF"," GIF","","","","","","","","",""]),Rc=Jt(["Apelido","Apelido no pode ser menor que 3 bytes.","E-Mail","Por favor, confirme seu endereo de e-mail.","Website","Opcional","Comente aqui...","Nenhum comentrio, ainda.","Enviar","Like","Cancel like","Responder","Cancelar resposta","Comentrios","Refrescar","Carregar Mais...","Visualizar","Emoji","Enviar Imagem","segundos atrs","minutos atrs","horas atrs","dias atrs","agora mesmo","Enviando","Entrar","Sair","Admin","Sticky","Palavras",`Favor enviar comentrio com $0 a $1 palavras!
 Nmero de palavras atuais: $2`,"Annimo","Dwarves","Hobbits","Ents","Wizards","Elves","Maiar","GIF","Pesquisar GIF","informao pessoal","Aprovado","Espera","Spam","Unsticky","Mais velho","Mais recentes","Mais quente","O que voc acha?"]),fr=Jt(["","     3 .",". ",",     .","-",""," ...","  .","","Like","Cancel like",""," ","",""," ...","",""," "," ","  ","  "," "," ","","","  ","","","",`,    $0  $1 !
  : $2`,"","Dwarves","Hobbits","Ents","Wizards","Elves","Maiar","GIF"," GIF"," ","","","",""," ",""," ","  ?"]),mr=Jt(["Tn","Tn khng c nh hn 3 k t.","E-Mail","Vui lng xc nhp a ch email ca bn.","Website","Ty chn","Hy bnh lun c vn ho!","Cha c bnh lun","Gi","Thch","B thch","Tr li","Hy b","bnh lun","Lm mi","Ti thm...","Xem trc","Emoji","Ti ln hnh nh","giy trc","pht trc","gi trc","ngy trc","Va xong","ang ti ln","ng nhp","ng xut","Qun tr vin","Dnh","t",`Bnh lun phi c  di gia $0 v $1 t!
 S t hin ti: $2`,"V danh","Ngi ln","Ngi t hon","Thn rng","Php s","Tin tc","Maiar","nh GIF","Tm kim nh GIF","thng tin c nhn"," c ph duyt","ang ch i","Th rc","Khng dnh","lu i nht","mun nht","nng nht","What do you think?"]),gr=Jt(["","3","","","","","","~","","","","","","","","...","","","","","","","","","","","","","","",` $0  $1 
$2`,"","","","","","","","","","","","","","","","","",""]),Dc=Jt(["","3","","","","","","~","","","","","","","","...","","","","","","","","","","","","","","",` $0  $1 
$2`,"","","","","","","","","","","","","","","","","",""]);const yo="en-US",oa={zh:gr,"zh-cn":gr,"zh-tw":Dc,en:ur,"en-us":ur,fr:hr,"fr-fr":hr,jp:pr,"jp-jp":pr,"pt-br":Rc,ru:fr,"ru-ru":fr,vi:mr,"vi-vn":mr,de:$c,es:dr,"es-mx":dr},Pc=t=>oa[t.toLowerCase()]||oa[yo.toLowerCase()],br=t=>Object.keys(oa).includes(t.toLowerCase())?t:yo,wo={latest:"insertedAt_desc",oldest:"insertedAt_asc",hottest:"like_desc"},Bc=Object.keys(wo),Si=Symbol("waline-config"),_o=t=>{try{t=decodeURI(t)}catch{}return t},Eo=(t="")=>t.replace(/\/$/u,""),xo=t=>/^(https?:)?\/\//.test(t),oi=t=>{const e=Eo(t);return xo(e)?e:`https://${e}`},zc=t=>Array.isArray(t)?t:t?[0,t]:!1,ds=(t,e)=>t==null||t===!0?e:t===!1?null:t,jc=({serverURL:t,path:e=location.pathname,lang:n=typeof navigator>"u"?"en-US":navigator.language,locale:s,meta:i=["nick","mail","link"],requiredMeta:a=[],dark:r=!1,pageSize:o=10,wordLimit:l,noCopyright:c=!1,login:d="enable",recaptchaV3Key:h="",turnstileKey:p="",commentSorting:m="latest",emoji:b=lr,imageUploader:w,highlighter:N,texRenderer:_,search:E,reaction:$,...T})=>({serverURL:oi(t),path:_o(e),lang:br(n),locale:{...Pc(br(n)),...typeof s=="object"?s:{}},wordLimit:zc(l),meta:or(i),requiredMeta:or(a),dark:r,pageSize:o,commentSorting:m,login:d,noCopyright:c,recaptchaV3Key:h,turnstileKey:p,...T,reaction:$===!0?xc:$||null,imageUploader:ds(w,Sc),highlighter:ds(N,Ic),texRenderer:ds(_,kc),emoji:ds(b,lr),search:ds(E,Nc(n))}),Jn=t=>typeof t=="string",Xi="{--waline-white:#000;--waline-light-grey:#666;--waline-dark-grey:#999;--waline-color:#888;--waline-bg-color:#1e1e1e;--waline-bg-color-light:#272727;--waline-bg-color-hover: #444;--waline-border-color:#333;--waline-disable-bg-color:#444;--waline-disable-color:#272727;--waline-bq-color:#272727;--waline-info-bg-color:#272727;--waline-info-color:#666}",Fc=t=>Jn(t)?t==="auto"?`@media(prefers-color-scheme:dark){body${Xi}}`:`${t}${Xi}`:t===!0?`:root${Xi}`:"",Wi=(t,e)=>{let n=t.toString();for(;n.length<e;)n="0"+n;return n},Hc=t=>{const e=Wi(t.getDate(),2),n=Wi(t.getMonth()+1,2);return`${Wi(t.getFullYear(),2)}-${n}-${e}`},qc=(t,e,n)=>{if(!t)return"";const s=Jn(t)?new Date(t.includes(" ")?t.replace(/-/g,"/"):t):t,i=e.getTime()-s.getTime(),a=Math.floor(i/(24*3600*1e3));if(a===0){const r=i%864e5,o=Math.floor(r/(3600*1e3));if(o===0){const l=r%36e5,c=Math.floor(l/(60*1e3));if(c===0){const d=l%6e4;return`${Math.round(d/1e3)} ${n.seconds}`}return`${c} ${n.minutes}`}return`${o} ${n.hours}`}return a<0?n.now:a<8?`${a} ${n.days}`:Hc(s)},Uc=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Vc=t=>Uc.test(t);/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function wa(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const qe={},Wn=[],In=()=>{},Xc=()=>!1,ki=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),_a=t=>t.startsWith("onUpdate:"),en=Object.assign,So=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},Wc=Object.prototype.hasOwnProperty,Re=(t,e)=>Wc.call(t,e),_e=Array.isArray,Gn=t=>zs(t)==="[object Map]",ss=t=>zs(t)==="[object Set]",vr=t=>zs(t)==="[object Date]",De=t=>typeof t=="function",dt=t=>typeof t=="string",Yt=t=>typeof t=="symbol",nt=t=>t!==null&&typeof t=="object",ko=t=>(nt(t)||De(t))&&De(t.then)&&De(t.catch),No=Object.prototype.toString,zs=t=>No.call(t),Gc=t=>zs(t).slice(8,-1),Ao=t=>zs(t)==="[object Object]",Ea=t=>dt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,vs=wa(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ni=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},Kc=/-(\w)/g,Bt=Ni(t=>t.replace(Kc,(e,n)=>n?n.toUpperCase():"")),Zc=/\B([A-Z])/g,jn=Ni(t=>t.replace(Zc,"-$1").toLowerCase()),Ai=Ni(t=>t.charAt(0).toUpperCase()+t.slice(1)),Gi=Ni(t=>t?`on${Ai(t)}`:""),En=(t,e)=>!Object.is(t,e),ii=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},Lo=(t,e,n,s=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:s,value:n})},li=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let yr;const Cs=()=>yr||(yr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Ms(t){if(_e(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],i=dt(s)?eu(s):Ms(s);if(i)for(const a in i)e[a]=i[a]}return e}else if(dt(t)||nt(t))return t}const Qc=/;(?![^(]*\))/g,Yc=/:([^]+)/,Jc=/\/\*[^]*?\*\//g;function eu(t){const e={};return t.replace(Jc,"").split(Qc).forEach(n=>{if(n){const s=n.split(Yc);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function lt(t){let e="";if(dt(t))e=t;else if(_e(t))for(let n=0;n<t.length;n++){const s=lt(t[n]);s&&(e+=s+" ")}else if(nt(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const tu="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",nu=wa(tu);function Co(t){return!!t||t===""}function su(t,e){if(t.length!==e.length)return!1;let n=!0;for(let s=0;n&&s<t.length;s++)n=Rn(t[s],e[s]);return n}function Rn(t,e){if(t===e)return!0;let n=vr(t),s=vr(e);if(n||s)return n&&s?t.getTime()===e.getTime():!1;if(n=Yt(t),s=Yt(e),n||s)return t===e;if(n=_e(t),s=_e(e),n||s)return n&&s?su(t,e):!1;if(n=nt(t),s=nt(e),n||s){if(!n||!s)return!1;const i=Object.keys(t).length,a=Object.keys(e).length;if(i!==a)return!1;for(const r in t){const o=t.hasOwnProperty(r),l=e.hasOwnProperty(r);if(o&&!l||!o&&l||!Rn(t[r],e[r]))return!1}}return String(t)===String(e)}function xa(t,e){return t.findIndex(n=>Rn(n,e))}const Mo=t=>!!(t&&t.__v_isRef===!0),$e=t=>dt(t)?t:t==null?"":_e(t)||nt(t)&&(t.toString===No||!De(t.toString))?Mo(t)?$e(t.value):JSON.stringify(t,To,2):String(t),To=(t,e)=>Mo(e)?To(t,e.value):Gn(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[s,i],a)=>(n[Ki(s,a)+" =>"]=i,n),{})}:ss(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>Ki(n))}:Yt(e)?Ki(e):nt(e)&&!_e(e)&&!Ao(e)?String(e):e,Ki=(t,e="")=>{var n;return Yt(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Et;class iu{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Et,!e&&Et&&(this.index=(Et.scopes||(Et.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=Et;try{return Et=this,e()}finally{Et=n}}}on(){Et=this}off(){Et=this.parent}stop(e){if(this._active){this._active=!1;let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(this.effects.length=0,n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function Io(){return Et}function au(t,e=!1){Et&&Et.cleanups.push(t)}let Qe;const Zi=new WeakSet;class Oo{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Et&&Et.active&&Et.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Zi.has(this)&&(Zi.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Ro(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,wr(this),Do(this);const e=Qe,n=Ht;Qe=this,Ht=!0;try{return this.fn()}finally{Po(this),Qe=e,Ht=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Na(e);this.deps=this.depsTail=void 0,wr(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Zi.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){la(this)&&this.run()}get dirty(){return la(this)}}let $o=0,ys,ws;function Ro(t,e=!1){if(t.flags|=8,e){t.next=ws,ws=t;return}t.next=ys,ys=t}function Sa(){$o++}function ka(){if(--$o>0)return;if(ws){let e=ws;for(ws=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;ys;){let e=ys;for(ys=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(s){t||(t=s)}e=n}}if(t)throw t}function Do(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Po(t){let e,n=t.depsTail,s=n;for(;s;){const i=s.prevDep;s.version===-1?(s===n&&(n=i),Na(s),ru(s)):e=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=i}t.deps=e,t.depsTail=n}function la(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Bo(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Bo(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Ts))return;t.globalVersion=Ts;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!la(t)){t.flags&=-3;return}const n=Qe,s=Ht;Qe=t,Ht=!0;try{Do(t);const i=t.fn(t._value);(e.version===0||En(i,t._value))&&(t._value=i,e.version++)}catch(i){throw e.version++,i}finally{Qe=n,Ht=s,Po(t),t.flags&=-3}}function Na(t,e=!1){const{dep:n,prevSub:s,nextSub:i}=t;if(s&&(s.nextSub=i,t.prevSub=void 0),i&&(i.prevSub=s,t.nextSub=void 0),n.subs===t&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(let a=n.computed.deps;a;a=a.nextDep)Na(a,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function ru(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let Ht=!0;const zo=[];function Fn(){zo.push(Ht),Ht=!1}function Hn(){const t=zo.pop();Ht=t===void 0?!0:t}function wr(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=Qe;Qe=void 0;try{e()}finally{Qe=n}}}let Ts=0;class ou{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Li{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!Qe||!Ht||Qe===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Qe)n=this.activeLink=new ou(Qe,this),Qe.deps?(n.prevDep=Qe.depsTail,Qe.depsTail.nextDep=n,Qe.depsTail=n):Qe.deps=Qe.depsTail=n,jo(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=Qe.depsTail,n.nextDep=void 0,Qe.depsTail.nextDep=n,Qe.depsTail=n,Qe.deps===n&&(Qe.deps=s)}return n}trigger(e){this.version++,Ts++,this.notify(e)}notify(e){Sa();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{ka()}}}function jo(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let s=e.deps;s;s=s.nextDep)jo(s)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const ci=new WeakMap,On=Symbol(""),ca=Symbol(""),Is=Symbol("");function vt(t,e,n){if(Ht&&Qe){let s=ci.get(t);s||ci.set(t,s=new Map);let i=s.get(n);i||(s.set(n,i=new Li),i.map=s,i.key=n),i.track()}}function cn(t,e,n,s,i,a){const r=ci.get(t);if(!r){Ts++;return}const o=l=>{l&&l.trigger()};if(Sa(),e==="clear")r.forEach(o);else{const l=_e(t),c=l&&Ea(n);if(l&&n==="length"){const d=Number(s);r.forEach((h,p)=>{(p==="length"||p===Is||!Yt(p)&&p>=d)&&o(h)})}else switch((n!==void 0||r.has(void 0))&&o(r.get(n)),c&&o(r.get(Is)),e){case"add":l?c&&o(r.get("length")):(o(r.get(On)),Gn(t)&&o(r.get(ca)));break;case"delete":l||(o(r.get(On)),Gn(t)&&o(r.get(ca)));break;case"set":Gn(t)&&o(r.get(On));break}}ka()}function lu(t,e){const n=ci.get(t);return n&&n.get(e)}function Un(t){const e=Oe(t);return e===t?e:(vt(e,"iterate",Is),Dt(t)?e:e.map(yt))}function Ci(t){return vt(t=Oe(t),"iterate",Is),t}const cu={__proto__:null,[Symbol.iterator](){return Qi(this,Symbol.iterator,yt)},concat(...t){return Un(this).concat(...t.map(e=>_e(e)?Un(e):e))},entries(){return Qi(this,"entries",t=>(t[1]=yt(t[1]),t))},every(t,e){return sn(this,"every",t,e,void 0,arguments)},filter(t,e){return sn(this,"filter",t,e,n=>n.map(yt),arguments)},find(t,e){return sn(this,"find",t,e,yt,arguments)},findIndex(t,e){return sn(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return sn(this,"findLast",t,e,yt,arguments)},findLastIndex(t,e){return sn(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return sn(this,"forEach",t,e,void 0,arguments)},includes(...t){return Yi(this,"includes",t)},indexOf(...t){return Yi(this,"indexOf",t)},join(t){return Un(this).join(t)},lastIndexOf(...t){return Yi(this,"lastIndexOf",t)},map(t,e){return sn(this,"map",t,e,void 0,arguments)},pop(){return hs(this,"pop")},push(...t){return hs(this,"push",t)},reduce(t,...e){return _r(this,"reduce",t,e)},reduceRight(t,...e){return _r(this,"reduceRight",t,e)},shift(){return hs(this,"shift")},some(t,e){return sn(this,"some",t,e,void 0,arguments)},splice(...t){return hs(this,"splice",t)},toReversed(){return Un(this).toReversed()},toSorted(t){return Un(this).toSorted(t)},toSpliced(...t){return Un(this).toSpliced(...t)},unshift(...t){return hs(this,"unshift",t)},values(){return Qi(this,"values",yt)}};function Qi(t,e,n){const s=Ci(t),i=s[e]();return s!==t&&!Dt(t)&&(i._next=i.next,i.next=()=>{const a=i._next();return a.value&&(a.value=n(a.value)),a}),i}const uu=Array.prototype;function sn(t,e,n,s,i,a){const r=Ci(t),o=r!==t&&!Dt(t),l=r[e];if(l!==uu[e]){const h=l.apply(t,a);return o?yt(h):h}let c=n;r!==t&&(o?c=function(h,p){return n.call(this,yt(h),p,t)}:n.length>2&&(c=function(h,p){return n.call(this,h,p,t)}));const d=l.call(r,c,s);return o&&i?i(d):d}function _r(t,e,n,s){const i=Ci(t);let a=n;return i!==t&&(Dt(t)?n.length>3&&(a=function(r,o,l){return n.call(this,r,o,l,t)}):a=function(r,o,l){return n.call(this,r,yt(o),l,t)}),i[e](a,...s)}function Yi(t,e,n){const s=Oe(t);vt(s,"iterate",Is);const i=s[e](...n);return(i===-1||i===!1)&&Aa(n[0])?(n[0]=Oe(n[0]),s[e](...n)):i}function hs(t,e,n=[]){Fn(),Sa();const s=Oe(t)[e].apply(t,n);return ka(),Hn(),s}const du=wa("__proto__,__v_isRef,__isVue"),Fo=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Yt));function hu(t){Yt(t)||(t=String(t));const e=Oe(this);return vt(e,"has",t),e.hasOwnProperty(t)}class Ho{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,s){if(n==="__v_skip")return e.__v_skip;const i=this._isReadonly,a=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return a;if(n==="__v_raw")return s===(i?a?Go:Wo:a?Xo:Vo).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(s)?e:void 0;const r=_e(e);if(!i){let l;if(r&&(l=cu[n]))return l;if(n==="hasOwnProperty")return hu}const o=Reflect.get(e,n,ct(e)?e:s);return(Yt(n)?Fo.has(n):du(n))||(i||vt(e,"get",n),a)?o:ct(o)?r&&Ea(n)?o:o.value:nt(o)?i?is(o):Os(o):o}}class qo extends Ho{constructor(e=!1){super(!1,e)}set(e,n,s,i){let a=e[n];if(!this._isShallow){const l=Dn(a);if(!Dt(s)&&!Dn(s)&&(a=Oe(a),s=Oe(s)),!_e(e)&&ct(a)&&!ct(s))return l?!1:(a.value=s,!0)}const r=_e(e)&&Ea(n)?Number(n)<e.length:Re(e,n),o=Reflect.set(e,n,s,ct(e)?e:i);return e===Oe(i)&&(r?En(s,a)&&cn(e,"set",n,s):cn(e,"add",n,s)),o}deleteProperty(e,n){const s=Re(e,n),i=Reflect.deleteProperty(e,n);return i&&s&&cn(e,"delete",n,void 0),i}has(e,n){const s=Reflect.has(e,n);return(!Yt(n)||!Fo.has(n))&&vt(e,"has",n),s}ownKeys(e){return vt(e,"iterate",_e(e)?"length":On),Reflect.ownKeys(e)}}class Uo extends Ho{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const pu=new qo,fu=new Uo,mu=new qo(!0),gu=new Uo(!0),ua=t=>t,Gs=t=>Reflect.getPrototypeOf(t);function bu(t,e,n){return function(...s){const i=this.__v_raw,a=Oe(i),r=Gn(a),o=t==="entries"||t===Symbol.iterator&&r,l=t==="keys"&&r,c=i[t](...s),d=n?ua:e?da:yt;return!e&&vt(a,"iterate",l?ca:On),{next(){const{value:h,done:p}=c.next();return p?{value:h,done:p}:{value:o?[d(h[0]),d(h[1])]:d(h),done:p}},[Symbol.iterator](){return this}}}}function Ks(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function vu(t,e){const n={get(s){const i=this.__v_raw,a=Oe(i),r=Oe(s);t||(En(s,r)&&vt(a,"get",s),vt(a,"get",r));const{has:o}=Gs(a),l=e?ua:t?da:yt;if(o.call(a,s))return l(i.get(s));if(o.call(a,r))return l(i.get(r));i!==a&&i.get(s)},get size(){const s=this.__v_raw;return!t&&vt(Oe(s),"iterate",On),Reflect.get(s,"size",s)},has(s){const i=this.__v_raw,a=Oe(i),r=Oe(s);return t||(En(s,r)&&vt(a,"has",s),vt(a,"has",r)),s===r?i.has(s):i.has(s)||i.has(r)},forEach(s,i){const a=this,r=a.__v_raw,o=Oe(r),l=e?ua:t?da:yt;return!t&&vt(o,"iterate",On),r.forEach((c,d)=>s.call(i,l(c),l(d),a))}};return en(n,t?{add:Ks("add"),set:Ks("set"),delete:Ks("delete"),clear:Ks("clear")}:{add(s){!e&&!Dt(s)&&!Dn(s)&&(s=Oe(s));const i=Oe(this);return Gs(i).has.call(i,s)||(i.add(s),cn(i,"add",s,s)),this},set(s,i){!e&&!Dt(i)&&!Dn(i)&&(i=Oe(i));const a=Oe(this),{has:r,get:o}=Gs(a);let l=r.call(a,s);l||(s=Oe(s),l=r.call(a,s));const c=o.call(a,s);return a.set(s,i),l?En(i,c)&&cn(a,"set",s,i):cn(a,"add",s,i),this},delete(s){const i=Oe(this),{has:a,get:r}=Gs(i);let o=a.call(i,s);o||(s=Oe(s),o=a.call(i,s)),r&&r.call(i,s);const l=i.delete(s);return o&&cn(i,"delete",s,void 0),l},clear(){const s=Oe(this),i=s.size!==0,a=s.clear();return i&&cn(s,"clear",void 0,void 0),a}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=bu(s,t,e)}),n}function Mi(t,e){const n=vu(t,e);return(s,i,a)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?s:Reflect.get(Re(n,i)&&i in s?n:s,i,a)}const yu={get:Mi(!1,!1)},wu={get:Mi(!1,!0)},_u={get:Mi(!0,!1)},Eu={get:Mi(!0,!0)},Vo=new WeakMap,Xo=new WeakMap,Wo=new WeakMap,Go=new WeakMap;function xu(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Su(t){return t.__v_skip||!Object.isExtensible(t)?0:xu(Gc(t))}function Os(t){return Dn(t)?t:Ti(t,!1,pu,yu,Vo)}function ku(t){return Ti(t,!1,mu,wu,Xo)}function is(t){return Ti(t,!0,fu,_u,Wo)}function Nu(t){return Ti(t,!0,gu,Eu,Go)}function Ti(t,e,n,s,i){if(!nt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const a=i.get(t);if(a)return a;const r=Su(t);if(r===0)return t;const o=new Proxy(t,r===2?s:n);return i.set(t,o),o}function Kn(t){return Dn(t)?Kn(t.__v_raw):!!(t&&t.__v_isReactive)}function Dn(t){return!!(t&&t.__v_isReadonly)}function Dt(t){return!!(t&&t.__v_isShallow)}function Aa(t){return t?!!t.__v_raw:!1}function Oe(t){const e=t&&t.__v_raw;return e?Oe(e):t}function Au(t){return!Re(t,"__v_skip")&&Object.isExtensible(t)&&Lo(t,"__v_skip",!0),t}const yt=t=>nt(t)?Os(t):t,da=t=>nt(t)?is(t):t;function ct(t){return t?t.__v_isRef===!0:!1}function ze(t){return Ko(t,!1)}function Pn(t){return Ko(t,!0)}function Ko(t,e){return ct(t)?t:new Lu(t,e)}class Lu{constructor(e,n){this.dep=new Li,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:Oe(e),this._value=n?e:yt(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,s=this.__v_isShallow||Dt(e)||Dn(e);e=s?e:Oe(e),En(e,n)&&(this._rawValue=e,this._value=s?e:yt(e),this.dep.trigger())}}function we(t){return ct(t)?t.value:t}function It(t){return De(t)?t():we(t)}const Cu={get:(t,e,n)=>e==="__v_raw"?t:we(Reflect.get(t,e,n)),set:(t,e,n,s)=>{const i=t[e];return ct(i)&&!ct(n)?(i.value=n,!0):Reflect.set(t,e,n,s)}};function Zo(t){return Kn(t)?t:new Proxy(t,Cu)}class Mu{constructor(e){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new Li,{get:s,set:i}=e(n.track.bind(n),n.trigger.bind(n));this._get=s,this._set=i}get value(){return this._value=this._get()}set value(e){this._set(e)}}function Tu(t){return new Mu(t)}class Iu{constructor(e,n,s){this._object=e,this._key=n,this._defaultValue=s,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return lu(Oe(this._object),this._key)}}class Ou{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function $u(t,e,n){return ct(t)?t:De(t)?new Ou(t):nt(t)&&arguments.length>1?Ru(t,e,n):ze(t)}function Ru(t,e,n){const s=t[e];return ct(s)?s:new Iu(t,e,n)}class Du{constructor(e,n,s){this.fn=e,this.setter=n,this._value=void 0,this.dep=new Li(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Ts-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&Qe!==this)return Ro(this,!0),!0}get value(){const e=this.dep.track();return Bo(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Pu(t,e,n=!1){let s,i;return De(t)?s=t:(s=t.get,i=t.set),new Du(s,i,n)}const Zs={},ui=new WeakMap;let Mn;function Bu(t,e=!1,n=Mn){if(n){let s=ui.get(n);s||ui.set(n,s=[]),s.push(t)}}function zu(t,e,n=qe){const{immediate:s,deep:i,once:a,scheduler:r,augmentJob:o,call:l}=n,c=T=>i?T:Dt(T)||i===!1||i===0?un(T,1):un(T);let d,h,p,m,b=!1,w=!1;if(ct(t)?(h=()=>t.value,b=Dt(t)):Kn(t)?(h=()=>c(t),b=!0):_e(t)?(w=!0,b=t.some(T=>Kn(T)||Dt(T)),h=()=>t.map(T=>{if(ct(T))return T.value;if(Kn(T))return c(T);if(De(T))return l?l(T,2):T()})):De(t)?e?h=l?()=>l(t,2):t:h=()=>{if(p){Fn();try{p()}finally{Hn()}}const T=Mn;Mn=d;try{return l?l(t,3,[m]):t(m)}finally{Mn=T}}:h=In,e&&i){const T=h,B=i===!0?1/0:i;h=()=>un(T(),B)}const N=Io(),_=()=>{d.stop(),N&&N.active&&So(N.effects,d)};if(a&&e){const T=e;e=(...B)=>{T(...B),_()}}let E=w?new Array(t.length).fill(Zs):Zs;const $=T=>{if(!(!(d.flags&1)||!d.dirty&&!T))if(e){const B=d.run();if(i||b||(w?B.some((Y,R)=>En(Y,E[R])):En(B,E))){p&&p();const Y=Mn;Mn=d;try{const R=[B,E===Zs?void 0:w&&E[0]===Zs?[]:E,m];l?l(e,3,R):e(...R),E=B}finally{Mn=Y}}}else d.run()};return o&&o($),d=new Oo(h),d.scheduler=r?()=>r($,!1):$,m=T=>Bu(T,!1,d),p=d.onStop=()=>{const T=ui.get(d);if(T){if(l)l(T,4);else for(const B of T)B();ui.delete(d)}},e?s?$(!0):E=d.run():r?r($.bind(null,!0),!0):d.run(),_.pause=d.pause.bind(d),_.resume=d.resume.bind(d),_.stop=_,_}function un(t,e=1/0,n){if(e<=0||!nt(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,ct(t))un(t.value,e,n);else if(_e(t))for(let s=0;s<t.length;s++)un(t[s],e,n);else if(ss(t)||Gn(t))t.forEach(s=>{un(s,e,n)});else if(Ao(t)){for(const s in t)un(t[s],e,n);for(const s of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,s)&&un(t[s],e,n)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function js(t,e,n,s){try{return s?t(...s):t()}catch(i){Ii(i,e,n)}}function fn(t,e,n,s){if(De(t)){const i=js(t,e,n,s);return i&&ko(i)&&i.catch(a=>{Ii(a,e,n)}),i}if(_e(t)){const i=[];for(let a=0;a<t.length;a++)i.push(fn(t[a],e,n,s));return i}}function Ii(t,e,n,s=!0){const i=e?e.vnode:null,{errorHandler:a,throwUnhandledErrorInProduction:r}=e&&e.appContext.config||qe;if(e){let o=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;o;){const d=o.ec;if(d){for(let h=0;h<d.length;h++)if(d[h](t,l,c)===!1)return}o=o.parent}if(a){Fn(),js(a,null,10,[t,l,c]),Hn();return}}ju(t,n,i,s,r)}function ju(t,e,n,s=!0,i=!1){if(i)throw t;console.error(t)}const xt=[];let Zt=-1;const Zn=[];let wn=null,Xn=0;const Qo=Promise.resolve();let di=null;function as(t){const e=di||Qo;return t?e.then(this?t.bind(this):t):e}function Fu(t){let e=Zt+1,n=xt.length;for(;e<n;){const s=e+n>>>1,i=xt[s],a=$s(i);a<t||a===t&&i.flags&2?e=s+1:n=s}return e}function La(t){if(!(t.flags&1)){const e=$s(t),n=xt[xt.length-1];!n||!(t.flags&2)&&e>=$s(n)?xt.push(t):xt.splice(Fu(e),0,t),t.flags|=1,Yo()}}function Yo(){di||(di=Qo.then(el))}function Hu(t){_e(t)?Zn.push(...t):wn&&t.id===-1?wn.splice(Xn+1,0,t):t.flags&1||(Zn.push(t),t.flags|=1),Yo()}function Er(t,e,n=Zt+1){for(;n<xt.length;n++){const s=xt[n];if(s&&s.flags&2){if(t&&s.id!==t.uid)continue;xt.splice(n,1),n--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function Jo(t){if(Zn.length){const e=[...new Set(Zn)].sort((n,s)=>$s(n)-$s(s));if(Zn.length=0,wn){wn.push(...e);return}for(wn=e,Xn=0;Xn<wn.length;Xn++){const n=wn[Xn];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}wn=null,Xn=0}}const $s=t=>t.id==null?t.flags&2?-1:1/0:t.id;function el(t){try{for(Zt=0;Zt<xt.length;Zt++){const e=xt[Zt];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),js(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Zt<xt.length;Zt++){const e=xt[Zt];e&&(e.flags&=-2)}Zt=-1,xt.length=0,Jo(),di=null,(xt.length||Zn.length)&&el()}}let At=null,tl=null;function hi(t){const e=At;return At=t,tl=t&&t.type.__scopeId||null,e}function qu(t,e=At,n){if(!e||t._n)return t;const s=(...i)=>{s._d&&Cr(-1);const a=hi(e);let r;try{r=t(...i)}finally{hi(a),s._d&&Cr(1)}return r};return s._n=!0,s._c=!0,s._d=!0,s}function Qs(t,e){if(At===null)return t;const n=Di(At),s=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[a,r,o,l=qe]=e[i];a&&(De(a)&&(a={mounted:a,updated:a}),a.deep&&un(r),s.push({dir:a,instance:n,value:r,oldValue:void 0,arg:o,modifiers:l}))}return t}function Ln(t,e,n,s){const i=t.dirs,a=e&&e.dirs;for(let r=0;r<i.length;r++){const o=i[r];a&&(o.oldValue=a[r].value);let l=o.dir[s];l&&(Fn(),fn(l,n,8,[t.el,o,t,e]),Hn())}}const Uu=Symbol("_vte"),Vu=t=>t.__isTeleport;function Ca(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Ca(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}/*! #__NO_SIDE_EFFECTS__ */function Fs(t,e){return De(t)?en({name:t.name},e,{setup:t}):t}function Xu(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function yn(t){const e=bl(),n=Pn(null);if(e){const s=e.refs===qe?e.refs={}:e.refs;Object.defineProperty(s,t,{enumerable:!0,get:()=>n.value,set:i=>n.value=i})}return n}function pi(t,e,n,s,i=!1){if(_e(t)){t.forEach((b,w)=>pi(b,e&&(_e(e)?e[w]:e),n,s,i));return}if(_s(s)&&!i){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&pi(t,e,n,s.component.subTree);return}const a=s.shapeFlag&4?Di(s.component):s.el,r=i?null:a,{i:o,r:l}=t,c=e&&e.r,d=o.refs===qe?o.refs={}:o.refs,h=o.setupState,p=Oe(h),m=h===qe?()=>!1:b=>Re(p,b);if(c!=null&&c!==l&&(dt(c)?(d[c]=null,m(c)&&(h[c]=null)):ct(c)&&(c.value=null)),De(l))js(l,o,12,[r,d]);else{const b=dt(l),w=ct(l);if(b||w){const N=()=>{if(t.f){const _=b?m(l)?h[l]:d[l]:l.value;i?_e(_)&&So(_,a):_e(_)?_.includes(a)||_.push(a):b?(d[l]=[a],m(l)&&(h[l]=d[l])):(l.value=[a],t.k&&(d[t.k]=l.value))}else b?(d[l]=r,m(l)&&(h[l]=r)):w&&(l.value=r,t.k&&(d[t.k]=r))};r?(N.id=-1,Mt(N,n)):N()}}}Cs().requestIdleCallback,Cs().cancelIdleCallback;const _s=t=>!!t.type.__asyncLoader,Wu=t=>t.type.__isKeepAlive;function Gu(t,e,n=St,s=!1){if(n){const i=n[t]||(n[t]=[]),a=e.__weh||(e.__weh=(...r)=>{Fn();const o=$a(n),l=fn(e,n,t,r);return o(),Hn(),l});return s?i.unshift(a):i.push(a),a}}const Ma=t=>(e,n=St)=>{(!Ds||t==="sp")&&Gu(t,(...s)=>e(...s),n)},Hs=Ma("m"),Ku=Ma("bum"),Ta=Ma("um"),Zu="components";function Qu(t,e){return Ju(Zu,t,!0,e)||t}const Yu=Symbol.for("v-ndc");function Ju(t,e,n=!0,s=!1){const i=At||St;if(i){const a=i.type;{const o=Dd(a,!1);if(o&&(o===e||o===Bt(e)||o===Ai(Bt(e))))return a}const r=xr(i[t]||a[t],e)||xr(i.appContext[t],e);return!r&&s?a:r}}function xr(t,e){return t&&(t[e]||t[Bt(e)]||t[Ai(Bt(e))])}function Rt(t,e,n,s){let i;const a=n,r=_e(t);if(r||dt(t)){const o=r&&Kn(t);let l=!1;o&&(l=!Dt(t),t=Ci(t)),i=new Array(t.length);for(let c=0,d=t.length;c<d;c++)i[c]=e(l?yt(t[c]):t[c],c,void 0,a)}else if(typeof t=="number"){i=new Array(t);for(let o=0;o<t;o++)i[o]=e(o+1,o,void 0,a)}else if(nt(t))if(t[Symbol.iterator])i=Array.from(t,(o,l)=>e(o,l,void 0,a));else{const o=Object.keys(t);i=new Array(o.length);for(let l=0,c=o.length;l<c;l++){const d=o[l];i[l]=e(t[d],d,l,a)}}else i=[];return i}const ha=t=>t?vl(t)?Di(t):ha(t.parent):null,Es=en(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>ha(t.parent),$root:t=>ha(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>t.type,$forceUpdate:t=>t.f||(t.f=()=>{La(t.update)}),$nextTick:t=>t.n||(t.n=as.bind(t.proxy)),$watch:t=>In}),Ji=(t,e)=>t!==qe&&!t.__isScriptSetup&&Re(t,e),ed={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:s,data:i,props:a,accessCache:r,type:o,appContext:l}=t;let c;if(e[0]!=="$"){const m=r[e];if(m!==void 0)switch(m){case 1:return s[e];case 2:return i[e];case 4:return n[e];case 3:return a[e]}else{if(Ji(s,e))return r[e]=1,s[e];if(i!==qe&&Re(i,e))return r[e]=2,i[e];if((c=t.propsOptions[0])&&Re(c,e))return r[e]=3,a[e];if(n!==qe&&Re(n,e))return r[e]=4,n[e];r[e]=0}}const d=Es[e];let h,p;if(d)return e==="$attrs"&&vt(t.attrs,"get",""),d(t);if((h=o.__cssModules)&&(h=h[e]))return h;if(n!==qe&&Re(n,e))return r[e]=4,n[e];if(p=l.config.globalProperties,Re(p,e))return p[e]},set({_:t},e,n){const{data:s,setupState:i,ctx:a}=t;return Ji(i,e)?(i[e]=n,!0):s!==qe&&Re(s,e)?(s[e]=n,!0):Re(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(a[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:s,appContext:i,propsOptions:a}},r){let o;return!!n[r]||t!==qe&&Re(t,r)||Ji(e,r)||(o=a[0])&&Re(o,r)||Re(s,r)||Re(Es,r)||Re(i.config.globalProperties,r)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Re(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function nl(){return{app:null,config:{isNativeTag:Xc,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let td=0;function nd(t,e){return function(n,s=null){De(n)||(n=en({},n)),s!=null&&!nt(s)&&(s=null);const i=nl(),a=new WeakSet,r=[];let o=!1;const l=i.app={_uid:td++,_component:n,_props:s,_container:null,_context:i,_instance:null,version:Bd,get config(){return i.config},set config(c){},use(c,...d){return a.has(c)||(c&&De(c.install)?(a.add(c),c.install(l,...d)):De(c)&&(a.add(c),c(l,...d))),l},mixin(c){return l},component(c,d){return d?(i.components[c]=d,l):i.components[c]},directive(c,d){return d?(i.directives[c]=d,l):i.directives[c]},mount(c,d,h){if(!o){const p=l._ceVNode||Ue(n,s);return p.appContext=i,h===!0?h="svg":h===!1&&(h=void 0),t(p,c,h),o=!0,l._container=c,c.__vue_app__=l,Di(p.component)}},onUnmount(c){r.push(c)},unmount(){o&&(fn(r,l._instance,16),t(null,l._container),delete l._container.__vue_app__)},provide(c,d){return i.provides[c]=d,l},runWithContext(c){const d=Qn;Qn=l;try{return c()}finally{Qn=d}}};return l}}let Qn=null;function sd(t,e){if(St){let n=St.provides;const s=St.parent&&St.parent.provides;s===n&&(n=St.provides=Object.create(s)),n[t]=e}}function Oi(t,e,n=!1){const s=St||At;if(s||Qn){const i=Qn?Qn._context.provides:s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return n&&De(e)?e.call(s&&s.proxy):e}}const sl={},il=()=>Object.create(sl),al=t=>Object.getPrototypeOf(t)===sl;function id(t,e,n,s=!1){const i={},a=il();t.propsDefaults=Object.create(null),rl(t,e,i,a);for(const r in t.propsOptions[0])r in i||(i[r]=void 0);n?t.props=s?i:ku(i):t.type.props?t.props=i:t.props=a,t.attrs=a}function ad(t,e,n,s){const{props:i,attrs:a,vnode:{patchFlag:r}}=t,o=Oe(i),[l]=t.propsOptions;let c=!1;if((s||r>0)&&!(r&16)){if(r&8){const d=t.vnode.dynamicProps;for(let h=0;h<d.length;h++){let p=d[h];if($i(t.emitsOptions,p))continue;const m=e[p];if(l)if(Re(a,p))m!==a[p]&&(a[p]=m,c=!0);else{const b=Bt(p);i[b]=pa(l,o,b,m,t,!1)}else m!==a[p]&&(a[p]=m,c=!0)}}}else{rl(t,e,i,a)&&(c=!0);let d;for(const h in o)(!e||!Re(e,h)&&((d=jn(h))===h||!Re(e,d)))&&(l?n&&(n[h]!==void 0||n[d]!==void 0)&&(i[h]=pa(l,o,h,void 0,t,!0)):delete i[h]);if(a!==o)for(const h in a)(!e||!Re(e,h))&&(delete a[h],c=!0)}c&&cn(t.attrs,"set","")}function rl(t,e,n,s){const[i,a]=t.propsOptions;let r=!1,o;if(e)for(let l in e){if(vs(l))continue;const c=e[l];let d;i&&Re(i,d=Bt(l))?!a||!a.includes(d)?n[d]=c:(o||(o={}))[d]=c:$i(t.emitsOptions,l)||(!(l in s)||c!==s[l])&&(s[l]=c,r=!0)}if(a){const l=Oe(n),c=o||qe;for(let d=0;d<a.length;d++){const h=a[d];n[h]=pa(i,l,h,c[h],t,!Re(c,h))}}return r}function pa(t,e,n,s,i,a){const r=t[n];if(r!=null){const o=Re(r,"default");if(o&&s===void 0){const l=r.default;if(r.type!==Function&&!r.skipFactory&&De(l)){const{propsDefaults:c}=i;if(n in c)s=c[n];else{const d=$a(i);s=c[n]=l.call(null,e),d()}}else s=l;i.ce&&i.ce._setProp(n,s)}r[0]&&(a&&!o?s=!1:r[1]&&(s===""||s===jn(n))&&(s=!0))}return s}function rd(t,e,n=!1){const s=e.propsCache,i=s.get(t);if(i)return i;const a=t.props,r={},o=[];if(!a)return nt(t)&&s.set(t,Wn),Wn;if(_e(a))for(let c=0;c<a.length;c++){const d=Bt(a[c]);Sr(d)&&(r[d]=qe)}else if(a)for(const c in a){const d=Bt(c);if(Sr(d)){const h=a[c],p=r[d]=_e(h)||De(h)?{type:h}:en({},h),m=p.type;let b=!1,w=!0;if(_e(m))for(let N=0;N<m.length;++N){const _=m[N],E=De(_)&&_.name;if(E==="Boolean"){b=!0;break}else E==="String"&&(w=!1)}else b=De(m)&&m.name==="Boolean";p[0]=b,p[1]=w,(b||Re(p,"default"))&&o.push(d)}}const l=[r,o];return nt(t)&&s.set(t,l),l}function Sr(t){return t[0]!=="$"&&!vs(t)}const ol=t=>t[0]==="_"||t==="$stable",Ia=t=>_e(t)?t.map(Qt):[Qt(t)],od=(t,e,n)=>{if(e._n)return e;const s=qu((...i)=>Ia(e(...i)),n);return s._c=!1,s},ll=(t,e,n)=>{const s=t._ctx;for(const i in t){if(ol(i))continue;const a=t[i];if(De(a))e[i]=od(i,a,s);else if(a!=null){const r=Ia(a);e[i]=()=>r}}},cl=(t,e)=>{const n=Ia(e);t.slots.default=()=>n},ul=(t,e,n)=>{for(const s in e)(n||s!=="_")&&(t[s]=e[s])},ld=(t,e,n)=>{const s=t.slots=il();if(t.vnode.shapeFlag&32){const i=e._;i?(ul(s,e,n),n&&Lo(s,"_",i,!0)):ll(e,s)}else e&&cl(t,e)},cd=(t,e,n)=>{const{vnode:s,slots:i}=t;let a=!0,r=qe;if(s.shapeFlag&32){const o=e._;o?n&&o===1?a=!1:ul(i,e,n):(a=!e.$stable,ll(e,i)),r=e}else e&&(cl(t,e),r={default:1});if(a)for(const o in i)!ol(o)&&r[o]==null&&delete i[o]};function ud(){typeof __VUE_PROD_HYDRATION_MISMATCH_DETAILS__!="boolean"&&(Cs().__VUE_PROD_HYDRATION_MISMATCH_DETAILS__=!1)}const Mt=Sd;function dd(t){return hd(t)}function hd(t,e){ud();const n=Cs();n.__VUE__=!0;const{insert:s,remove:i,patchProp:a,createElement:r,createText:o,createComment:l,setText:c,setElementText:d,parentNode:h,nextSibling:p,setScopeId:m=In,insertStaticContent:b}=t,w=(g,y,x,I=null,M=null,O=null,z=void 0,U=null,q=!!y.dynamicChildren)=>{if(g===y)return;g&&!ps(g,y)&&(I=qt(g),ot(g,M,O,!0),g=null),y.patchFlag===-2&&(q=!1,y.dynamicChildren=null);const{type:j,ref:ae,shapeFlag:W}=y;switch(j){case Ri:N(g,y,x,I);break;case Bn:_(g,y,x,I);break;case ta:g==null&&E(y,x,I,z);break;case Ye:ee(g,y,x,I,M,O,z,U,q);break;default:W&1?B(g,y,x,I,M,O,z,U,q):W&6?P(g,y,x,I,M,O,z,U,q):(W&64||W&128)&&j.process(g,y,x,I,M,O,z,U,q,V)}ae!=null&&M&&pi(ae,g&&g.ref,O,y||g,!y)},N=(g,y,x,I)=>{if(g==null)s(y.el=o(y.children),x,I);else{const M=y.el=g.el;y.children!==g.children&&c(M,y.children)}},_=(g,y,x,I)=>{g==null?s(y.el=l(y.children||""),x,I):y.el=g.el},E=(g,y,x,I)=>{[g.el,g.anchor]=b(g.children,y,x,I,g.el,g.anchor)},$=({el:g,anchor:y},x,I)=>{let M;for(;g&&g!==y;)M=p(g),s(g,x,I),g=M;s(y,x,I)},T=({el:g,anchor:y})=>{let x;for(;g&&g!==y;)x=p(g),i(g),g=x;i(y)},B=(g,y,x,I,M,O,z,U,q)=>{y.type==="svg"?z="svg":y.type==="math"&&(z="mathml"),g==null?Y(y,x,I,M,O,z,U,q):le(g,y,M,O,z,U,q)},Y=(g,y,x,I,M,O,z,U)=>{let q,j;const{props:ae,shapeFlag:W,transition:ne,dirs:pe}=g;if(q=g.el=r(g.type,O,ae&&ae.is,ae),W&8?d(q,g.children):W&16&&Z(g.children,q,null,I,M,ea(g,O),z,U),pe&&Ln(g,null,I,"created"),R(q,g,g.scopeId,z,I),ae){for(const je in ae)je!=="value"&&!vs(je)&&a(q,je,null,ae[je],O,I);"value"in ae&&a(q,"value",null,ae.value,O),(j=ae.onVnodeBeforeMount)&&Wt(j,I,g)}pe&&Ln(g,null,I,"beforeMount");const Se=pd(M,ne);Se&&ne.beforeEnter(q),s(q,y,x),((j=ae&&ae.onVnodeMounted)||Se||pe)&&Mt(()=>{j&&Wt(j,I,g),Se&&ne.enter(q),pe&&Ln(g,null,I,"mounted")},M)},R=(g,y,x,I,M)=>{if(x&&m(g,x),I)for(let O=0;O<I.length;O++)m(g,I[O]);if(M){let O=M.subTree;if(y===O||fl(O.type)&&(O.ssContent===y||O.ssFallback===y)){const z=M.vnode;R(g,z,z.scopeId,z.slotScopeIds,M.parent)}}},Z=(g,y,x,I,M,O,z,U,q=0)=>{for(let j=q;j<g.length;j++){const ae=g[j]=U?_n(g[j]):Qt(g[j]);w(null,ae,y,x,I,M,O,z,U)}},le=(g,y,x,I,M,O,z)=>{const U=y.el=g.el;let{patchFlag:q,dynamicChildren:j,dirs:ae}=y;q|=g.patchFlag&16;const W=g.props||qe,ne=y.props||qe;let pe;if(x&&Cn(x,!1),(pe=ne.onVnodeBeforeUpdate)&&Wt(pe,x,y,g),ae&&Ln(y,g,x,"beforeUpdate"),x&&Cn(x,!0),(W.innerHTML&&ne.innerHTML==null||W.textContent&&ne.textContent==null)&&d(U,""),j?oe(g.dynamicChildren,j,U,x,I,ea(y,M),O):z||fe(g,y,U,null,x,I,ea(y,M),O,!1),q>0){if(q&16)D(U,W,ne,x,M);else if(q&2&&W.class!==ne.class&&a(U,"class",null,ne.class,M),q&4&&a(U,"style",W.style,ne.style,M),q&8){const Se=y.dynamicProps;for(let je=0;je<Se.length;je++){const Ne=Se[je],ht=W[Ne],at=ne[Ne];(at!==ht||Ne==="value")&&a(U,Ne,ht,at,M,x)}}q&1&&g.children!==y.children&&d(U,y.children)}else!z&&j==null&&D(U,W,ne,x,M);((pe=ne.onVnodeUpdated)||ae)&&Mt(()=>{pe&&Wt(pe,x,y,g),ae&&Ln(y,g,x,"updated")},I)},oe=(g,y,x,I,M,O,z)=>{for(let U=0;U<y.length;U++){const q=g[U],j=y[U],ae=q.el&&(q.type===Ye||!ps(q,j)||q.shapeFlag&70)?h(q.el):x;w(q,j,ae,null,I,M,O,z,!0)}},D=(g,y,x,I,M)=>{if(y!==x){if(y!==qe)for(const O in y)!vs(O)&&!(O in x)&&a(g,O,y[O],null,M,I);for(const O in x){if(vs(O))continue;const z=x[O],U=y[O];z!==U&&O!=="value"&&a(g,O,U,z,M,I)}"value"in x&&a(g,"value",y.value,x.value,M)}},ee=(g,y,x,I,M,O,z,U,q)=>{const j=y.el=g?g.el:o(""),ae=y.anchor=g?g.anchor:o("");let{patchFlag:W,dynamicChildren:ne,slotScopeIds:pe}=y;pe&&(U=U?U.concat(pe):pe),g==null?(s(j,x,I),s(ae,x,I),Z(y.children||[],x,ae,M,O,z,U,q)):W>0&&W&64&&ne&&g.dynamicChildren?(oe(g.dynamicChildren,ne,x,M,O,z,U),(y.key!=null||M&&y===M.subTree)&&dl(g,y,!0)):fe(g,y,x,ae,M,O,z,U,q)},P=(g,y,x,I,M,O,z,U,q)=>{y.slotScopeIds=U,g==null?y.shapeFlag&512?M.ctx.activate(y,x,I,z,q):ce(y,x,I,M,O,z,q):de(g,y,q)},ce=(g,y,x,I,M,O,z)=>{const U=g.component=Td(g,I,M);if(Wu(g)&&(U.ctx.renderer=V),Id(U,!1,z),U.asyncDep){if(M&&M.registerDep(U,Ce,z),!g.el){const q=U.subTree=Ue(Bn);_(null,q,y,x)}}else Ce(U,g,y,x,M,O,z)},de=(g,y,x)=>{const I=y.component=g.component;if(Ed(g,y,x))if(I.asyncDep&&!I.asyncResolved){st(I,y,x);return}else I.next=y,I.update();else y.el=g.el,I.vnode=y},Ce=(g,y,x,I,M,O,z)=>{const U=()=>{if(g.isMounted){let{next:W,bu:ne,u:pe,parent:Se,vnode:je}=g;{const gn=hl(g);if(gn){W&&(W.el=je.el,st(g,W,z)),gn.asyncDep.then(()=>{g.isUnmounted||U()});return}}let Ne=W,ht;Cn(g,!1),W?(W.el=je.el,st(g,W,z)):W=je,ne&&ii(ne),(ht=W.props&&W.props.onVnodeBeforeUpdate)&&Wt(ht,Se,W,je),Cn(g,!0);const at=Ar(g),mt=g.subTree;g.subTree=at,w(mt,at,h(mt.el),qt(mt),g,M,O),W.el=at.el,Ne===null&&xd(g,at.el),pe&&Mt(pe,M),(ht=W.props&&W.props.onVnodeUpdated)&&Mt(()=>Wt(ht,Se,W,je),M)}else{let W;const{props:ne}=y,{bm:pe,m:Se,parent:je,root:Ne,type:ht}=g,at=_s(y);Cn(g,!1),pe&&ii(pe),!at&&(W=ne&&ne.onVnodeBeforeMount)&&Wt(W,je,y),Cn(g,!0);{Ne.ce&&Ne.ce._injectChildStyle(ht);const mt=g.subTree=Ar(g);w(null,mt,x,I,g,M,O),y.el=mt.el}if(Se&&Mt(Se,M),!at&&(W=ne&&ne.onVnodeMounted)){const mt=y;Mt(()=>Wt(W,je,mt),M)}(y.shapeFlag&256||je&&_s(je.vnode)&&je.vnode.shapeFlag&256)&&g.a&&Mt(g.a,M),g.isMounted=!0,y=x=I=null}};g.scope.on();const q=g.effect=new Oo(U);g.scope.off();const j=g.update=q.run.bind(q),ae=g.job=q.runIfDirty.bind(q);ae.i=g,ae.id=g.uid,q.scheduler=()=>La(ae),Cn(g,!0),j()},st=(g,y,x)=>{y.component=g;const I=g.vnode.props;g.vnode=y,g.next=null,ad(g,y.props,I,x),cd(g,y.children,x),Fn(),Er(g),Hn()},fe=(g,y,x,I,M,O,z,U,q=!1)=>{const j=g&&g.children,ae=g?g.shapeFlag:0,W=y.children,{patchFlag:ne,shapeFlag:pe}=y;if(ne>0){if(ne&128){Ve(j,W,x,I,M,O,z,U,q);return}else if(ne&256){xe(j,W,x,I,M,O,z,U,q);return}}pe&8?(ae&16&&wt(j,M,O),W!==j&&d(x,W)):ae&16?pe&16?Ve(j,W,x,I,M,O,z,U,q):wt(j,M,O,!0):(ae&8&&d(x,""),pe&16&&Z(W,x,I,M,O,z,U,q))},xe=(g,y,x,I,M,O,z,U,q)=>{g=g||Wn,y=y||Wn;const j=g.length,ae=y.length,W=Math.min(j,ae);let ne;for(ne=0;ne<W;ne++){const pe=y[ne]=q?_n(y[ne]):Qt(y[ne]);w(g[ne],pe,x,null,M,O,z,U,q)}j>ae?wt(g,M,O,!0,!1,W):Z(y,x,I,M,O,z,U,q,W)},Ve=(g,y,x,I,M,O,z,U,q)=>{let j=0;const ae=y.length;let W=g.length-1,ne=ae-1;for(;j<=W&&j<=ne;){const pe=g[j],Se=y[j]=q?_n(y[j]):Qt(y[j]);if(ps(pe,Se))w(pe,Se,x,null,M,O,z,U,q);else break;j++}for(;j<=W&&j<=ne;){const pe=g[W],Se=y[ne]=q?_n(y[ne]):Qt(y[ne]);if(ps(pe,Se))w(pe,Se,x,null,M,O,z,U,q);else break;W--,ne--}if(j>W){if(j<=ne){const pe=ne+1,Se=pe<ae?y[pe].el:I;for(;j<=ne;)w(null,y[j]=q?_n(y[j]):Qt(y[j]),x,Se,M,O,z,U,q),j++}}else if(j>ne)for(;j<=W;)ot(g[j],M,O,!0),j++;else{const pe=j,Se=j,je=new Map;for(j=Se;j<=ne;j++){const gt=y[j]=q?_n(y[j]):Qt(y[j]);gt.key!=null&&je.set(gt.key,j)}let Ne,ht=0;const at=ne-Se+1;let mt=!1,gn=0;const Ut=new Array(at);for(j=0;j<at;j++)Ut[j]=0;for(j=pe;j<=W;j++){const gt=g[j];if(ht>=at){ot(gt,M,O,!0);continue}let Ct;if(gt.key!=null)Ct=je.get(gt.key);else for(Ne=Se;Ne<=ne;Ne++)if(Ut[Ne-Se]===0&&ps(gt,y[Ne])){Ct=Ne;break}Ct===void 0?ot(gt,M,O,!0):(Ut[Ct-Se]=j+1,Ct>=gn?gn=Ct:mt=!0,w(gt,y[Ct],x,null,M,O,z,U,q),ht++)}const ls=mt?fd(Ut):Wn;for(Ne=ls.length-1,j=at-1;j>=0;j--){const gt=Se+j,Ct=y[gt],cs=gt+1<ae?y[gt+1].el:I;Ut[j]===0?w(null,Ct,x,cs,M,O,z,U,q):mt&&(Ne<0||j!==ls[Ne]?be(Ct,x,cs,2):Ne--)}}},be=(g,y,x,I,M=null)=>{const{el:O,type:z,transition:U,children:q,shapeFlag:j}=g;if(j&6){be(g.component.subTree,y,x,I);return}if(j&128){g.suspense.move(y,x,I);return}if(j&64){z.move(g,y,x,V);return}if(z===Ye){s(O,y,x);for(let ae=0;ae<q.length;ae++)be(q[ae],y,x,I);s(g.anchor,y,x);return}if(z===ta){$(g,y,x);return}if(I!==2&&j&1&&U)if(I===0)U.beforeEnter(O),s(O,y,x),Mt(()=>U.enter(O),M);else{const{leave:ae,delayLeave:W,afterLeave:ne}=U,pe=()=>s(O,y,x),Se=()=>{ae(O,()=>{pe(),ne&&ne()})};W?W(O,pe,Se):Se()}else s(O,y,x)},ot=(g,y,x,I=!1,M=!1)=>{const{type:O,props:z,ref:U,children:q,dynamicChildren:j,shapeFlag:ae,patchFlag:W,dirs:ne,cacheIndex:pe}=g;if(W===-2&&(M=!1),U!=null&&pi(U,null,x,g,!0),pe!=null&&(y.renderCache[pe]=void 0),ae&256){y.ctx.deactivate(g);return}const Se=ae&1&&ne,je=!_s(g);let Ne;if(je&&(Ne=z&&z.onVnodeBeforeUnmount)&&Wt(Ne,y,g),ae&6)kn(g.component,x,I);else{if(ae&128){g.suspense.unmount(x,I);return}Se&&Ln(g,null,y,"beforeUnmount"),ae&64?g.type.remove(g,y,x,V,I):j&&!j.hasOnce&&(O!==Ye||W>0&&W&64)?wt(j,y,x,!1,!0):(O===Ye&&W&384||!M&&ae&16)&&wt(q,y,x),I&&Ot(g)}(je&&(Ne=z&&z.onVnodeUnmounted)||Se)&&Mt(()=>{Ne&&Wt(Ne,y,g),Se&&Ln(g,null,y,"unmounted")},x)},Ot=g=>{const{type:y,el:x,anchor:I,transition:M}=g;if(y===Ye){os(x,I);return}if(y===ta){T(g);return}const O=()=>{i(x),M&&!M.persisted&&M.afterLeave&&M.afterLeave()};if(g.shapeFlag&1&&M&&!M.persisted){const{leave:z,delayLeave:U}=M,q=()=>z(x,O);U?U(g.el,O,q):q()}else O()},os=(g,y)=>{let x;for(;g!==y;)x=p(g),i(g),g=x;i(y)},kn=(g,y,x)=>{const{bum:I,scope:M,job:O,subTree:z,um:U,m:q,a:j}=g;kr(q),kr(j),I&&ii(I),M.stop(),O&&(O.flags|=8,ot(z,g,y,x)),U&&Mt(U,y),Mt(()=>{g.isUnmounted=!0},y),y&&y.pendingBranch&&!y.isUnmounted&&g.asyncDep&&!g.asyncResolved&&g.suspenseId===y.pendingId&&(y.deps--,y.deps===0&&y.resolve())},wt=(g,y,x,I=!1,M=!1,O=0)=>{for(let z=O;z<g.length;z++)ot(g[z],y,x,I,M)},qt=g=>{if(g.shapeFlag&6)return qt(g.component.subTree);if(g.shapeFlag&128)return g.suspense.next();const y=p(g.anchor||g.el),x=y&&y[Uu];return x?p(x):y};let Lt=!1;const te=(g,y,x)=>{g==null?y._vnode&&ot(y._vnode,null,null,!0):w(y._vnode||null,g,y,null,null,null,x),y._vnode=g,Lt||(Lt=!0,Er(),Jo(),Lt=!1)},V={p:w,um:ot,m:be,r:Ot,mt:ce,mc:Z,pc:fe,pbc:oe,n:qt,o:t};return{render:te,hydrate:void 0,createApp:nd(te)}}function ea({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Cn({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function pd(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function dl(t,e,n=!1){const s=t.children,i=e.children;if(_e(s)&&_e(i))for(let a=0;a<s.length;a++){const r=s[a];let o=i[a];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=i[a]=_n(i[a]),o.el=r.el),!n&&o.patchFlag!==-2&&dl(r,o)),o.type===Ri&&(o.el=r.el)}}function fd(t){const e=t.slice(),n=[0];let s,i,a,r,o;const l=t.length;for(s=0;s<l;s++){const c=t[s];if(c!==0){if(i=n[n.length-1],t[i]<c){e[s]=i,n.push(s);continue}for(a=0,r=n.length-1;a<r;)o=a+r>>1,t[n[o]]<c?a=o+1:r=o;c<t[n[a]]&&(a>0&&(e[s]=n[a-1]),n[a]=s)}}for(a=n.length,r=n[a-1];a-- >0;)n[a]=r,r=e[r];return n}function hl(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:hl(e)}function kr(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const md=Symbol.for("v-scx"),gd=()=>Oi(md);function Nr(t,e){return pl(t,null,e)}function xn(t,e,n){return pl(t,e,n)}function pl(t,e,n=qe){const{immediate:s,flush:i}=n,a=en({},n),r=e&&s||!e&&i!=="post";let o;if(Ds){if(i==="sync"){const h=gd();o=h.__watcherHandles||(h.__watcherHandles=[])}else if(!r){const h=()=>{};return h.stop=In,h.resume=In,h.pause=In,h}}const l=St;a.call=(h,p,m)=>fn(h,l,p,m);let c=!1;i==="post"?a.scheduler=h=>{Mt(h,l&&l.suspense)}:i!=="sync"&&(c=!0,a.scheduler=(h,p)=>{p?h():La(h)}),a.augmentJob=h=>{e&&(h.flags|=4),c&&(h.flags|=2,l&&(h.id=l.uid,h.i=l))};const d=zu(t,e,a);return Ds&&(o?o.push(d):r&&d()),d}const bd=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Bt(e)}Modifiers`]||t[`${jn(e)}Modifiers`];function vd(t,e,...n){if(t.isUnmounted)return;const s=t.vnode.props||qe;let i=n;const a=e.startsWith("update:"),r=a&&bd(s,e.slice(7));r&&(r.trim&&(i=n.map(d=>dt(d)?d.trim():d)),r.number&&(i=n.map(li)));let o,l=s[o=Gi(e)]||s[o=Gi(Bt(e))];!l&&a&&(l=s[o=Gi(jn(e))]),l&&fn(l,t,6,i);const c=s[o+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[o])return;t.emitted[o]=!0,fn(c,t,6,i)}}function yd(t,e,n=!1){const s=e.emitsCache,i=s.get(t);if(i!==void 0)return i;const a=t.emits;let r={};return a?(_e(a)?a.forEach(o=>r[o]=null):en(r,a),nt(t)&&s.set(t,r),r):(nt(t)&&s.set(t,null),null)}function $i(t,e){return!t||!ki(e)?!1:(e=e.slice(2).replace(/Once$/,""),Re(t,e[0].toLowerCase()+e.slice(1))||Re(t,jn(e))||Re(t,e))}function Ar(t){const{type:e,vnode:n,proxy:s,withProxy:i,propsOptions:[a],slots:r,attrs:o,emit:l,render:c,renderCache:d,props:h,data:p,setupState:m,ctx:b,inheritAttrs:w}=t,N=hi(t);let _,E;try{if(n.shapeFlag&4){const T=i||s,B=T;_=Qt(c.call(B,T,d,h,m,p,b)),E=o}else{const T=e;_=Qt(T.length>1?T(h,{attrs:o,slots:r,emit:l}):T(h,null)),E=e.props?o:wd(o)}}catch(T){xs.length=0,Ii(T,t,1),_=Ue(Bn)}let $=_;if(E&&w!==!1){const T=Object.keys(E),{shapeFlag:B}=$;T.length&&B&7&&(a&&T.some(_a)&&(E=_d(E,a)),$=es($,E,!1,!0))}return n.dirs&&($=es($,null,!1,!0),$.dirs=$.dirs?$.dirs.concat(n.dirs):n.dirs),n.transition&&Ca($,n.transition),_=$,hi(N),_}const wd=t=>{let e;for(const n in t)(n==="class"||n==="style"||ki(n))&&((e||(e={}))[n]=t[n]);return e},_d=(t,e)=>{const n={};for(const s in t)(!_a(s)||!(s.slice(9)in e))&&(n[s]=t[s]);return n};function Ed(t,e,n){const{props:s,children:i,component:a}=t,{props:r,children:o,patchFlag:l}=e,c=a.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return s?Lr(s,r,c):!!r;if(l&8){const d=e.dynamicProps;for(let h=0;h<d.length;h++){const p=d[h];if(r[p]!==s[p]&&!$i(c,p))return!0}}}else return(i||o)&&(!o||!o.$stable)?!0:s===r?!1:s?r?Lr(s,r,c):!0:!!r;return!1}function Lr(t,e,n){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let i=0;i<s.length;i++){const a=s[i];if(e[a]!==t[a]&&!$i(n,a))return!0}return!1}function xd({vnode:t,parent:e},n){for(;e;){const s=e.subTree;if(s.suspense&&s.suspense.activeBranch===t&&(s.el=t.el),s===t)(t=e.vnode).el=n,e=e.parent;else break}}const fl=t=>t.__isSuspense;function Sd(t,e){e&&e.pendingBranch?_e(t)?e.effects.push(...t):e.effects.push(t):Hu(t)}const Ye=Symbol.for("v-fgt"),Ri=Symbol.for("v-txt"),Bn=Symbol.for("v-cmt"),ta=Symbol.for("v-stc"),xs=[];let Tt=null;function K(t=!1){xs.push(Tt=t?null:[])}function kd(){xs.pop(),Tt=xs[xs.length-1]||null}let Rs=1;function Cr(t,e=!1){Rs+=t,t<0&&Tt&&e&&(Tt.hasOnce=!0)}function ml(t){return t.dynamicChildren=Rs>0?Tt||Wn:null,kd(),Rs>0&&Tt&&Tt.push(t),t}function se(t,e,n,s,i,a){return ml(re(t,e,n,s,i,a,!0))}function mn(t,e,n,s,i){return ml(Ue(t,e,n,s,i,!0))}function fi(t){return t?t.__v_isVNode===!0:!1}function ps(t,e){return t.type===e.type&&t.key===e.key}const gl=({key:t})=>t??null,ai=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?dt(t)||ct(t)||De(t)?{i:At,r:t,k:e,f:!!n}:t:null);function re(t,e=null,n=null,s=0,i=null,a=t===Ye?0:1,r=!1,o=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&gl(e),ref:e&&ai(e),scopeId:tl,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:s,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:At};return o?(Oa(l,n),a&128&&t.normalize(l)):n&&(l.shapeFlag|=dt(n)?8:16),Rs>0&&!r&&Tt&&(l.patchFlag>0||a&6)&&l.patchFlag!==32&&Tt.push(l),l}const Ue=Nd;function Nd(t,e=null,n=null,s=0,i=null,a=!1){if((!t||t===Yu)&&(t=Bn),fi(t)){const o=es(t,e,!0);return n&&Oa(o,n),Rs>0&&!a&&Tt&&(o.shapeFlag&6?Tt[Tt.indexOf(t)]=o:Tt.push(o)),o.patchFlag=-2,o}if(Pd(t)&&(t=t.__vccOpts),e){e=Ad(e);let{class:o,style:l}=e;o&&!dt(o)&&(e.class=lt(o)),nt(l)&&(Aa(l)&&!_e(l)&&(l=en({},l)),e.style=Ms(l))}const r=dt(t)?1:fl(t)?128:Vu(t)?64:nt(t)?4:De(t)?2:0;return re(t,e,n,s,i,r,a,!0)}function Ad(t){return t?Aa(t)||al(t)?en({},t):t:null}function es(t,e,n=!1,s=!1){const{props:i,ref:a,patchFlag:r,children:o,transition:l}=t,c=e?Ld(i||{},e):i,d={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&gl(c),ref:e&&e.ref?n&&a?_e(a)?a.concat(ai(e)):[a,ai(e)]:ai(e):a,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ye?r===-1?16:r|16:r,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&es(t.ssContent),ssFallback:t.ssFallback&&es(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&s&&Ca(d,l.clone(d)),d}function hn(t=" ",e=0){return Ue(Ri,null,t,e)}function Le(t="",e=!1){return e?(K(),mn(Bn,null,t)):Ue(Bn,null,t)}function Qt(t){return t==null||typeof t=="boolean"?Ue(Bn):_e(t)?Ue(Ye,null,t.slice()):fi(t)?_n(t):Ue(Ri,null,String(t))}function _n(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:es(t)}function Oa(t,e){let n=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(_e(e))n=16;else if(typeof e=="object")if(s&65){const i=e.default;i&&(i._c&&(i._d=!1),Oa(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!al(e)?e._ctx=At:i===3&&At&&(At.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else De(e)?(e={default:e,_ctx:At},n=32):(e=String(e),s&64?(n=16,e=[hn(e)]):n=8);t.children=e,t.shapeFlag|=n}function Ld(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const i in s)if(i==="class")e.class!==s.class&&(e.class=lt([e.class,s.class]));else if(i==="style")e.style=Ms([e.style,s.style]);else if(ki(i)){const a=e[i],r=s[i];r&&a!==r&&!(_e(a)&&a.includes(r))&&(e[i]=a?[].concat(a,r):r)}else i!==""&&(e[i]=s[i])}return e}function Wt(t,e,n,s=null){fn(t,e,7,[n,s])}const Cd=nl();let Md=0;function Td(t,e,n){const s=t.type,i=(e?e.appContext:t.appContext)||Cd,a={uid:Md++,vnode:t,type:s,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new iu(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:rd(s,i),emitsOptions:yd(s,i),emit:null,emitted:null,propsDefaults:qe,inheritAttrs:s.inheritAttrs,ctx:qe,data:qe,props:qe,attrs:qe,slots:qe,refs:qe,setupState:qe,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=e?e.root:a,a.emit=vd.bind(null,a),t.ce&&t.ce(a),a}let St=null;const bl=()=>St||At;let mi,fa;{const t=Cs(),e=(n,s)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(s),a=>{i.length>1?i.forEach(r=>r(a)):i[0](a)}};mi=e("__VUE_INSTANCE_SETTERS__",n=>St=n),fa=e("__VUE_SSR_SETTERS__",n=>Ds=n)}const $a=t=>{const e=St;return mi(t),t.scope.on(),()=>{t.scope.off(),mi(e)}},Mr=()=>{St&&St.scope.off(),mi(null)};function vl(t){return t.vnode.shapeFlag&4}let Ds=!1;function Id(t,e=!1,n=!1){e&&fa(e);const{props:s,children:i}=t.vnode,a=vl(t);id(t,s,a,e),ld(t,i,n);const r=a?Od(t,e):void 0;return e&&fa(!1),r}function Od(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,ed);const{setup:s}=n;if(s){Fn();const i=t.setupContext=s.length>1?Rd(t):null,a=$a(t),r=js(s,t,0,[t.props,i]),o=ko(r);if(Hn(),a(),(o||t.sp)&&!_s(t)&&Xu(t),o){if(r.then(Mr,Mr),e)return r.then(l=>{Tr(t,l)}).catch(l=>{Ii(l,t,0)});t.asyncDep=r}else Tr(t,r)}else yl(t)}function Tr(t,e,n){De(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:nt(e)&&(t.setupState=Zo(e)),yl(t)}function yl(t,e,n){const s=t.type;t.render||(t.render=s.render||In)}const $d={get(t,e){return vt(t,"get",""),t[e]}};function Rd(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,$d),slots:t.slots,emit:t.emit,expose:e}}function Di(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Zo(Au(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Es)return Es[n](t)},has(e,n){return n in e||n in Es}})):t.proxy}function Dd(t,e=!0){return De(t)?t.displayName||t.name:t.name||e&&t.__name}function Pd(t){return De(t)&&"__vccOpts"in t}const rt=(t,e)=>Pu(t,e,Ds);function Pe(t,e,n){const s=arguments.length;return s===2?nt(e)&&!_e(e)?fi(e)?Ue(t,null,[e]):Ue(t,e):Ue(t,null,e):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&fi(n)&&(n=[n]),Ue(t,e,n))}const Bd="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ma;const Ir=typeof window<"u"&&window.trustedTypes;if(Ir)try{ma=Ir.createPolicy("vue",{createHTML:t=>t})}catch{}const wl=ma?t=>ma.createHTML(t):t=>t,zd="http://www.w3.org/2000/svg",jd="http://www.w3.org/1998/Math/MathML",ln=typeof document<"u"?document:null,Or=ln&&ln.createElement("template"),Fd={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,s)=>{const i=e==="svg"?ln.createElementNS(zd,t):e==="mathml"?ln.createElementNS(jd,t):n?ln.createElement(t,{is:n}):ln.createElement(t);return t==="select"&&s&&s.multiple!=null&&i.setAttribute("multiple",s.multiple),i},createText:t=>ln.createTextNode(t),createComment:t=>ln.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>ln.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,s,i,a){const r=n?n.previousSibling:e.lastChild;if(i&&(i===a||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===a||!(i=i.nextSibling)););else{Or.innerHTML=wl(s==="svg"?`<svg>${t}</svg>`:s==="mathml"?`<math>${t}</math>`:t);const o=Or.content;if(s==="svg"||s==="mathml"){const l=o.firstChild;for(;l.firstChild;)o.appendChild(l.firstChild);o.removeChild(l)}e.insertBefore(o,n)}return[r?r.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},Hd=Symbol("_vtc");function qd(t,e,n){const s=t[Hd];s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const gi=Symbol("_vod"),_l=Symbol("_vsh"),$r={beforeMount(t,{value:e},{transition:n}){t[gi]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):fs(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:s}){!e!=!n&&(s?e?(s.beforeEnter(t),fs(t,!0),s.enter(t)):s.leave(t,()=>{fs(t,!1)}):fs(t,e))},beforeUnmount(t,{value:e}){fs(t,e)}};function fs(t,e){t.style.display=e?t[gi]:"none",t[_l]=!e}const Ud=Symbol(""),Vd=/(^|;)\s*display\s*:/;function Xd(t,e,n){const s=t.style,i=dt(n);let a=!1;if(n&&!i){if(e)if(dt(e))for(const r of e.split(";")){const o=r.slice(0,r.indexOf(":")).trim();n[o]==null&&ri(s,o,"")}else for(const r in e)n[r]==null&&ri(s,r,"");for(const r in n)r==="display"&&(a=!0),ri(s,r,n[r])}else if(i){if(e!==n){const r=s[Ud];r&&(n+=";"+r),s.cssText=n,a=Vd.test(n)}}else e&&t.removeAttribute("style");gi in t&&(t[gi]=a?s.display:"",t[_l]&&(s.display="none"))}const Rr=/\s*!important$/;function ri(t,e,n){if(_e(n))n.forEach(s=>ri(t,e,s));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const s=Wd(t,e);Rr.test(n)?t.setProperty(jn(s),n.replace(Rr,""),"important"):t[s]=n}}const Dr=["Webkit","Moz","ms"],na={};function Wd(t,e){const n=na[e];if(n)return n;let s=Bt(e);if(s!=="filter"&&s in t)return na[e]=s;s=Ai(s);for(let i=0;i<Dr.length;i++){const a=Dr[i]+s;if(a in t)return na[e]=a}return e}const Pr="http://www.w3.org/1999/xlink";function Br(t,e,n,s,i,a=nu(e)){s&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(Pr,e.slice(6,e.length)):t.setAttributeNS(Pr,e,n):n==null||a&&!Co(n)?t.removeAttribute(e):t.setAttribute(e,a?"":Yt(n)?String(n):n)}function zr(t,e,n,s,i){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?wl(n):n);return}const a=t.tagName;if(e==="value"&&a!=="PROGRESS"&&!a.includes("-")){const o=a==="OPTION"?t.getAttribute("value")||"":t.value,l=n==null?t.type==="checkbox"?"on":"":String(n);(o!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let r=!1;if(n===""||n==null){const o=typeof t[e];o==="boolean"?n=Co(n):n==null&&o==="string"?(n="",r=!0):o==="number"&&(n=0,r=!0)}try{t[e]=n}catch{}r&&t.removeAttribute(i||e)}function dn(t,e,n,s){t.addEventListener(e,n,s)}function Gd(t,e,n,s){t.removeEventListener(e,n,s)}const jr=Symbol("_vei");function Kd(t,e,n,s,i=null){const a=t[jr]||(t[jr]={}),r=a[e];if(s&&r)r.value=s;else{const[o,l]=Zd(e);if(s){const c=a[e]=Jd(s,i);dn(t,o,c,l)}else r&&(Gd(t,o,r,l),a[e]=void 0)}}const Fr=/(?:Once|Passive|Capture)$/;function Zd(t){let e;if(Fr.test(t)){e={};let n;for(;n=t.match(Fr);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):jn(t.slice(2)),e]}let sa=0;const Qd=Promise.resolve(),Yd=()=>sa||(Qd.then(()=>sa=0),sa=Date.now());function Jd(t,e){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;fn(eh(s,n.value),e,5,[s])};return n.value=t,n.attached=Yd(),n}function eh(t,e){if(_e(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(s=>i=>!i._stopped&&s&&s(i))}else return e}const Hr=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,th=(t,e,n,s,i,a)=>{const r=i==="svg";e==="class"?qd(t,s,r):e==="style"?Xd(t,n,s):ki(e)?_a(e)||Kd(t,e,n,s,a):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):nh(t,e,s,r))?(zr(t,e,s),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Br(t,e,s,r,a,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!dt(s))?zr(t,Bt(e),s,a,e):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),Br(t,e,s,r))};function nh(t,e,n,s){if(s)return!!(e==="innerHTML"||e==="textContent"||e in t&&Hr(e)&&De(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return Hr(e)&&dt(n)?!1:e in t}const Sn=t=>{const e=t.props["onUpdate:modelValue"]||!1;return _e(e)?n=>ii(e,n):e};function sh(t){t.target.composing=!0}function qr(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Pt=Symbol("_assign"),ga={created(t,{modifiers:{lazy:e,trim:n,number:s}},i){t[Pt]=Sn(i);const a=s||i.props&&i.props.type==="number";dn(t,e?"change":"input",r=>{if(r.target.composing)return;let o=t.value;n&&(o=o.trim()),a&&(o=li(o)),t[Pt](o)}),n&&dn(t,"change",()=>{t.value=t.value.trim()}),e||(dn(t,"compositionstart",sh),dn(t,"compositionend",qr),dn(t,"change",qr))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:s,trim:i,number:a}},r){if(t[Pt]=Sn(r),t.composing)return;const o=(a||t.type==="number")&&!/^0\d/.test(t.value)?li(t.value):t.value,l=e??"";o!==l&&(document.activeElement===t&&t.type!=="range"&&(s&&e===n||i&&t.value.trim()===l)||(t.value=l))}},ih={deep:!0,created(t,e,n){t[Pt]=Sn(n),dn(t,"change",()=>{const s=t._modelValue,i=ts(t),a=t.checked,r=t[Pt];if(_e(s)){const o=xa(s,i),l=o!==-1;if(a&&!l)r(s.concat(i));else if(!a&&l){const c=[...s];c.splice(o,1),r(c)}}else if(ss(s)){const o=new Set(s);a?o.add(i):o.delete(i),r(o)}else r(El(t,a))})},mounted:Ur,beforeUpdate(t,e,n){t[Pt]=Sn(n),Ur(t,e,n)}};function Ur(t,{value:e,oldValue:n},s){t._modelValue=e;let i;if(_e(e))i=xa(e,s.props.value)>-1;else if(ss(e))i=e.has(s.props.value);else{if(e===n)return;i=Rn(e,El(t,!0))}t.checked!==i&&(t.checked=i)}const ah={created(t,{value:e},n){t.checked=Rn(e,n.props.value),t[Pt]=Sn(n),dn(t,"change",()=>{t[Pt](ts(t))})},beforeUpdate(t,{value:e,oldValue:n},s){t[Pt]=Sn(s),e!==n&&(t.checked=Rn(e,s.props.value))}},rh={deep:!0,created(t,{value:e,modifiers:{number:n}},s){const i=ss(e);dn(t,"change",()=>{const a=Array.prototype.filter.call(t.options,r=>r.selected).map(r=>n?li(ts(r)):ts(r));t[Pt](t.multiple?i?new Set(a):a:a[0]),t._assigning=!0,as(()=>{t._assigning=!1})}),t[Pt]=Sn(s)},mounted(t,{value:e}){Vr(t,e)},beforeUpdate(t,e,n){t[Pt]=Sn(n)},updated(t,{value:e}){t._assigning||Vr(t,e)}};function Vr(t,e){const n=t.multiple,s=_e(e);if(!(n&&!s&&!ss(e))){for(let i=0,a=t.options.length;i<a;i++){const r=t.options[i],o=ts(r);if(n)if(s){const l=typeof o;l==="string"||l==="number"?r.selected=e.some(c=>String(c)===String(o)):r.selected=xa(e,o)>-1}else r.selected=e.has(o);else if(Rn(ts(r),e)){t.selectedIndex!==i&&(t.selectedIndex=i);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function ts(t){return"_value"in t?t._value:t.value}function El(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const oh={created(t,e,n){Ys(t,e,n,null,"created")},mounted(t,e,n){Ys(t,e,n,null,"mounted")},beforeUpdate(t,e,n,s){Ys(t,e,n,s,"beforeUpdate")},updated(t,e,n,s){Ys(t,e,n,s,"updated")}};function lh(t,e){switch(t){case"SELECT":return rh;case"TEXTAREA":return ga;default:switch(e){case"checkbox":return ih;case"radio":return ah;default:return ga}}}function Ys(t,e,n,s,i){const a=lh(t.tagName,n.props&&n.props.type)[i];a&&a(t,e,n,s)}const ch=en({patchProp:th},Fd);let Xr;function uh(){return Xr||(Xr=dd(ch))}const dh=(...t)=>{const e=uh().createApp(...t),{mount:n}=e;return e.mount=s=>{const i=ph(s);if(!i)return;const a=e._component;!De(a)&&!a.render&&!a.template&&(a.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const r=n(i,!1,hh(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),r},e};function hh(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function ph(t){return dt(t)?document.querySelector(t):t}function Ps(t){return Io()?(au(t),!0):!1}const bi=typeof window<"u"&&typeof document<"u",fh=Object.prototype.toString,mh=t=>fh.call(t)==="[object Object]",vi=()=>{};function gh(...t){if(t.length!==1)return $u(...t);const e=t[0];return typeof e=="function"?is(Tu(()=>({get:e,set:vi}))):ze(e)}function xl(t,e){function n(...s){return new Promise((i,a)=>{Promise.resolve(t(()=>e.apply(this,s),{fn:e,thisArg:this,args:s})).then(i).catch(a)})}return n}const Sl=t=>t();function bh(t,e={}){let n,s,i=vi;const a=o=>{clearTimeout(o),i(),i=vi};let r;return o=>{const l=It(t),c=It(e.maxWait);return n&&a(n),l<=0||c!==void 0&&c<=0?(s&&(a(s),s=null),Promise.resolve(o())):new Promise((d,h)=>{i=e.rejectOnCancel?h:d,r=o,c&&!s&&(s=setTimeout(()=>{n&&a(n),s=null,d(r())},c)),n=setTimeout(()=>{s&&a(s),s=null,d(o())},l)})}}function vh(t=Sl,e={}){const{initialState:n="active"}=e,s=gh(n==="active");function i(){s.value=!1}function a(){s.value=!0}const r=(...o)=>{s.value&&t(...o)};return{isActive:is(s),pause:i,resume:a,eventFilter:r}}function ia(t){return Array.isArray(t)?t:[t]}function kl(t){return bl()}function yh(t,e=200,n={}){return xl(bh(e,n),t)}function wh(t,e,n={}){const{eventFilter:s=Sl,...i}=n;return xn(t,xl(s,e),i)}function _h(t,e,n={}){const{eventFilter:s,initialState:i="active",...a}=n,{eventFilter:r,pause:o,resume:l,isActive:c}=vh(s,{initialState:i});return{stop:wh(t,e,{...a,eventFilter:r}),pause:o,resume:l,isActive:c}}function Ra(t,e=!0,n){kl()?Hs(t,n):e?t():as(t)}function Eh(t,e){kl()&&Ta(t,e)}function xh(t,e=1e3,n={}){const{immediate:s=!0,immediateCallback:i=!1}=n;let a=null;const r=Pn(!1);function o(){a&&(clearInterval(a),a=null)}function l(){r.value=!1,o()}function c(){const d=It(e);d<=0||(r.value=!0,i&&t(),o(),r.value&&(a=setInterval(t,d)))}if(s&&bi&&c(),ct(e)||typeof e=="function"){const d=xn(e,()=>{r.value&&bi&&c()});Ps(d)}return Ps(l),{isActive:Nu(r),pause:l,resume:c}}function Yn(t,e,n){return xn(t,e,{...n,immediate:!0})}const yi=bi?window:void 0,Nl=bi?window.document:void 0;function Sh(t){var e;const n=It(t);return(e=n==null?void 0:n.$el)!=null?e:n}function $n(...t){const e=[],n=()=>{e.forEach(o=>o()),e.length=0},s=(o,l,c,d)=>(o.addEventListener(l,c,d),()=>o.removeEventListener(l,c,d)),i=rt(()=>{const o=ia(It(t[0])).filter(l=>l!=null);return o.every(l=>typeof l!="string")?o:void 0}),a=Yn(()=>{var o,l;return[(l=(o=i.value)==null?void 0:o.map(c=>Sh(c)))!=null?l:[yi].filter(c=>c!=null),ia(It(i.value?t[1]:t[0])),ia(we(i.value?t[2]:t[1])),It(i.value?t[3]:t[2])]},([o,l,c,d])=>{if(n(),!(o!=null&&o.length)||!(l!=null&&l.length)||!(c!=null&&c.length))return;const h=mh(d)?{...d}:d;e.push(...o.flatMap(p=>l.flatMap(m=>c.map(b=>s(p,m,b,h)))))},{flush:"post"}),r=()=>{a(),n()};return Ps(n),r}function kh(t,e={}){const{immediate:n=!0,fpsLimit:s=void 0,window:i=yi,once:a=!1}=e,r=Pn(!1),o=rt(()=>s?1e3/It(s):null);let l=0,c=null;function d(m){if(!r.value||!i)return;l||(l=m);const b=m-l;if(o.value&&b<o.value){c=i.requestAnimationFrame(d);return}if(l=m,t({delta:b,timestamp:m}),a){r.value=!1,c=null;return}c=i.requestAnimationFrame(d)}function h(){!r.value&&i&&(r.value=!0,l=0,c=i.requestAnimationFrame(d))}function p(){r.value=!1,c!=null&&i&&(i.cancelAnimationFrame(c),c=null)}return n&&h(),Ps(p),{isActive:is(r),pause:p,resume:h}}const Js=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ei="__vueuse_ssr_handlers__",Nh=Ah();function Ah(){return ei in Js||(Js[ei]=Js[ei]||{}),Js[ei]}function Lh(t,e){return Nh[t]||e}function Ch(t){return t==null?"any":t instanceof Set?"set":t instanceof Map?"map":t instanceof Date?"date":typeof t=="boolean"?"boolean":typeof t=="string"?"string":typeof t=="object"?"object":Number.isNaN(t)?"any":"number"}const Mh={boolean:{read:t=>t==="true",write:t=>String(t)},object:{read:t=>JSON.parse(t),write:t=>JSON.stringify(t)},number:{read:t=>Number.parseFloat(t),write:t=>String(t)},any:{read:t=>t,write:t=>String(t)},string:{read:t=>t,write:t=>String(t)},map:{read:t=>new Map(JSON.parse(t)),write:t=>JSON.stringify(Array.from(t.entries()))},set:{read:t=>new Set(JSON.parse(t)),write:t=>JSON.stringify(Array.from(t))},date:{read:t=>new Date(t),write:t=>t.toISOString()}},Wr="vueuse-storage";function rs(t,e,n,s={}){var i;const{flush:a="pre",deep:r=!0,listenToStorageChanges:o=!0,writeDefaults:l=!0,mergeDefaults:c=!1,shallow:d,window:h=yi,eventFilter:p,onError:m=D=>{console.error(D)},initOnMounted:b}=s,w=(d?Pn:ze)(typeof e=="function"?e():e),N=rt(()=>It(t));if(!n)try{n=Lh("getDefaultStorage",()=>{var D;return(D=yi)==null?void 0:D.localStorage})()}catch(D){m(D)}if(!n)return w;const _=It(e),E=Ch(_),$=(i=s.serializer)!=null?i:Mh[E],{pause:T,resume:B}=_h(w,()=>R(w.value),{flush:a,deep:r,eventFilter:p});xn(N,()=>le(),{flush:a}),h&&o&&Ra(()=>{n instanceof Storage?$n(h,"storage",le,{passive:!0}):$n(h,Wr,oe),b&&le()}),b||le();function Y(D,ee){if(h){const P={key:N.value,oldValue:D,newValue:ee,storageArea:n};h.dispatchEvent(n instanceof Storage?new StorageEvent("storage",P):new CustomEvent(Wr,{detail:P}))}}function R(D){try{const ee=n.getItem(N.value);if(D==null)Y(ee,null),n.removeItem(N.value);else{const P=$.write(D);ee!==P&&(n.setItem(N.value,P),Y(ee,P))}}catch(ee){m(ee)}}function Z(D){const ee=D?D.newValue:n.getItem(N.value);if(ee==null)return l&&_!=null&&n.setItem(N.value,$.write(_)),_;if(!D&&c){const P=$.read(ee);return typeof c=="function"?c(P,_):E==="object"&&!Array.isArray(P)?{..._,...P}:P}else return typeof ee!="string"?ee:$.read(ee)}function le(D){if(!(D&&D.storageArea!==n)){if(D&&D.key==null){w.value=_;return}if(!(D&&D.key!==N.value)){T();try{(D==null?void 0:D.newValue)!==$.write(w.value)&&(w.value=Z(D))}catch(ee){m(ee)}finally{D?as(B):B()}}}}function oe(D){le(D.detail)}return w}function Th(t={}){const{controls:e=!1,interval:n="requestAnimationFrame"}=t,s=ze(new Date),i=()=>s.value=new Date,a=n==="requestAnimationFrame"?kh(i,{immediate:!0}):xh(i,n,{immediate:!0});return e?{now:s,...a}:s}function Ih(t,e=vi,n={}){const{immediate:s=!0,manual:i=!1,type:a="text/javascript",async:r=!0,crossOrigin:o,referrerPolicy:l,noModule:c,defer:d,document:h=Nl,attrs:p={}}=n,m=Pn(null);let b=null;const w=E=>new Promise(($,T)=>{const B=le=>(m.value=le,$(le),le);if(!h){$(!1);return}let Y=!1,R=h.querySelector(`script[src="${It(t)}"]`);R?R.hasAttribute("data-loaded")&&B(R):(R=h.createElement("script"),R.type=a,R.async=r,R.src=It(t),d&&(R.defer=d),o&&(R.crossOrigin=o),c&&(R.noModule=c),l&&(R.referrerPolicy=l),Object.entries(p).forEach(([le,oe])=>R==null?void 0:R.setAttribute(le,oe)),Y=!0);const Z={passive:!0};$n(R,"error",le=>T(le),Z),$n(R,"abort",le=>T(le),Z),$n(R,"load",()=>{R.setAttribute("data-loaded","true"),e(R),B(R)},Z),Y&&(R=h.head.appendChild(R)),E||B(R)}),N=(E=!0)=>(b||(b=w(E)),b),_=()=>{if(!h)return;b=null,m.value&&(m.value=null);const E=h.querySelector(`script[src="${It(t)}"]`);E&&h.head.removeChild(E)};return s&&!i&&Ra(N),i||Eh(_),{scriptTag:m,load:N,unload:_}}let Oh=0;function $h(t,e={}){const n=Pn(!1),{document:s=Nl,immediate:i=!0,manual:a=!1,id:r=`vueuse_styletag_${++Oh}`}=e,o=Pn(t);let l=()=>{};const c=()=>{if(!s)return;const h=s.getElementById(r)||s.createElement("style");h.isConnected||(h.id=r,e.media&&(h.media=e.media),s.head.appendChild(h)),!n.value&&(l=xn(o,p=>{h.textContent=p},{immediate:!0}),n.value=!0)},d=()=>{!s||!n.value||(l(),s.head.removeChild(s.getElementById(r)),n.value=!1)};return i&&!a&&Ra(c),a||Ps(d),{id:r,css:o,unload:d,load:c,isLoaded:is(n)}}const Rh="WALINE_EMOJI",Gr=rs(Rh,{}),Dh=t=>!!/@[0-9]+\.[0-9]+\.[0-9]+/.test(t),Ph=t=>{const e=Dh(t);if(e){const n=Gr.value[t];if(n)return Promise.resolve(n)}return fetch(`${t}/info.json`).then(n=>n.json()).then(n=>{const s={folder:t,...n};return e&&(Gr.value[t]=s),s})},Kr=(t,e="",n="",s="")=>`${e?`${e}/`:""}${n}${t}${s?`.${s}`:""}`,Bh=t=>Promise.all(t?t.map(e=>Jn(e)?Ph(Eo(e)):Promise.resolve(e)):[]).then(e=>{const n={tabs:[],map:{}};return e.forEach(s=>{const{name:i,folder:a,icon:r,prefix:o="",type:l,items:c}=s;n.tabs.push({name:i,icon:Kr(r,a,o,l),items:c.map(d=>{const h=`${o}${d}`;return n.map[h]=Kr(d,a,o,l),h})})}),n}),Al=t=>{t.name!=="AbortError"&&console.error(t.message)},zh=t=>t instanceof HTMLElement?t:Jn(t)?document.querySelector(t):null,jh=t=>t.type.includes("image"),Zr=t=>{const e=Array.from(t).find(jh);return e?e.getAsFile():null};function Da(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let qn=Da();function Qr(t){qn=t}const Ss={exec:()=>null};function Be(t,e=""){let n=typeof t=="string"?t:t.source;const s={replace:(i,a)=>{let r=typeof a=="string"?a:a.source;return r=r.replace(kt.caret,"$1"),n=n.replace(i,r),s},getRegex:()=>new RegExp(n,e)};return s}const kt={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:t=>new RegExp(`^( {0,3}${t})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}#`),htmlBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}<(?:[a-z].*>|!--)`,"i")},Fh=/^(?:[ \t]*(?:\n|$))+/,Hh=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,qh=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,qs=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,Uh=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,Pa=/(?:[*+-]|\d{1,9}[.)])/,Ll=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,Cl=Be(Ll).replace(/bull/g,Pa).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),Vh=Be(Ll).replace(/bull/g,Pa).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),Ba=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,Xh=/^[^\n]+/,za=/(?!\s*\])(?:\\.|[^\[\]\\])+/,Wh=Be(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",za).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),Gh=Be(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Pa).getRegex(),Pi="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",ja=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,Kh=Be("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",ja).replace("tag",Pi).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Ml=Be(Ba).replace("hr",qs).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Pi).getRegex(),Zh=Be(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",Ml).getRegex(),Fa={blockquote:Zh,code:Hh,def:Wh,fences:qh,heading:Uh,hr:qs,html:Kh,lheading:Cl,list:Gh,newline:Fh,paragraph:Ml,table:Ss,text:Xh},Yr=Be("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",qs).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Pi).getRegex(),Qh={...Fa,lheading:Vh,table:Yr,paragraph:Be(Ba).replace("hr",qs).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Yr).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Pi).getRegex()},Yh={...Fa,html:Be(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",ja).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Ss,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Be(Ba).replace("hr",qs).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Cl).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Jh=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,ep=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,Tl=/^( {2,}|\\)\n(?!\s*$)/,tp=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Bi=/[\p{P}\p{S}]/u,Ha=/[\s\p{P}\p{S}]/u,Il=/[^\s\p{P}\p{S}]/u,np=Be(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,Ha).getRegex(),Ol=/(?!~)[\p{P}\p{S}]/u,sp=/(?!~)[\s\p{P}\p{S}]/u,ip=/(?:[^\s\p{P}\p{S}]|~)/u,ap=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,$l=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,rp=Be($l,"u").replace(/punct/g,Bi).getRegex(),op=Be($l,"u").replace(/punct/g,Ol).getRegex(),Rl="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",lp=Be(Rl,"gu").replace(/notPunctSpace/g,Il).replace(/punctSpace/g,Ha).replace(/punct/g,Bi).getRegex(),cp=Be(Rl,"gu").replace(/notPunctSpace/g,ip).replace(/punctSpace/g,sp).replace(/punct/g,Ol).getRegex(),up=Be("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,Il).replace(/punctSpace/g,Ha).replace(/punct/g,Bi).getRegex(),dp=Be(/\\(punct)/,"gu").replace(/punct/g,Bi).getRegex(),hp=Be(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),pp=Be(ja).replace("(?:-->|$)","-->").getRegex(),fp=Be("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",pp).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),wi=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,mp=Be(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",wi).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),Dl=Be(/^!?\[(label)\]\[(ref)\]/).replace("label",wi).replace("ref",za).getRegex(),Pl=Be(/^!?\[(ref)\](?:\[\])?/).replace("ref",za).getRegex(),gp=Be("reflink|nolink(?!\\()","g").replace("reflink",Dl).replace("nolink",Pl).getRegex(),qa={_backpedal:Ss,anyPunctuation:dp,autolink:hp,blockSkip:ap,br:Tl,code:ep,del:Ss,emStrongLDelim:rp,emStrongRDelimAst:lp,emStrongRDelimUnd:up,escape:Jh,link:mp,nolink:Pl,punctuation:np,reflink:Dl,reflinkSearch:gp,tag:fp,text:tp,url:Ss},bp={...qa,link:Be(/^!?\[(label)\]\((.*?)\)/).replace("label",wi).getRegex(),reflink:Be(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",wi).getRegex()},ba={...qa,emStrongRDelimAst:cp,emStrongLDelim:op,url:Be(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},vp={...ba,br:Be(Tl).replace("{2,}","*").getRegex(),text:Be(ba.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},ti={normal:Fa,gfm:Qh,pedantic:Yh},ms={normal:qa,gfm:ba,breaks:vp,pedantic:bp},yp={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Jr=t=>yp[t];function Kt(t,e){if(e){if(kt.escapeTest.test(t))return t.replace(kt.escapeReplace,Jr)}else if(kt.escapeTestNoEncode.test(t))return t.replace(kt.escapeReplaceNoEncode,Jr);return t}function eo(t){try{t=encodeURI(t).replace(kt.percentDecode,"%")}catch{return null}return t}function to(t,e){var n;const s=t.replace(kt.findPipe,(r,o,l)=>{let c=!1,d=o;for(;--d>=0&&l[d]==="\\";)c=!c;return c?"|":" |"}),i=s.split(kt.splitPipe);let a=0;if(i[0].trim()||i.shift(),i.length>0&&!((n=i.at(-1))!=null&&n.trim())&&i.pop(),e)if(i.length>e)i.splice(e);else for(;i.length<e;)i.push("");for(;a<i.length;a++)i[a]=i[a].trim().replace(kt.slashPipe,"|");return i}function gs(t,e,n){const s=t.length;if(s===0)return"";let i=0;for(;i<s&&t.charAt(s-i-1)===e;)i++;return t.slice(0,s-i)}function wp(t,e){if(t.indexOf(e[1])===-1)return-1;let n=0;for(let s=0;s<t.length;s++)if(t[s]==="\\")s++;else if(t[s]===e[0])n++;else if(t[s]===e[1]&&(n--,n<0))return s;return n>0?-2:-1}function no(t,e,n,s,i){const a=e.href,r=e.title||null,o=t[1].replace(i.other.outputLinkReplace,"$1");s.state.inLink=!0;const l={type:t[0].charAt(0)==="!"?"image":"link",raw:n,href:a,title:r,text:o,tokens:s.inlineTokens(o)};return s.state.inLink=!1,l}function _p(t,e,n){const s=t.match(n.other.indentCodeCompensation);if(s===null)return e;const i=s[1];return e.split(`
`).map(a=>{const r=a.match(n.other.beginningSpace);if(r===null)return a;const[o]=r;return o.length>=i.length?a.slice(i.length):a}).join(`
`)}class _i{constructor(e){Ze(this,"options");Ze(this,"rules");Ze(this,"lexer");this.options=e||qn}space(e){const n=this.rules.block.newline.exec(e);if(n&&n[0].length>0)return{type:"space",raw:n[0]}}code(e){const n=this.rules.block.code.exec(e);if(n){const s=n[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?s:gs(s,`
`)}}}fences(e){const n=this.rules.block.fences.exec(e);if(n){const s=n[0],i=_p(s,n[3]||"",this.rules);return{type:"code",raw:s,lang:n[2]?n[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):n[2],text:i}}}heading(e){const n=this.rules.block.heading.exec(e);if(n){let s=n[2].trim();if(this.rules.other.endingHash.test(s)){const i=gs(s,"#");(this.options.pedantic||!i||this.rules.other.endingSpaceChar.test(i))&&(s=i.trim())}return{type:"heading",raw:n[0],depth:n[1].length,text:s,tokens:this.lexer.inline(s)}}}hr(e){const n=this.rules.block.hr.exec(e);if(n)return{type:"hr",raw:gs(n[0],`
`)}}blockquote(e){const n=this.rules.block.blockquote.exec(e);if(n){let s=gs(n[0],`
`).split(`
`),i="",a="";const r=[];for(;s.length>0;){let o=!1;const l=[];let c;for(c=0;c<s.length;c++)if(this.rules.other.blockquoteStart.test(s[c]))l.push(s[c]),o=!0;else if(!o)l.push(s[c]);else break;s=s.slice(c);const d=l.join(`
`),h=d.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");i=i?`${i}
${d}`:d,a=a?`${a}
${h}`:h;const p=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(h,r,!0),this.lexer.state.top=p,s.length===0)break;const m=r.at(-1);if((m==null?void 0:m.type)==="code")break;if((m==null?void 0:m.type)==="blockquote"){const b=m,w=b.raw+`
`+s.join(`
`),N=this.blockquote(w);r[r.length-1]=N,i=i.substring(0,i.length-b.raw.length)+N.raw,a=a.substring(0,a.length-b.text.length)+N.text;break}else if((m==null?void 0:m.type)==="list"){const b=m,w=b.raw+`
`+s.join(`
`),N=this.list(w);r[r.length-1]=N,i=i.substring(0,i.length-m.raw.length)+N.raw,a=a.substring(0,a.length-b.raw.length)+N.raw,s=w.substring(r.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:i,tokens:r,text:a}}}list(e){let n=this.rules.block.list.exec(e);if(n){let s=n[1].trim();const i=s.length>1,a={type:"list",raw:"",ordered:i,start:i?+s.slice(0,-1):"",loose:!1,items:[]};s=i?`\\d{1,9}\\${s.slice(-1)}`:`\\${s}`,this.options.pedantic&&(s=i?s:"[*+-]");const r=this.rules.other.listItemRegex(s);let o=!1;for(;e;){let c=!1,d="",h="";if(!(n=r.exec(e))||this.rules.block.hr.test(e))break;d=n[0],e=e.substring(d.length);let p=n[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,E=>" ".repeat(3*E.length)),m=e.split(`
`,1)[0],b=!p.trim(),w=0;if(this.options.pedantic?(w=2,h=p.trimStart()):b?w=n[1].length+1:(w=n[2].search(this.rules.other.nonSpaceChar),w=w>4?1:w,h=p.slice(w),w+=n[1].length),b&&this.rules.other.blankLine.test(m)&&(d+=m+`
`,e=e.substring(m.length+1),c=!0),!c){const E=this.rules.other.nextBulletRegex(w),$=this.rules.other.hrRegex(w),T=this.rules.other.fencesBeginRegex(w),B=this.rules.other.headingBeginRegex(w),Y=this.rules.other.htmlBeginRegex(w);for(;e;){const R=e.split(`
`,1)[0];let Z;if(m=R,this.options.pedantic?(m=m.replace(this.rules.other.listReplaceNesting,"  "),Z=m):Z=m.replace(this.rules.other.tabCharGlobal,"    "),T.test(m)||B.test(m)||Y.test(m)||E.test(m)||$.test(m))break;if(Z.search(this.rules.other.nonSpaceChar)>=w||!m.trim())h+=`
`+Z.slice(w);else{if(b||p.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||T.test(p)||B.test(p)||$.test(p))break;h+=`
`+m}!b&&!m.trim()&&(b=!0),d+=R+`
`,e=e.substring(R.length+1),p=Z.slice(w)}}a.loose||(o?a.loose=!0:this.rules.other.doubleBlankLine.test(d)&&(o=!0));let N=null,_;this.options.gfm&&(N=this.rules.other.listIsTask.exec(h),N&&(_=N[0]!=="[ ] ",h=h.replace(this.rules.other.listReplaceTask,""))),a.items.push({type:"list_item",raw:d,task:!!N,checked:_,loose:!1,text:h,tokens:[]}),a.raw+=d}const l=a.items.at(-1);if(l)l.raw=l.raw.trimEnd(),l.text=l.text.trimEnd();else return;a.raw=a.raw.trimEnd();for(let c=0;c<a.items.length;c++)if(this.lexer.state.top=!1,a.items[c].tokens=this.lexer.blockTokens(a.items[c].text,[]),!a.loose){const d=a.items[c].tokens.filter(p=>p.type==="space"),h=d.length>0&&d.some(p=>this.rules.other.anyLine.test(p.raw));a.loose=h}if(a.loose)for(let c=0;c<a.items.length;c++)a.items[c].loose=!0;return a}}html(e){const n=this.rules.block.html.exec(e);if(n)return{type:"html",block:!0,raw:n[0],pre:n[1]==="pre"||n[1]==="script"||n[1]==="style",text:n[0]}}def(e){const n=this.rules.block.def.exec(e);if(n){const s=n[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),i=n[2]?n[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",a=n[3]?n[3].substring(1,n[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):n[3];return{type:"def",tag:s,raw:n[0],href:i,title:a}}}table(e){var n;const s=this.rules.block.table.exec(e);if(!s||!this.rules.other.tableDelimiter.test(s[2]))return;const i=to(s[1]),a=s[2].replace(this.rules.other.tableAlignChars,"").split("|"),r=(n=s[3])!=null&&n.trim()?s[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],o={type:"table",raw:s[0],header:[],align:[],rows:[]};if(i.length===a.length){for(const l of a)this.rules.other.tableAlignRight.test(l)?o.align.push("right"):this.rules.other.tableAlignCenter.test(l)?o.align.push("center"):this.rules.other.tableAlignLeft.test(l)?o.align.push("left"):o.align.push(null);for(let l=0;l<i.length;l++)o.header.push({text:i[l],tokens:this.lexer.inline(i[l]),header:!0,align:o.align[l]});for(const l of r)o.rows.push(to(l,o.header.length).map((c,d)=>({text:c,tokens:this.lexer.inline(c),header:!1,align:o.align[d]})));return o}}lheading(e){const n=this.rules.block.lheading.exec(e);if(n)return{type:"heading",raw:n[0],depth:n[2].charAt(0)==="="?1:2,text:n[1],tokens:this.lexer.inline(n[1])}}paragraph(e){const n=this.rules.block.paragraph.exec(e);if(n){const s=n[1].charAt(n[1].length-1)===`
`?n[1].slice(0,-1):n[1];return{type:"paragraph",raw:n[0],text:s,tokens:this.lexer.inline(s)}}}text(e){const n=this.rules.block.text.exec(e);if(n)return{type:"text",raw:n[0],text:n[0],tokens:this.lexer.inline(n[0])}}escape(e){const n=this.rules.inline.escape.exec(e);if(n)return{type:"escape",raw:n[0],text:n[1]}}tag(e){const n=this.rules.inline.tag.exec(e);if(n)return!this.lexer.state.inLink&&this.rules.other.startATag.test(n[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(n[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(n[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(n[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:n[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:n[0]}}link(e){const n=this.rules.inline.link.exec(e);if(n){const s=n[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(s)){if(!this.rules.other.endAngleBracket.test(s))return;const r=gs(s.slice(0,-1),"\\");if((s.length-r.length)%2===0)return}else{const r=wp(n[2],"()");if(r===-2)return;if(r>-1){const o=(n[0].indexOf("!")===0?5:4)+n[1].length+r;n[2]=n[2].substring(0,r),n[0]=n[0].substring(0,o).trim(),n[3]=""}}let i=n[2],a="";if(this.options.pedantic){const r=this.rules.other.pedanticHrefTitle.exec(i);r&&(i=r[1],a=r[3])}else a=n[3]?n[3].slice(1,-1):"";return i=i.trim(),this.rules.other.startAngleBracket.test(i)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(s)?i=i.slice(1):i=i.slice(1,-1)),no(n,{href:i&&i.replace(this.rules.inline.anyPunctuation,"$1"),title:a&&a.replace(this.rules.inline.anyPunctuation,"$1")},n[0],this.lexer,this.rules)}}reflink(e,n){let s;if((s=this.rules.inline.reflink.exec(e))||(s=this.rules.inline.nolink.exec(e))){const i=(s[2]||s[1]).replace(this.rules.other.multipleSpaceGlobal," "),a=n[i.toLowerCase()];if(!a){const r=s[0].charAt(0);return{type:"text",raw:r,text:r}}return no(s,a,s[0],this.lexer,this.rules)}}emStrong(e,n,s=""){let i=this.rules.inline.emStrongLDelim.exec(e);if(!(!i||i[3]&&s.match(this.rules.other.unicodeAlphaNumeric))&&(!(i[1]||i[2])||!s||this.rules.inline.punctuation.exec(s))){const a=[...i[0]].length-1;let r,o,l=a,c=0;const d=i[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(d.lastIndex=0,n=n.slice(-1*e.length+a);(i=d.exec(n))!=null;){if(r=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!r)continue;if(o=[...r].length,i[3]||i[4]){l+=o;continue}else if((i[5]||i[6])&&a%3&&!((a+o)%3)){c+=o;continue}if(l-=o,l>0)continue;o=Math.min(o,o+l+c);const h=[...i[0]][0].length,p=e.slice(0,a+i.index+h+o);if(Math.min(a,o)%2){const b=p.slice(1,-1);return{type:"em",raw:p,text:b,tokens:this.lexer.inlineTokens(b)}}const m=p.slice(2,-2);return{type:"strong",raw:p,text:m,tokens:this.lexer.inlineTokens(m)}}}}codespan(e){const n=this.rules.inline.code.exec(e);if(n){let s=n[2].replace(this.rules.other.newLineCharGlobal," ");const i=this.rules.other.nonSpaceChar.test(s),a=this.rules.other.startingSpaceChar.test(s)&&this.rules.other.endingSpaceChar.test(s);return i&&a&&(s=s.substring(1,s.length-1)),{type:"codespan",raw:n[0],text:s}}}br(e){const n=this.rules.inline.br.exec(e);if(n)return{type:"br",raw:n[0]}}del(e){const n=this.rules.inline.del.exec(e);if(n)return{type:"del",raw:n[0],text:n[2],tokens:this.lexer.inlineTokens(n[2])}}autolink(e){const n=this.rules.inline.autolink.exec(e);if(n){let s,i;return n[2]==="@"?(s=n[1],i="mailto:"+s):(s=n[1],i=s),{type:"link",raw:n[0],text:s,href:i,tokens:[{type:"text",raw:s,text:s}]}}}url(e){var n;let s;if(s=this.rules.inline.url.exec(e)){let i,a;if(s[2]==="@")i=s[0],a="mailto:"+i;else{let r;do r=s[0],s[0]=((n=this.rules.inline._backpedal.exec(s[0]))==null?void 0:n[0])??"";while(r!==s[0]);i=s[0],s[1]==="www."?a="http://"+s[0]:a=s[0]}return{type:"link",raw:s[0],text:i,href:a,tokens:[{type:"text",raw:i,text:i}]}}}inlineText(e){const n=this.rules.inline.text.exec(e);if(n){const s=this.lexer.state.inRawBlock;return{type:"text",raw:n[0],text:n[0],escaped:s}}}}class jt{constructor(e){Ze(this,"tokens");Ze(this,"options");Ze(this,"state");Ze(this,"tokenizer");Ze(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||qn,this.options.tokenizer=this.options.tokenizer||new _i,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const n={other:kt,block:ti.normal,inline:ms.normal};this.options.pedantic?(n.block=ti.pedantic,n.inline=ms.pedantic):this.options.gfm&&(n.block=ti.gfm,this.options.breaks?n.inline=ms.breaks:n.inline=ms.gfm),this.tokenizer.rules=n}static get rules(){return{block:ti,inline:ms}}static lex(e,n){return new jt(n).lex(e)}static lexInline(e,n){return new jt(n).inlineTokens(e)}lex(e){e=e.replace(kt.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let n=0;n<this.inlineQueue.length;n++){const s=this.inlineQueue[n];this.inlineTokens(s.src,s.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,n=[],s=!1){var i,a,r;for(this.options.pedantic&&(e=e.replace(kt.tabCharGlobal,"    ").replace(kt.spaceLine,""));e;){let o;if((a=(i=this.options.extensions)==null?void 0:i.block)!=null&&a.some(c=>(o=c.call({lexer:this},e,n))?(e=e.substring(o.raw.length),n.push(o),!0):!1))continue;if(o=this.tokenizer.space(e)){e=e.substring(o.raw.length);const c=n.at(-1);o.raw.length===1&&c!==void 0?c.raw+=`
`:n.push(o);continue}if(o=this.tokenizer.code(e)){e=e.substring(o.raw.length);const c=n.at(-1);(c==null?void 0:c.type)==="paragraph"||(c==null?void 0:c.type)==="text"?(c.raw+=`
`+o.raw,c.text+=`
`+o.text,this.inlineQueue.at(-1).src=c.text):n.push(o);continue}if(o=this.tokenizer.fences(e)){e=e.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.heading(e)){e=e.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.hr(e)){e=e.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.blockquote(e)){e=e.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.list(e)){e=e.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.html(e)){e=e.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.def(e)){e=e.substring(o.raw.length);const c=n.at(-1);(c==null?void 0:c.type)==="paragraph"||(c==null?void 0:c.type)==="text"?(c.raw+=`
`+o.raw,c.text+=`
`+o.raw,this.inlineQueue.at(-1).src=c.text):this.tokens.links[o.tag]||(this.tokens.links[o.tag]={href:o.href,title:o.title});continue}if(o=this.tokenizer.table(e)){e=e.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.lheading(e)){e=e.substring(o.raw.length),n.push(o);continue}let l=e;if((r=this.options.extensions)!=null&&r.startBlock){let c=1/0;const d=e.slice(1);let h;this.options.extensions.startBlock.forEach(p=>{h=p.call({lexer:this},d),typeof h=="number"&&h>=0&&(c=Math.min(c,h))}),c<1/0&&c>=0&&(l=e.substring(0,c+1))}if(this.state.top&&(o=this.tokenizer.paragraph(l))){const c=n.at(-1);s&&(c==null?void 0:c.type)==="paragraph"?(c.raw+=`
`+o.raw,c.text+=`
`+o.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=c.text):n.push(o),s=l.length!==e.length,e=e.substring(o.raw.length);continue}if(o=this.tokenizer.text(e)){e=e.substring(o.raw.length);const c=n.at(-1);(c==null?void 0:c.type)==="text"?(c.raw+=`
`+o.raw,c.text+=`
`+o.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=c.text):n.push(o);continue}if(e){const c="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(c);break}else throw new Error(c)}}return this.state.top=!0,n}inline(e,n=[]){return this.inlineQueue.push({src:e,tokens:n}),n}inlineTokens(e,n=[]){var s,i,a;let r=e,o=null;if(this.tokens.links){const d=Object.keys(this.tokens.links);if(d.length>0)for(;(o=this.tokenizer.rules.inline.reflinkSearch.exec(r))!=null;)d.includes(o[0].slice(o[0].lastIndexOf("[")+1,-1))&&(r=r.slice(0,o.index)+"["+"a".repeat(o[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(o=this.tokenizer.rules.inline.anyPunctuation.exec(r))!=null;)r=r.slice(0,o.index)+"++"+r.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(o=this.tokenizer.rules.inline.blockSkip.exec(r))!=null;)r=r.slice(0,o.index)+"["+"a".repeat(o[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let l=!1,c="";for(;e;){l||(c=""),l=!1;let d;if((i=(s=this.options.extensions)==null?void 0:s.inline)!=null&&i.some(p=>(d=p.call({lexer:this},e,n))?(e=e.substring(d.raw.length),n.push(d),!0):!1))continue;if(d=this.tokenizer.escape(e)){e=e.substring(d.raw.length),n.push(d);continue}if(d=this.tokenizer.tag(e)){e=e.substring(d.raw.length),n.push(d);continue}if(d=this.tokenizer.link(e)){e=e.substring(d.raw.length),n.push(d);continue}if(d=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(d.raw.length);const p=n.at(-1);d.type==="text"&&(p==null?void 0:p.type)==="text"?(p.raw+=d.raw,p.text+=d.text):n.push(d);continue}if(d=this.tokenizer.emStrong(e,r,c)){e=e.substring(d.raw.length),n.push(d);continue}if(d=this.tokenizer.codespan(e)){e=e.substring(d.raw.length),n.push(d);continue}if(d=this.tokenizer.br(e)){e=e.substring(d.raw.length),n.push(d);continue}if(d=this.tokenizer.del(e)){e=e.substring(d.raw.length),n.push(d);continue}if(d=this.tokenizer.autolink(e)){e=e.substring(d.raw.length),n.push(d);continue}if(!this.state.inLink&&(d=this.tokenizer.url(e))){e=e.substring(d.raw.length),n.push(d);continue}let h=e;if((a=this.options.extensions)!=null&&a.startInline){let p=1/0;const m=e.slice(1);let b;this.options.extensions.startInline.forEach(w=>{b=w.call({lexer:this},m),typeof b=="number"&&b>=0&&(p=Math.min(p,b))}),p<1/0&&p>=0&&(h=e.substring(0,p+1))}if(d=this.tokenizer.inlineText(h)){e=e.substring(d.raw.length),d.raw.slice(-1)!=="_"&&(c=d.raw.slice(-1)),l=!0;const p=n.at(-1);(p==null?void 0:p.type)==="text"?(p.raw+=d.raw,p.text+=d.text):n.push(d);continue}if(e){const p="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(p);break}else throw new Error(p)}}return n}}class Ei{constructor(e){Ze(this,"options");Ze(this,"parser");this.options=e||qn}space(e){return""}code({text:e,lang:n,escaped:s}){var i;const a=(i=(n||"").match(kt.notSpaceStart))==null?void 0:i[0],r=e.replace(kt.endingNewline,"")+`
`;return a?'<pre><code class="language-'+Kt(a)+'">'+(s?r:Kt(r,!0))+`</code></pre>
`:"<pre><code>"+(s?r:Kt(r,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}heading({tokens:e,depth:n}){return`<h${n}>${this.parser.parseInline(e)}</h${n}>
`}hr(e){return`<hr>
`}list(e){const n=e.ordered,s=e.start;let i="";for(let o=0;o<e.items.length;o++){const l=e.items[o];i+=this.listitem(l)}const a=n?"ol":"ul",r=n&&s!==1?' start="'+s+'"':"";return"<"+a+r+`>
`+i+"</"+a+`>
`}listitem(e){var n;let s="";if(e.task){const i=this.checkbox({checked:!!e.checked});e.loose?((n=e.tokens[0])==null?void 0:n.type)==="paragraph"?(e.tokens[0].text=i+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&e.tokens[0].tokens[0].type==="text"&&(e.tokens[0].tokens[0].text=i+" "+Kt(e.tokens[0].tokens[0].text),e.tokens[0].tokens[0].escaped=!0)):e.tokens.unshift({type:"text",raw:i+" ",text:i+" ",escaped:!0}):s+=i+" "}return s+=this.parser.parse(e.tokens,!!e.loose),`<li>${s}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let n="",s="";for(let a=0;a<e.header.length;a++)s+=this.tablecell(e.header[a]);n+=this.tablerow({text:s});let i="";for(let a=0;a<e.rows.length;a++){const r=e.rows[a];s="";for(let o=0;o<r.length;o++)s+=this.tablecell(r[o]);i+=this.tablerow({text:s})}return i&&(i=`<tbody>${i}</tbody>`),`<table>
<thead>
`+n+`</thead>
`+i+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){const n=this.parser.parseInline(e.tokens),s=e.header?"th":"td";return(e.align?`<${s} align="${e.align}">`:`<${s}>`)+n+`</${s}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${Kt(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:n,tokens:s}){const i=this.parser.parseInline(s),a=eo(e);if(a===null)return i;e=a;let r='<a href="'+e+'"';return n&&(r+=' title="'+Kt(n)+'"'),r+=">"+i+"</a>",r}image({href:e,title:n,text:s,tokens:i}){i&&(s=this.parser.parseInline(i,this.parser.textRenderer));const a=eo(e);if(a===null)return Kt(s);e=a;let r=`<img src="${e}" alt="${s}"`;return n&&(r+=` title="${Kt(n)}"`),r+=">",r}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:Kt(e.text)}}class Ua{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}}class Ft{constructor(e){Ze(this,"options");Ze(this,"renderer");Ze(this,"textRenderer");this.options=e||qn,this.options.renderer=this.options.renderer||new Ei,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Ua}static parse(e,n){return new Ft(n).parse(e)}static parseInline(e,n){return new Ft(n).parseInline(e)}parse(e,n=!0){var s,i;let a="";for(let r=0;r<e.length;r++){const o=e[r];if((i=(s=this.options.extensions)==null?void 0:s.renderers)!=null&&i[o.type]){const c=o,d=this.options.extensions.renderers[c.type].call({parser:this},c);if(d!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(c.type)){a+=d||"";continue}}const l=o;switch(l.type){case"space":{a+=this.renderer.space(l);continue}case"hr":{a+=this.renderer.hr(l);continue}case"heading":{a+=this.renderer.heading(l);continue}case"code":{a+=this.renderer.code(l);continue}case"table":{a+=this.renderer.table(l);continue}case"blockquote":{a+=this.renderer.blockquote(l);continue}case"list":{a+=this.renderer.list(l);continue}case"html":{a+=this.renderer.html(l);continue}case"paragraph":{a+=this.renderer.paragraph(l);continue}case"text":{let c=l,d=this.renderer.text(c);for(;r+1<e.length&&e[r+1].type==="text";)c=e[++r],d+=`
`+this.renderer.text(c);n?a+=this.renderer.paragraph({type:"paragraph",raw:d,text:d,tokens:[{type:"text",raw:d,text:d,escaped:!0}]}):a+=d;continue}default:{const c='Token with "'+l.type+'" type was not found.';if(this.options.silent)return console.error(c),"";throw new Error(c)}}}return a}parseInline(e,n=this.renderer){var s,i;let a="";for(let r=0;r<e.length;r++){const o=e[r];if((i=(s=this.options.extensions)==null?void 0:s.renderers)!=null&&i[o.type]){const c=this.options.extensions.renderers[o.type].call({parser:this},o);if(c!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(o.type)){a+=c||"";continue}}const l=o;switch(l.type){case"escape":{a+=n.text(l);break}case"html":{a+=n.html(l);break}case"link":{a+=n.link(l);break}case"image":{a+=n.image(l);break}case"strong":{a+=n.strong(l);break}case"em":{a+=n.em(l);break}case"codespan":{a+=n.codespan(l);break}case"br":{a+=n.br(l);break}case"del":{a+=n.del(l);break}case"text":{a+=n.text(l);break}default:{const c='Token with "'+l.type+'" type was not found.';if(this.options.silent)return console.error(c),"";throw new Error(c)}}}return a}}class ks{constructor(e){Ze(this,"options");Ze(this,"block");this.options=e||qn}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}provideLexer(){return this.block?jt.lex:jt.lexInline}provideParser(){return this.block?Ft.parse:Ft.parseInline}}fc(ks,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));class Bl{constructor(...e){Ze(this,"defaults",Da());Ze(this,"options",this.setOptions);Ze(this,"parse",this.parseMarkdown(!0));Ze(this,"parseInline",this.parseMarkdown(!1));Ze(this,"Parser",Ft);Ze(this,"Renderer",Ei);Ze(this,"TextRenderer",Ua);Ze(this,"Lexer",jt);Ze(this,"Tokenizer",_i);Ze(this,"Hooks",ks);this.use(...e)}walkTokens(e,n){var s,i;let a=[];for(const r of e)switch(a=a.concat(n.call(this,r)),r.type){case"table":{const o=r;for(const l of o.header)a=a.concat(this.walkTokens(l.tokens,n));for(const l of o.rows)for(const c of l)a=a.concat(this.walkTokens(c.tokens,n));break}case"list":{const o=r;a=a.concat(this.walkTokens(o.items,n));break}default:{const o=r;(i=(s=this.defaults.extensions)==null?void 0:s.childTokens)!=null&&i[o.type]?this.defaults.extensions.childTokens[o.type].forEach(l=>{const c=o[l].flat(1/0);a=a.concat(this.walkTokens(c,n))}):o.tokens&&(a=a.concat(this.walkTokens(o.tokens,n)))}}return a}use(...e){const n=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(s=>{const i={...s};if(i.async=this.defaults.async||i.async||!1,s.extensions&&(s.extensions.forEach(a=>{if(!a.name)throw new Error("extension name required");if("renderer"in a){const r=n.renderers[a.name];r?n.renderers[a.name]=function(...o){let l=a.renderer.apply(this,o);return l===!1&&(l=r.apply(this,o)),l}:n.renderers[a.name]=a.renderer}if("tokenizer"in a){if(!a.level||a.level!=="block"&&a.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const r=n[a.level];r?r.unshift(a.tokenizer):n[a.level]=[a.tokenizer],a.start&&(a.level==="block"?n.startBlock?n.startBlock.push(a.start):n.startBlock=[a.start]:a.level==="inline"&&(n.startInline?n.startInline.push(a.start):n.startInline=[a.start]))}"childTokens"in a&&a.childTokens&&(n.childTokens[a.name]=a.childTokens)}),i.extensions=n),s.renderer){const a=this.defaults.renderer||new Ei(this.defaults);for(const r in s.renderer){if(!(r in a))throw new Error(`renderer '${r}' does not exist`);if(["options","parser"].includes(r))continue;const o=r,l=s.renderer[o],c=a[o];a[o]=(...d)=>{let h=l.apply(a,d);return h===!1&&(h=c.apply(a,d)),h||""}}i.renderer=a}if(s.tokenizer){const a=this.defaults.tokenizer||new _i(this.defaults);for(const r in s.tokenizer){if(!(r in a))throw new Error(`tokenizer '${r}' does not exist`);if(["options","rules","lexer"].includes(r))continue;const o=r,l=s.tokenizer[o],c=a[o];a[o]=(...d)=>{let h=l.apply(a,d);return h===!1&&(h=c.apply(a,d)),h}}i.tokenizer=a}if(s.hooks){const a=this.defaults.hooks||new ks;for(const r in s.hooks){if(!(r in a))throw new Error(`hook '${r}' does not exist`);if(["options","block"].includes(r))continue;const o=r,l=s.hooks[o],c=a[o];ks.passThroughHooks.has(r)?a[o]=d=>{if(this.defaults.async)return Promise.resolve(l.call(a,d)).then(p=>c.call(a,p));const h=l.call(a,d);return c.call(a,h)}:a[o]=(...d)=>{let h=l.apply(a,d);return h===!1&&(h=c.apply(a,d)),h}}i.hooks=a}if(s.walkTokens){const a=this.defaults.walkTokens,r=s.walkTokens;i.walkTokens=function(o){let l=[];return l.push(r.call(this,o)),a&&(l=l.concat(a.call(this,o))),l}}this.defaults={...this.defaults,...i}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,n){return jt.lex(e,n??this.defaults)}parser(e,n){return Ft.parse(e,n??this.defaults)}parseMarkdown(e){return(n,s)=>{const i={...s},a={...this.defaults,...i},r=this.onError(!!a.silent,!!a.async);if(this.defaults.async===!0&&i.async===!1)return r(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof n>"u"||n===null)return r(new Error("marked(): input parameter is undefined or null"));if(typeof n!="string")return r(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));a.hooks&&(a.hooks.options=a,a.hooks.block=e);const o=a.hooks?a.hooks.provideLexer():e?jt.lex:jt.lexInline,l=a.hooks?a.hooks.provideParser():e?Ft.parse:Ft.parseInline;if(a.async)return Promise.resolve(a.hooks?a.hooks.preprocess(n):n).then(c=>o(c,a)).then(c=>a.hooks?a.hooks.processAllTokens(c):c).then(c=>a.walkTokens?Promise.all(this.walkTokens(c,a.walkTokens)).then(()=>c):c).then(c=>l(c,a)).then(c=>a.hooks?a.hooks.postprocess(c):c).catch(r);try{a.hooks&&(n=a.hooks.preprocess(n));let c=o(n,a);a.hooks&&(c=a.hooks.processAllTokens(c)),a.walkTokens&&this.walkTokens(c,a.walkTokens);let d=l(c,a);return a.hooks&&(d=a.hooks.postprocess(d)),d}catch(c){return r(c)}}}onError(e,n){return s=>{if(s.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const i="<p>An error occurred:</p><pre>"+Kt(s.message+"",!0)+"</pre>";return n?Promise.resolve(i):i}if(n)return Promise.reject(s);throw s}}}const Tn=new Bl;function tt(t,e){return Tn.parse(t,e)}tt.options=tt.setOptions=function(t){return Tn.setOptions(t),tt.defaults=Tn.defaults,Qr(tt.defaults),tt},tt.getDefaults=Da,tt.defaults=qn,tt.use=function(...t){return Tn.use(...t),tt.defaults=Tn.defaults,Qr(tt.defaults),tt},tt.walkTokens=function(t,e){return Tn.walkTokens(t,e)},tt.parseInline=Tn.parseInline,tt.Parser=Ft,tt.parser=Ft.parse,tt.Renderer=Ei,tt.TextRenderer=Ua,tt.Lexer=jt,tt.lexer=jt.lex,tt.Tokenizer=_i,tt.Hooks=ks,tt.parse=tt;function Ep(t){if(typeof t=="function"&&(t={highlight:t}),!t||typeof t.highlight!="function")throw new Error("Must provide highlight function");return typeof t.langPrefix!="string"&&(t.langPrefix="language-"),typeof t.emptyLangClass!="string"&&(t.emptyLangClass=""),{async:!!t.async,walkTokens(e){if(e.type!=="code")return;const n=so(e.lang);if(t.async)return Promise.resolve(t.highlight(e.text,n,e.lang||"")).then(io(e));const s=t.highlight(e.text,n,e.lang||"");if(s instanceof Promise)throw new Error("markedHighlight is not set to async but the highlight function is async. Set the async option to true on markedHighlight to await the async highlight function.");io(e)(s)},useNewRenderer:!0,renderer:{code(e,n,s){typeof e=="object"&&(s=e.escaped,n=e.lang,e=e.text);const i=so(n),a=i?t.langPrefix+ro(i):t.emptyLangClass,r=a?` class="${a}"`:"";return e=e.replace(/\n$/,""),`<pre><code${r}>${s?e:ro(e,!0)}
</code></pre>`}}}}function so(t){return(t||"").match(/\S*/)[0]}function io(t){return e=>{typeof e=="string"&&e!==t.text&&(t.escaped=!0,t.text=e)}}const zl=/[&<>"']/,xp=new RegExp(zl.source,"g"),jl=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,Sp=new RegExp(jl.source,"g"),kp={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ao=t=>kp[t];function ro(t,e){if(e){if(zl.test(t))return t.replace(xp,ao)}else if(jl.test(t))return t.replace(Sp,ao);return t}const Np=/\$.*?\$/,Ap=/^\$(.*?)\$/,Lp=/^(?:\s{0,3})\$\$((?:[^\n]|\n[^\n])+?)\n{0,1}\$\$/,Cp=t=>[{name:"blockMath",level:"block",tokenizer(e){const n=Lp.exec(e);if(n!==null)return{type:"html",raw:n[0],text:t(!0,n[1])}}},{name:"inlineMath",level:"inline",start(e){const n=e.search(Np);return n!==-1?n:e.length},tokenizer(e){const n=Ap.exec(e);if(n!==null)return{type:"html",raw:n[0],text:t(!1,n[1])}}}],Fl=(t="",e={})=>t.replace(/:(.+?):/g,(n,s)=>e[s]?`<img class="wl-emoji" src="${e[s]}" alt="${s}">`:n),Mp=(t,{emojiMap:e,highlighter:n,texRenderer:s})=>{const i=new Bl;if(i.setOptions({breaks:!0}),n&&i.use(Ep({highlight:n})),s){const a=Cp(s);i.use({extensions:a})}return i.parse(Fl(t,e))},va=t=>{const{path:e}=t.dataset;return e!=null&&e.length?e:null},Tp=t=>t.match(/[\w\d\s,.\u00C0-\u024F\u0400-\u04FF]+/giu),Ip=t=>t.match(/[\u4E00-\u9FD5]/gu),Op=t=>{var e,n;return(((e=Tp(t))==null?void 0:e.reduce((s,i)=>s+(["",",","."].includes(i.trim())?0:i.trim().split(/\s+/u).length),0))??0)+(((n=Ip(t))==null?void 0:n.length)??0)},$p=async()=>{const{userAgentData:t}=navigator;let e=navigator.userAgent;if(!t||t.platform!=="Windows")return e;const{platformVersion:n}=await t.getHighEntropyValues(["platformVersion"]);return n&&parseInt(n.split(".")[0])>=13&&(e=e.replace("Windows NT 10.0","Windows NT 11.0")),e},Rp=({serverURL:t,path:e=window.location.pathname,selector:n=".waline-comment-count",lang:s=navigator.language})=>{const i=new AbortController,a=document.querySelectorAll(n);return a.length&&vc({serverURL:oi(t),paths:Array.from(a).map(r=>_o(va(r)??e)),lang:s,signal:i.signal}).then(r=>{a.forEach((o,l)=>{o.innerText=r[l].toString()})}).catch(Al),i.abort.bind(i)},oo=({size:t})=>Pe("svg",{class:"wl-close-icon",viewBox:"0 0 1024 1024",width:t,height:t},[Pe("path",{d:"M697.173 85.333h-369.92c-144.64 0-241.92 101.547-241.92 252.587v348.587c0 150.613 97.28 252.16 241.92 252.16h369.92c144.64 0 241.494-101.547 241.494-252.16V337.92c0-151.04-96.854-252.587-241.494-252.587z",fill:"currentColor"}),Pe("path",{d:"m640.683 587.52-75.947-75.861 75.904-75.862a37.29 37.29 0 0 0 0-52.778 37.205 37.205 0 0 0-52.779 0l-75.946 75.818-75.862-75.946a37.419 37.419 0 0 0-52.821 0 37.419 37.419 0 0 0 0 52.821l75.947 75.947-75.776 75.733a37.29 37.29 0 1 0 52.778 52.821l75.776-75.776 75.947 75.947a37.376 37.376 0 0 0 52.779-52.821z",fill:"#888"})]),Dp=()=>Pe("svg",{viewBox:"0 0 1024 1024",width:"24",height:"24"},Pe("path",{d:"m341.013 394.667 27.755 393.45h271.83l27.733-393.45h64.106l-28.01 397.952a64 64 0 0 1-63.83 59.498H368.768a64 64 0 0 1-63.83-59.52l-28.053-397.93h64.128zm139.307 19.818v298.667h-64V414.485h64zm117.013 0v298.667h-64V414.485h64zM181.333 288h640v64h-640v-64zm453.483-106.667v64h-256v-64h256z",fill:"red"})),Pp=()=>Pe("svg",{viewBox:"0 0 1024 1024",width:"24",height:"24"},Pe("path",{d:"M563.2 463.3 677 540c1.7 1.2 3.7 1.8 5.8 1.8.7 0 1.4-.1 2-.2 2.7-.5 5.1-2.1 6.6-4.4l25.3-37.8c1.5-2.3 2.1-5.1 1.6-7.8s-2.1-5.1-4.4-6.6l-73.6-49.1 73.6-49.1c2.3-1.5 3.9-3.9 4.4-6.6.5-2.7 0-5.5-1.6-7.8l-25.3-37.8a10.1 10.1 0 0 0-6.6-4.4c-.7-.1-1.3-.2-2-.2-2.1 0-4.1.6-5.8 1.8l-113.8 76.6c-9.2 6.2-14.7 16.4-14.7 27.5.1 11 5.5 21.3 14.7 27.4zM387 348.8h-45.5c-5.7 0-10.4 4.7-10.4 10.4v153.3c0 5.7 4.7 10.4 10.4 10.4H387c5.7 0 10.4-4.7 10.4-10.4V359.2c0-5.7-4.7-10.4-10.4-10.4zm333.8 241.3-41-20a10.3 10.3 0 0 0-8.1-.5c-2.6.9-4.8 2.9-5.9 5.4-30.1 64.9-93.1 109.1-164.4 115.2-5.7.5-9.9 5.5-9.5 11.2l3.9 45.5c.5 5.3 5 9.5 10.3 9.5h.9c94.8-8 178.5-66.5 218.6-152.7 2.4-5 .3-11.2-4.8-13.6zm186-186.1c-11.9-42-30.5-81.4-55.2-117.1-24.1-34.9-53.5-65.6-87.5-91.2-33.9-25.6-71.5-45.5-111.6-59.2-41.2-14-84.1-21.1-127.8-21.1h-1.2c-75.4 0-148.8 21.4-212.5 61.7-63.7 40.3-114.3 97.6-146.5 165.8-32.2 68.1-44.3 143.6-35.1 218.4 9.3 74.8 39.4 145 87.3 203.3.1.2.3.3.4.5l36.2 38.4c1.1 1.2 2.5 2.1 3.9 2.6 73.3 66.7 168.2 103.5 267.5 103.5 73.3 0 145.2-20.3 207.7-58.7 37.3-22.9 70.3-51.5 98.1-85 27.1-32.7 48.7-69.5 64.2-109.1 15.5-39.7 24.4-81.3 26.6-123.8 2.4-43.6-2.5-87-14.5-129zm-60.5 181.1c-8.3 37-22.8 72-43 104-19.7 31.1-44.3 58.6-73.1 81.7-28.8 23.1-61 41-95.7 53.4-35.6 12.7-72.9 19.1-110.9 19.1-82.6 0-161.7-30.6-222.8-86.2l-34.1-35.8c-23.9-29.3-42.4-62.2-55.1-97.7-12.4-34.7-18.8-71-19.2-107.9-.4-36.9 5.4-73.3 17.1-108.2 12-35.8 30-69.2 53.4-99.1 31.7-40.4 71.1-72 117.2-94.1 44.5-21.3 94-32.6 143.4-32.6 49.3 0 97 10.8 141.8 32 34.3 16.3 65.3 38.1 92 64.8 26.1 26 47.5 56 63.6 89.2 16.2 33.2 26.6 68.5 31 105.1 4.6 37.5 2.7 75.3-5.6 112.3z",fill:"currentColor"})),Bp=()=>Pe("svg",{viewBox:"0 0 1024 1024",width:"24",height:"24"},[Pe("path",{d:"M784 112H240c-88 0-160 72-160 160v480c0 88 72 160 160 160h544c88 0 160-72 160-160V272c0-88-72-160-160-160zm96 640c0 52.8-43.2 96-96 96H240c-52.8 0-96-43.2-96-96V272c0-52.8 43.2-96 96-96h544c52.8 0 96 43.2 96 96v480z",fill:"currentColor"}),Pe("path",{d:"M352 480c52.8 0 96-43.2 96-96s-43.2-96-96-96-96 43.2-96 96 43.2 96 96 96zm0-128c17.6 0 32 14.4 32 32s-14.4 32-32 32-32-14.4-32-32 14.4-32 32-32zm462.4 379.2-3.2-3.2-177.6-177.6c-25.6-25.6-65.6-25.6-91.2 0l-80 80-36.8-36.8c-25.6-25.6-65.6-25.6-91.2 0L200 728c-4.8 6.4-8 14.4-8 24 0 17.6 14.4 32 32 32 9.6 0 16-3.2 22.4-9.6L380.8 640l134.4 134.4c6.4 6.4 14.4 9.6 24 9.6 17.6 0 32-14.4 32-32 0-9.6-4.8-17.6-9.6-24l-52.8-52.8 80-80L769.6 776c6.4 4.8 12.8 8 20.8 8 17.6 0 32-14.4 32-32 0-8-3.2-16-8-20.8z",fill:"currentColor"})]),zp=({active:t=!1})=>Pe("svg",{viewBox:"0 0 1024 1024",width:"24",height:"24"},[Pe("path",{d:`M850.654 323.804c-11.042-25.625-26.862-48.532-46.885-68.225-20.022-19.61-43.258-34.936-69.213-45.73-26.78-11.124-55.124-16.727-84.375-16.727-40.622 0-80.256 11.123-114.698 32.135A214.79 214.79 0 0 0 512 241.819a214.79 214.79 0 0 0-23.483-16.562c-34.442-21.012-74.076-32.135-114.698-32.135-29.25 0-57.595 5.603-84.375 16.727-25.872 10.711-49.19 26.12-69.213 45.73-20.105 19.693-35.843 42.6-46.885 68.225-11.453 26.615-17.303 54.877-17.303 83.963 0 27.439 5.603 56.03 16.727 85.117 9.31 24.307 22.659 49.52 39.715 74.981 27.027 40.293 64.188 82.316 110.33 124.915 76.465 70.615 152.189 119.394 155.402 121.371l19.528 12.525c8.652 5.52 19.776 5.52 28.427 0l19.529-12.525c3.213-2.06 78.854-50.756 155.401-121.371 46.143-42.6 83.304-84.622 110.33-124.915 17.057-25.46 30.487-50.674 39.716-74.981 11.124-29.087 16.727-57.678 16.727-85.117.082-29.086-5.768-57.348-17.221-83.963z${t?"":"M512 761.5S218.665 573.55 218.665 407.767c0-83.963 69.461-152.023 155.154-152.023 60.233 0 112.473 33.618 138.181 82.727 25.708-49.109 77.948-82.727 138.18-82.727 85.694 0 155.155 68.06 155.155 152.023C805.335 573.551 512 761.5 512 761.5z"}`,fill:t?"red":"currentColor"})]),jp=()=>Pe("svg",{viewBox:"0 0 1024 1024",width:"24",height:"24"},[Pe("path",{d:"M710.816 654.301c70.323-96.639 61.084-230.578-23.705-314.843-46.098-46.098-107.183-71.109-172.28-71.109-65.008 0-126.092 25.444-172.28 71.109-45.227 46.098-70.756 107.183-70.756 172.106 0 64.923 25.444 126.007 71.194 172.106 46.099 46.098 107.184 71.109 172.28 71.109 51.414 0 100.648-16.212 142.824-47.404l126.53 126.006c7.058 7.06 16.297 10.979 26.406 10.979 10.105 0 19.343-3.919 26.402-10.979 14.467-14.467 14.467-38.172 0-52.723L710.816 654.301zm-315.107-23.265c-65.88-65.88-65.88-172.54 0-238.42 32.069-32.07 74.245-49.149 119.471-49.149 45.227 0 87.407 17.603 119.472 49.149 65.88 65.879 65.88 172.539 0 238.42-63.612 63.178-175.242 63.178-238.943 0zm0 0",fill:"currentColor"}),Pe("path",{d:"M703.319 121.603H321.03c-109.8 0-199.469 89.146-199.469 199.38v382.034c0 109.796 89.236 199.38 199.469 199.38h207.397c20.653 0 37.384-16.645 37.384-37.299 0-20.649-16.731-37.296-37.384-37.296H321.03c-68.582 0-124.352-55.77-124.352-124.267V321.421c0-68.496 55.77-124.267 124.352-124.267h382.289c68.582 0 124.352 55.771 124.352 124.267V524.72c0 20.654 16.736 37.299 37.385 37.299 20.654 0 37.384-16.645 37.384-37.299V320.549c-.085-109.8-89.321-198.946-199.121-198.946zm0 0",fill:"currentColor"})]),Fp=()=>Pe("svg",{width:"16",height:"16",ariaHidden:"true"},Pe("path",{d:"M14.85 3H1.15C.52 3 0 3.52 0 4.15v7.69C0 12.48.52 13 1.15 13h13.69c.64 0 1.15-.52 1.15-1.15v-7.7C16 3.52 15.48 3 14.85 3zM9 11H7V8L5.5 9.92 4 8v3H2V5h2l1.5 2L7 5h2v6zm2.99.5L9.5 8H11V5h2v3h1.5l-2.51 3.5z",fill:"currentColor"})),Hp=()=>Pe("svg",{viewBox:"0 0 1024 1024",width:"24",height:"24"},Pe("path",{d:"M810.667 213.333a64 64 0 0 1 64 64V704a64 64 0 0 1-64 64H478.336l-146.645 96.107a21.333 21.333 0 0 1-33.024-17.856V768h-85.334a64 64 0 0 1-64-64V277.333a64 64 0 0 1 64-64h597.334zm0 64H213.333V704h149.334v63.296L459.243 704h351.424V277.333zm-271.36 213.334v64h-176.64v-64h176.64zm122.026-128v64H362.667v-64h298.666z",fill:"currentColor"})),qp=()=>Pe("svg",{viewBox:"0 0 1024 1024",width:"24",height:"24"},Pe("path",{d:"M813.039 318.772L480.53 651.278H360.718V531.463L693.227 198.961C697.904 194.284 704.027 192 710.157 192C716.302 192 722.436 194.284 727.114 198.961L813.039 284.88C817.72 289.561 820 295.684 820 301.825C820 307.95 817.72 314.093 813.039 318.772ZM710.172 261.888L420.624 551.431V591.376H460.561L750.109 301.825L710.172 261.888ZM490.517 291.845H240.906V771.09H720.156V521.479C720.156 504.947 733.559 491.529 750.109 491.529C766.653 491.529 780.063 504.947 780.063 521.479V791.059C780.063 813.118 762.18 831 740.125 831H220.937C198.882 831 181 813.118 181 791.059V271.872C181 249.817 198.882 231.935 220.937 231.935H490.517C507.06 231.935 520.47 245.352 520.47 261.888C520.47 278.424 507.06 291.845 490.517 291.845Z",fill:"currentColor"})),Up=()=>Pe("svg",{class:"verified-icon",viewBox:"0 0 1024 1024",width:"14",height:"14"},Pe("path",{d:"m894.4 461.56-54.4-63.2c-10.4-12-18.8-34.4-18.8-50.4v-68c0-42.4-34.8-77.2-77.2-77.2h-68c-15.6 0-38.4-8.4-50.4-18.8l-63.2-54.4c-27.6-23.6-72.8-23.6-100.8 0l-62.8 54.8c-12 10-34.8 18.4-50.4 18.4h-69.2c-42.4 0-77.2 34.8-77.2 77.2v68.4c0 15.6-8.4 38-18.4 50l-54 63.6c-23.2 27.6-23.2 72.4 0 100l54 63.6c10 12 18.4 34.4 18.4 50v68.4c0 42.4 34.8 77.2 77.2 77.2h69.2c15.6 0 38.4 8.4 50.4 18.8l63.2 54.4c27.6 23.6 72.8 23.6 100.8 0l63.2-54.4c12-10.4 34.4-18.8 50.4-18.8h68c42.4 0 77.2-34.8 77.2-77.2v-68c0-15.6 8.4-38.4 18.8-50.4l54.4-63.2c23.2-27.6 23.2-73.2-.4-100.8zm-216-25.2-193.2 193.2a30 30 0 0 1-42.4 0l-96.8-96.8a30.16 30.16 0 0 1 0-42.4c11.6-11.6 30.8-11.6 42.4 0l75.6 75.6 172-172c11.6-11.6 30.8-11.6 42.4 0 11.6 11.6 11.6 30.8 0 42.4z",fill:"#27ae60"})),Bs=({size:t=100})=>Pe("svg",{width:t,height:t,viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid"},Pe("circle",{cx:50,cy:50,fill:"none",stroke:"currentColor",strokeWidth:"4",r:"40","stroke-dasharray":"85 30"},Pe("animateTransform",{attributeName:"transform",type:"rotate",repeatCount:"indefinite",dur:"1s",values:"0 50 50;360 50 50",keyTimes:"0;1"}))),Vp=()=>Pe("svg",{width:24,height:24,fill:"currentcolor",viewBox:"0 0 24 24"},[Pe("path",{style:"transform: translateY(0.5px)",d:"M18.968 10.5H15.968V11.484H17.984V12.984H15.968V15H14.468V9H18.968V10.5V10.5ZM8.984 9C9.26533 9 9.49967 9.09367 9.687 9.281C9.87433 9.46833 9.968 9.70267 9.968 9.984V10.5H6.499V13.5H8.468V12H9.968V14.016C9.968 14.2973 9.87433 14.5317 9.687 14.719C9.49967 14.9063 9.26533 15 8.984 15H5.984C5.70267 15 5.46833 14.9063 5.281 14.719C5.09367 14.5317 5 14.2973 5 14.016V9.985C5 9.70367 5.09367 9.46933 5.281 9.282C5.46833 9.09467 5.70267 9.001 5.984 9.001H8.984V9ZM11.468 9H12.968V15H11.468V9V9Z"}),Pe("path",{d:"M18.5 3H5.75C3.6875 3 2 4.6875 2 6.75V18C2 20.0625 3.6875 21.75 5.75 21.75H18.5C20.5625 21.75 22.25 20.0625 22.25 18V6.75C22.25 4.6875 20.5625 3 18.5 3ZM20.75 18C20.75 19.2375 19.7375 20.25 18.5 20.25H5.75C4.5125 20.25 3.5 19.2375 3.5 18V6.75C3.5 5.5125 4.5125 4.5 5.75 4.5H18.5C19.7375 4.5 20.75 5.5125 20.75 6.75V18Z"})]),Xp=()=>rs("WALINE_USER_META",{nick:"",mail:"",link:""}),Wp=()=>rs("WALINE_COMMENT_BOX_EDITOR",""),Gp="WALINE_LIKE",Kp=rs(Gp,[]),Hl=()=>Kp,Zp="WALINE_REACTION",Qp=rs(Zp,{}),Yp=()=>Qp;var lo={},an={},rn={},co;function ql(){if(co)return rn;co=1;var t=rn&&rn.__awaiter||function(s,i,a,r){function o(l){return l instanceof a?l:new a(function(c){c(l)})}return new(a||(a=Promise))(function(l,c){function d(m){try{p(r.next(m))}catch(b){c(b)}}function h(m){try{p(r.throw(m))}catch(b){c(b)}}function p(m){m.done?l(m.value):o(m.value).then(d,h)}p((r=r.apply(s,i||[])).next())})},e=rn&&rn.__generator||function(s,i){var a={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},r,o,l,c;return c={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function d(p){return function(m){return h([p,m])}}function h(p){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,p[0]&&(a=0)),a;)try{if(r=1,o&&(l=p[0]&2?o.return:p[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,p[1])).done)return l;switch(o=0,l&&(p=[p[0]&2,l.value]),p[0]){case 0:case 1:l=p;break;case 4:return a.label++,{value:p[1],done:!1};case 5:a.label++,o=p[1],p=[0];continue;case 7:p=a.ops.pop(),a.trys.pop();continue;default:if(l=a.trys,!(l=l.length>0&&l[l.length-1])&&(p[0]===6||p[0]===2)){a=0;continue}if(p[0]===3&&(!l||p[1]>l[0]&&p[1]<l[3])){a.label=p[1];break}if(p[0]===6&&a.label<l[1]){a.label=l[1],l=p;break}if(l&&a.label<l[2]){a.label=l[2],a.ops.push(p);break}l[2]&&a.ops.pop(),a.trys.pop();continue}p=i.call(s,a)}catch(m){p=[6,m],o=0}finally{r=l=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}};Object.defineProperty(rn,"__esModule",{value:!0}),rn.ReCaptchaInstance=void 0;var n=function(){function s(i,a,r){this.siteKey=i,this.recaptchaID=a,this.recaptcha=r,this.styleContainer=null}return s.prototype.execute=function(i){return t(this,void 0,void 0,function(){var a;return e(this,function(r){switch(r.label){case 0:return this.recaptcha.enterprise?[4,this.recaptcha.enterprise.execute(this.recaptchaID,{action:i})]:[3,2];case 1:return a=r.sent(),[3,4];case 2:return[4,this.recaptcha.execute(this.recaptchaID,{action:i})];case 3:a=r.sent(),r.label=4;case 4:return[2,a]}})})},s.prototype.getSiteKey=function(){return this.siteKey},s.prototype.hideBadge=function(){this.styleContainer===null&&(this.styleContainer=document.createElement("style"),this.styleContainer.innerHTML=".grecaptcha-badge{visibility:hidden !important;}",document.head.appendChild(this.styleContainer))},s.prototype.showBadge=function(){this.styleContainer!==null&&(document.head.removeChild(this.styleContainer),this.styleContainer=null)},s}();return rn.ReCaptchaInstance=n,rn}var uo;function Jp(){if(uo)return an;uo=1;var t=an&&an.__assign||function(){return t=Object.assign||function(i){for(var a,r=1,o=arguments.length;r<o;r++){a=arguments[r];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(i[l]=a[l])}return i},t.apply(this,arguments)};Object.defineProperty(an,"__esModule",{value:!0}),an.getInstance=an.load=void 0;var e=ql(),n;(function(i){i[i.NOT_LOADED=0]="NOT_LOADED",i[i.LOADING=1]="LOADING",i[i.LOADED=2]="LOADED"})(n||(n={}));var s=function(){function i(){}return i.load=function(a,r){if(r===void 0&&(r={}),typeof document>"u")return Promise.reject(new Error("This is a library for the browser!"));if(i.getLoadingState()===n.LOADED)return i.instance.getSiteKey()===a?Promise.resolve(i.instance):Promise.reject(new Error("reCAPTCHA already loaded with different site key!"));if(i.getLoadingState()===n.LOADING)return a!==i.instanceSiteKey?Promise.reject(new Error("reCAPTCHA already loaded with different site key!")):new Promise(function(l,c){i.successfulLoadingConsumers.push(function(d){return l(d)}),i.errorLoadingRunnable.push(function(d){return c(d)})});i.instanceSiteKey=a,i.setLoadingState(n.LOADING);var o=new i;return new Promise(function(l,c){o.loadScript(a,r.useRecaptchaNet||!1,r.useEnterprise||!1,r.renderParameters?r.renderParameters:{},r.customUrl).then(function(){i.setLoadingState(n.LOADED);var d=o.doExplicitRender(grecaptcha,a,r.explicitRenderParameters?r.explicitRenderParameters:{},r.useEnterprise||!1),h=new e.ReCaptchaInstance(a,d,grecaptcha);i.successfulLoadingConsumers.forEach(function(p){return p(h)}),i.successfulLoadingConsumers=[],r.autoHideBadge&&h.hideBadge(),i.instance=h,l(h)}).catch(function(d){i.errorLoadingRunnable.forEach(function(h){return h(d)}),i.errorLoadingRunnable=[],c(d)})})},i.getInstance=function(){return i.instance},i.setLoadingState=function(a){i.loadingState=a},i.getLoadingState=function(){return i.loadingState===null?n.NOT_LOADED:i.loadingState},i.prototype.loadScript=function(a,r,o,l,c){var d=this;r===void 0&&(r=!1),o===void 0&&(o=!1),l===void 0&&(l={}),c===void 0&&(c="");var h=document.createElement("script");h.setAttribute("recaptcha-v3-script",""),h.setAttribute("async",""),h.setAttribute("defer","");var p="https://www.google.com/recaptcha/api.js";r?o?p="https://recaptcha.net/recaptcha/enterprise.js":p="https://recaptcha.net/recaptcha/api.js":o&&(p="https://www.google.com/recaptcha/enterprise.js"),c&&(p=c),l.render&&(l.render=void 0);var m=this.buildQueryString(l);return h.src=p+"?render=explicit"+m,new Promise(function(b,w){h.addEventListener("load",d.waitForScriptToLoad(function(){b(h)},o),!1),h.onerror=function(N){i.setLoadingState(n.NOT_LOADED),w(N)},document.head.appendChild(h)})},i.prototype.buildQueryString=function(a){var r=Object.keys(a);return r.length<1?"":"&"+Object.keys(a).filter(function(o){return!!a[o]}).map(function(o){return o+"="+a[o]}).join("&")},i.prototype.waitForScriptToLoad=function(a,r){var o=this;return function(){window.grecaptcha===void 0?setTimeout(function(){o.waitForScriptToLoad(a,r)},i.SCRIPT_LOAD_DELAY):r?window.grecaptcha.enterprise.ready(function(){a()}):window.grecaptcha.ready(function(){a()})}},i.prototype.doExplicitRender=function(a,r,o,l){var c=t({sitekey:r},o);return o.container?l?a.enterprise.render(o.container,c):a.render(o.container,c):l?a.enterprise.render(c):a.render(c)},i.loadingState=null,i.instance=null,i.instanceSiteKey=null,i.successfulLoadingConsumers=[],i.errorLoadingRunnable=[],i.SCRIPT_LOAD_DELAY=25,i}();return an.load=s.load,an.getInstance=s.getInstance,an}var ho;function ef(){return ho||(ho=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ReCaptchaInstance=t.getInstance=t.load=void 0;var e=Jp();Object.defineProperty(t,"load",{enumerable:!0,get:function(){return e.load}}),Object.defineProperty(t,"getInstance",{enumerable:!0,get:function(){return e.getInstance}});var n=ql();Object.defineProperty(t,"ReCaptchaInstance",{enumerable:!0,get:function(){return n.ReCaptchaInstance}})}(lo)),lo}var tf=ef();const po={},nf=t=>{const e=po[t]??(po[t]=tf.load(t,{useRecaptchaNet:!0,autoHideBadge:!0}));return{execute:n=>e.then(s=>s.execute(n))}},sf=t=>({execute:async e=>{const{load:n}=Ih("https://challenges.cloudflare.com/turnstile/v0/api.js",void 0,{async:!1});await n();const s=window.turnstile;return new Promise(i=>{s==null||s.ready(()=>{s.render(".wl-captcha-container",{sitekey:t,action:e,size:"compact",callback:i})})})}}),af="WALINE_USER",rf=rs(af,{}),Va=()=>rf,of={key:0,class:"wl-reaction"},lf=["textContent"],cf={class:"wl-reaction-list"},uf=["onClick"],df={class:"wl-reaction-img"},hf=["src","alt"],pf=["textContent"],ff=["textContent"];var mf=Fs({__name:"ArticleReaction",setup(t){const e=Yp(),n=Oi(Si),s=ze(-1),i=ze([]),a=rt(()=>n.value.locale),r=rt(()=>{const{reaction:h}=n.value;return h!=null&&h.length?h:null}),o=rt(()=>{var h;const{path:p}=n.value;return((h=r.value)==null?void 0:h.map((m,b)=>({icon:m,desc:a.value[`reaction${b}`],active:e.value[p]===b})))??null});let l;const c=async()=>{const{serverURL:h,lang:p,path:m}=n.value;if(!r.value)return;const b=new AbortController;l=b.abort.bind(b);const[w]=await vo({serverURL:h,lang:p,paths:[m],type:r.value.map((N,_)=>`reaction${_}`),signal:b.signal});i.value=r.value.map((N,_)=>w[`reaction${_}`])},d=async h=>{if(s.value!==-1)return;const{serverURL:p,lang:m,path:b}=n.value,w=e.value[b];s.value=h,w!==void 0&&(await ra({serverURL:p,lang:m,path:b,type:`reaction${w}`,action:"desc"}),i.value[w]=Math.max(i.value[w]-1,0)),w!==h&&(await ra({serverURL:p,lang:m,path:b,type:`reaction${h}`}),i.value[h]=(i.value[h]||0)+1),w===h?delete e.value[b]:e.value[b]=h,s.value=-1};return Hs(()=>{Yn(()=>[n.value.serverURL,n.value.path],()=>c())}),Ta(()=>{l==null||l()}),(h,p)=>o.value?(K(),se("div",of,[re("div",{class:"wl-reaction-title",textContent:$e(a.value.reactionTitle)},null,8,lf),re("ul",cf,[(K(!0),se(Ye,null,Rt(o.value,({active:m,icon:b,desc:w},N)=>(K(),se("li",{key:N,class:lt(["wl-reaction-item",{active:m}]),onClick:_=>d(N)},[re("div",df,[re("img",{src:b,alt:w},null,8,hf),s.value===N?(K(),mn(we(Bs),{key:0,class:"wl-reaction-loading"})):(K(),se("div",{key:1,class:"wl-reaction-votes",textContent:$e(i.value[N]||0)},null,8,pf))]),re("div",{class:"wl-reaction-text",textContent:$e(w)},null,8,ff)],10,uf))),128))])])):Le("v-if",!0)}}),Ns=new Map;function gf(t){var e=Ns.get(t);e&&e.destroy()}function bf(t){var e=Ns.get(t);e&&e.update()}var bs=null;typeof window>"u"?((bs=function(t){return t}).destroy=function(t){return t},bs.update=function(t){return t}):((bs=function(t,e){return t&&Array.prototype.forEach.call(t.length?t:[t],function(n){return function(s){if(s&&s.nodeName&&s.nodeName==="TEXTAREA"&&!Ns.has(s)){var i,a=null,r=window.getComputedStyle(s),o=(i=s.value,function(){c({testForHeightReduction:i===""||!s.value.startsWith(i),restoreTextAlign:null}),i=s.value}),l=(function(h){s.removeEventListener("autosize:destroy",l),s.removeEventListener("autosize:update",d),s.removeEventListener("input",o),window.removeEventListener("resize",d),Object.keys(h).forEach(function(p){return s.style[p]=h[p]}),Ns.delete(s)}).bind(s,{height:s.style.height,resize:s.style.resize,textAlign:s.style.textAlign,overflowY:s.style.overflowY,overflowX:s.style.overflowX,wordWrap:s.style.wordWrap});s.addEventListener("autosize:destroy",l),s.addEventListener("autosize:update",d),s.addEventListener("input",o),window.addEventListener("resize",d),s.style.overflowX="hidden",s.style.wordWrap="break-word",Ns.set(s,{destroy:l,update:d}),d()}function c(h){var p,m,b=h.restoreTextAlign,w=b===void 0?null:b,N=h.testForHeightReduction,_=N===void 0||N,E=r.overflowY;if(s.scrollHeight!==0&&(r.resize==="vertical"?s.style.resize="none":r.resize==="both"&&(s.style.resize="horizontal"),_&&(p=function(T){for(var B=[];T&&T.parentNode&&T.parentNode instanceof Element;)T.parentNode.scrollTop&&B.push([T.parentNode,T.parentNode.scrollTop]),T=T.parentNode;return function(){return B.forEach(function(Y){var R=Y[0],Z=Y[1];R.style.scrollBehavior="auto",R.scrollTop=Z,R.style.scrollBehavior=null})}}(s),s.style.height=""),m=r.boxSizing==="content-box"?s.scrollHeight-(parseFloat(r.paddingTop)+parseFloat(r.paddingBottom)):s.scrollHeight+parseFloat(r.borderTopWidth)+parseFloat(r.borderBottomWidth),r.maxHeight!=="none"&&m>parseFloat(r.maxHeight)?(r.overflowY==="hidden"&&(s.style.overflow="scroll"),m=parseFloat(r.maxHeight)):r.overflowY!=="hidden"&&(s.style.overflow="hidden"),s.style.height=m+"px",w&&(s.style.textAlign=w),p&&p(),a!==m&&(s.dispatchEvent(new Event("autosize:resized",{bubbles:!0})),a=m),E!==r.overflow&&!w)){var $=r.textAlign;r.overflow==="hidden"&&(s.style.textAlign=$==="start"?"end":"start"),c({restoreTextAlign:$,testForHeightReduction:!0})}}function d(){c({testForHeightReduction:!0,restoreTextAlign:null})}}(n)}),t}).destroy=function(t){return t&&Array.prototype.forEach.call(t.length?t:[t],gf),t},bs.update=function(t){return t&&Array.prototype.forEach.call(t.length?t:[t],bf),t});var fo=bs;const vf=["data-index"],yf=["src","title","onClick"];var wf=Fs({__name:"ImageWall",props:{items:{default:()=>[]},columnWidth:{default:300},gap:{default:0}},emits:["insert"],setup(t){const e=t;let n=null;const s=yn("wall"),i=ze({}),a=ze([]),r=()=>{const h=Math.floor((s.value.getBoundingClientRect().width+e.gap)/(e.columnWidth+e.gap));return h>0?h:1},o=h=>new Array(h).fill(null).map(()=>[]),l=async h=>{var p;if(h>=e.items.length)return;await as();const m=Array.from(((p=s.value)==null?void 0:p.children)??[]).reduce((b,w)=>w.getBoundingClientRect().height<b.getBoundingClientRect().height?w:b);a.value[Number(m.dataset.index)].push(h),await l(h+1)},c=async(h=!1)=>{if(a.value.length===r()&&!h)return;a.value=o(r());const p=window.scrollY;await l(0),window.scrollTo({top:p})},d=h=>{i.value[h.target.src]=!0};return Hs(()=>{c(!0),n=new ResizeObserver(()=>{c()}),n.observe(s.value),xn(()=>[e.items],()=>{i.value={},c(!0)}),xn(()=>[e.columnWidth,e.gap],()=>{c()})}),Ku(()=>{n.unobserve(s.value)}),(h,p)=>(K(),se("div",{ref_key:"wall",ref:s,class:"wl-gallery",style:Ms({gap:`${h.gap}px`})},[(K(!0),se(Ye,null,Rt(a.value,(m,b)=>(K(),se("div",{key:b,class:"wl-gallery-column","data-index":b,style:Ms({gap:`${h.gap}px`})},[(K(!0),se(Ye,null,Rt(m,w=>(K(),se(Ye,{key:w},[i.value[h.items[w].src]?Le("v-if",!0):(K(),mn(we(Bs),{key:0,size:36,style:{margin:"20px auto"}})),re("img",{class:"wl-gallery-item",src:h.items[w].src,title:h.items[w].title,loading:"lazy",onLoad:d,onClick:N=>h.$emit("insert",`![](${h.items[w].src})`)},null,40,yf)],64))),128))],12,vf))),128))],4))}});const _f={key:0,class:"wl-login-info"},Ef={class:"wl-avatar"},xf=["title"],Sf=["title"],kf=["src"],Nf=["title","textContent"],Af={class:"wl-panel"},Lf=["for","textContent"],Cf=["id","onUpdate:modelValue","name","type"],Mf=["placeholder"],Tf={class:"wl-preview"},If=["innerHTML"],Of={class:"wl-footer"},$f={class:"wl-actions"},Rf={href:"https://guides.github.com/features/mastering-markdown/",title:"Markdown Guide","aria-label":"Markdown is supported",class:"wl-action",target:"_blank",rel:"noopener noreferrer"},Df=["title"],Pf=["title"],Bf=["title","aria-label"],zf=["title"],jf={class:"wl-info"},Ff={class:"wl-text-number"},Hf={key:0},qf=["textContent"],Uf=["textContent"],Vf=["disabled"],Xf=["placeholder"],Wf={key:1,class:"wl-loading"},Gf={key:0,class:"wl-tab-wrapper"},Kf=["title","onClick"],Zf=["src","alt"],Qf={key:0,class:"wl-tabs"},Yf=["onClick"],Jf=["src","alt","title"],em=["title"];var Ul=Fs({__name:"CommentBox",props:{edit:{},rootId:{},replyId:{},replyUser:{}},emits:["log","cancelEdit","cancelReply","submit"],setup(t,{emit:e}){const n=t,s=e,i=Oi(Si),a=Wp(),r=Xp(),o=Va(),l=ze({}),c=yn("textarea"),d=yn("image-uploader"),h=yn("emoji-button"),p=yn("emoji-popup"),m=yn("gif-button"),b=yn("gif-popup"),w=yn("gif-search"),N=ze({tabs:[],map:{}}),_=ze(0),E=ze(!1),$=ze(!1),T=ze(!1),B=ze(""),Y=ze(0),R=Os({loading:!0,list:[]}),Z=ze(0),le=ze(!1),oe=ze(""),D=ze(!1),ee=ze(!1),P=rt(()=>i.value.locale),ce=rt(()=>!!o.value.token),de=rt(()=>i.value.imageUploader!==null),Ce=te=>{const V=c.value,g=V.selectionStart,y=V.selectionEnd||0,x=V.scrollTop;a.value=V.value.substring(0,g)+te+V.value.substring(y,V.value.length),V.focus(),V.selectionStart=g+te.length,V.selectionEnd=g+te.length,V.scrollTop=x},st=({key:te,ctrlKey:V,metaKey:g})=>{D.value||(V||g)&&te==="Enter"&&ot()},fe=async te=>{const V=`![${i.value.locale.uploading} ${te.name}]()`;Ce(V),D.value=!0;try{const g=await i.value.imageUploader(te);a.value=a.value.replace(V,`\r
![${te.name}](${g})`)}catch(g){showNotification(g.message,3,"info"),a.value=a.value.replace(V,"")}finally{D.value=!1}},xe=te=>{var V;if((V=te.dataTransfer)!=null&&V.items){const g=Zr(te.dataTransfer.items);g&&de.value&&(fe(g),te.preventDefault())}},Ve=te=>{if(te.clipboardData){const V=Zr(te.clipboardData.items);V&&de.value&&fe(V)}},be=()=>{const te=d.value;te.files&&de.value&&fe(te.files[0]).then(()=>{te.value=""})},ot=async()=>{var te;const{serverURL:V,lang:g,login:y,wordLimit:x,requiredMeta:I,recaptchaV3Key:M,turnstileKey:O}=i.value,z={comment:oe.value,nick:r.value.nick,mail:r.value.mail,link:r.value.link,url:i.value.path,ua:await $p()};if(!n.edit)if(o.value.token)z.nick=o.value.display_name,z.mail=o.value.email,z.link=o.value.url;else{if(y==="force")return;if(I.includes("nick")&&!z.nick){l.value.nick.focus(),showNotification(P.value.nickError,3,"error");return}if(I.includes("mail")&&!z.mail||z.mail&&!Vc(z.mail)){l.value.mail.focus(),showNotification(P.value.mailError,3,"error");return}z.nick||(z.nick=P.value.anonymous)}if(!z.comment){c.value.focus();return}if(!le.value){showNotification(P.value.wordHint.replace("$0",x[0].toString()).replace("$1",x[1].toString()).replace("$2",Y.value.toString()),4,"info");return}z.comment=Fl(z.comment,N.value.map),n.replyId&&n.rootId&&(z.pid=n.replyId,z.rid=n.rootId,z.at=n.replyUser),D.value=!0;try{M&&(z.recaptchaV3=await nf(M).execute("social")),O&&(z.turnstile=await sf(O).execute("social"));const U={serverURL:V,lang:g,token:o.value.token,comment:z},q=await(n.edit?si({objectId:n.edit.objectId,...U}):gc(U));if(D.value=!1,q.errmsg){showNotification(q.errmsg,3,"error");return}s("submit",q.data),a.value="",B.value="",await as(),n.replyId&&s("cancelReply"),(te=n.edit)!=null&&te.objectId&&s("cancelEdit")}catch(U){D.value=!1,showNotification(U.message,3,"info")}},Ot=te=>{te.preventDefault();const{lang:V,serverURL:g}=i.value;yc({serverURL:g,lang:V}).then(y=>{o.value=y,(y.remember?localStorage:sessionStorage).setItem("WALINE_USER",JSON.stringify(y)),s("log")})},os=()=>{o.value={},localStorage.setItem("WALINE_USER","null"),sessionStorage.setItem("WALINE_USER","null"),s("log")},kn=te=>{te.preventDefault();const{lang:V,serverURL:g}=i.value,y=800,x=800,I=(window.innerWidth-y)/2,M=(window.innerHeight-x)/2,O=new URLSearchParams({lng:V,token:o.value.token}),z=window.open(`${g}/ui/profile?${O.toString()}`,"_blank",`width=${y},height=${x},left=${I},top=${M},scrollbars=no,resizable=no,status=no,location=no,toolbar=no,menubar=no`);z==null||z.postMessage({type:"TOKEN",data:o.value.token},"*")},wt=te=>{var V,g,y,x;!((V=h.value)!=null&&V.contains(te.target))&&!((g=p.value)!=null&&g.contains(te.target))&&(E.value=!1),!((y=m.value)!=null&&y.contains(te.target))&&!((x=b.value)!=null&&x.contains(te.target))&&($.value=!1)},qt=async te=>{var V;const{scrollTop:g,clientHeight:y,scrollHeight:x}=te.target,I=(y+g)/x,M=i.value.search,O=((V=w.value)==null?void 0:V.value)??"";I<.9||R.loading||ee.value||(R.loading=!0,(M.more&&R.list.length?await M.more(O,R.list.length):await M.search(O)).length?R.list=[...R.list,...M.more&&R.list.length?await M.more(O,R.list.length):await M.search(O)]:ee.value=!0,R.loading=!1,setTimeout(()=>{te.target.scrollTop=g},50))},Lt=yh(te=>{R.list=[],ee.value=!1,qt(te)},300);return $n("click",wt),$n("message",({data:te})=>{!te||te.type!=="profile"||(o.value={...o.value,...te.data},[localStorage,sessionStorage].filter(V=>V.getItem("WALINE_USER")).forEach(V=>{V.setItem("WALINE_USER",JSON.stringify(o))}))}),Yn([i,Y],([te,V])=>{const{wordLimit:g}=te;g?V<g[0]&&g[0]!==0?(Z.value=g[0],le.value=!1):V>g[1]?(Z.value=g[1],le.value=!1):(Z.value=g[1],le.value=!0):(Z.value=0,le.value=!0)}),xn($,async te=>{var V;if(!te)return;const g=i.value.search;w.value&&(w.value.value=""),R.loading=!0,R.list=await(((V=g.default)==null?void 0:V.call(g))??g.search("")),R.loading=!1}),Hs(()=>{var te;(te=n.edit)!=null&&te.objectId&&(a.value=n.edit.orig),Yn(()=>a.value,V=>{const{highlighter:g,texRenderer:y}=i.value;oe.value=V,B.value=Mp(V,{emojiMap:N.value.map,highlighter:g,texRenderer:y}),Y.value=Op(V),V?fo(c.value):fo.destroy(c.value)}),Yn(()=>i.value.emoji,async V=>{N.value=await Bh(V)})}),(te,V)=>{var g,y;return K(),se("div",{key:we(o).token,class:"wl-comment"},[we(i).login!=="disable"&&ce.value&&!((g=te.edit)!=null&&g.objectId)?(K(),se("div",_f,[re("div",Ef,[re("button",{type:"submit",class:"wl-logout-btn",title:P.value.logout,onClick:os},[Ue(we(oo),{size:14})],8,xf),re("a",{href:"#",class:"wl-login-nick","aria-label":"Profile",title:P.value.profile,onClick:kn},[re("img",{src:we(o).avatar,alt:"avatar"},null,8,kf)],8,Sf)]),re("a",{href:"#",class:"wl-login-nick","aria-label":"Profile",title:P.value.profile,onClick:kn,textContent:$e(we(o).display_name)},null,8,Nf)])):Le("v-if",!0),re("div",Af,[we(i).login!=="force"&&we(i).meta.length&&!ce.value?(K(),se("div",{key:0,class:lt(["wl-header",`item${we(i).meta.length}`])},[(K(!0),se(Ye,null,Rt(we(i).meta,x=>(K(),se("div",{key:x,class:"wl-header-item"},[re("label",{for:`wl-${x}`,textContent:$e(P.value[x]+(we(i).requiredMeta.includes(x)||!we(i).requiredMeta.length?"":`(${P.value.optional})`))},null,8,Lf),Qs(re("input",{id:`wl-${x}`,ref_for:!0,ref:I=>{I&&(l.value[x]=I)},"onUpdate:modelValue":I=>we(r)[x]=I,class:lt(["wl-input",`wl-${x}`]),name:x,type:x==="mail"?"email":"text"},null,10,Cf),[[oh,we(r)[x]]])]))),128))],2)):Le("v-if",!0),Qs(re("textarea",{id:"wl-edit",ref:"textarea","onUpdate:modelValue":V[0]||(V[0]=x=>ct(a)?a.value=x:null),class:"wl-editor",placeholder:te.replyUser?`@${te.replyUser}`:P.value.placeholder,onKeydown:st,onDrop:xe,onPaste:Ve},null,40,Mf),[[ga,we(a)]]),Qs(re("div",Tf,[V[7]||(V[7]=re("hr",null,null,-1)),re("h4",null,$e(P.value.preview)+":",1),re("div",{class:"wl-content",innerHTML:B.value},null,8,If)],512),[[$r,T.value]]),re("div",Of,[re("div",$f,[re("a",Rf,[Ue(we(Fp))]),Qs(re("button",{ref:"emoji-button",type:"button",class:lt(["wl-action",{active:E.value}]),title:P.value.emoji,onClick:V[1]||(V[1]=x=>E.value=!E.value)},[Ue(we(Pp))],10,Df),[[$r,N.value.tabs.length]]),we(i).search?(K(),se("button",{key:0,ref:"gif-button",type:"button",class:lt(["wl-action",{active:$.value}]),title:P.value.gif,onClick:V[2]||(V[2]=x=>$.value=!$.value)},[Ue(we(Vp))],10,Pf)):Le("v-if",!0),re("input",{id:"wl-image-upload",ref:"image-uploader",class:"upload","aria-hidden":"true",type:"file",accept:".png,.jpg,.jpeg,.webp,.bmp,.gif",onChange:be},null,544),de.value?(K(),se("label",{key:1,for:"wl-image-upload",class:"wl-action",title:P.value.uploadImage,"aria-label":P.value.uploadImage},[Ue(we(Bp))],8,Bf)):Le("v-if",!0),re("button",{type:"button",class:lt(["wl-action",{active:T.value}]),title:P.value.preview,onClick:V[3]||(V[3]=x=>T.value=!T.value)},[Ue(we(jp))],10,zf)]),re("div",jf,[V[9]||(V[9]=re("div",{class:"wl-captcha-container"},null,-1)),re("div",Ff,[hn($e(Y.value)+" ",1),we(i).wordLimit?(K(),se("span",Hf,[V[8]||(V[8]=hn("  /  ")),re("span",{class:lt({illegal:!le.value}),textContent:$e(Z.value)},null,10,qf)])):Le("v-if",!0),hn("  "+$e(P.value.word),1)]),we(i).login!=="disable"&&!ce.value?(K(),se("button",{key:0,type:"button",class:"wl-btn",onClick:Ot,textContent:$e(P.value.login)},null,8,Uf)):Le("v-if",!0),we(i).login!=="force"||ce.value?(K(),se("button",{key:1,type:"submit",class:"primary wl-btn",title:"Cmd|Ctrl + Enter",disabled:D.value,onClick:ot},[D.value?(K(),mn(we(Bs),{key:0,size:16})):(K(),se(Ye,{key:1},[hn($e(P.value.submit),1)],64))],8,Vf)):Le("v-if",!0)]),re("div",{ref:"gif-popup",class:lt(["wl-gif-popup",{display:$.value}])},[re("input",{ref:"gif-search",type:"text",placeholder:P.value.gifSearchPlaceholder,onInput:V[4]||(V[4]=(...x)=>we(Lt)&&we(Lt)(...x))},null,40,Xf),R.list.length?(K(),mn(wf,{key:0,items:R.list,"column-width":200,gap:6,onInsert:V[5]||(V[5]=x=>Ce(x)),onScroll:qt},null,8,["items"])):Le("v-if",!0),R.loading?(K(),se("div",Wf,[Ue(we(Bs),{size:30})])):Le("v-if",!0)],2),re("div",{ref:"emoji-popup",class:lt(["wl-emoji-popup",{display:E.value}])},[(K(!0),se(Ye,null,Rt(N.value.tabs,(x,I)=>(K(),se(Ye,{key:x.name},[I===_.value?(K(),se("div",Gf,[(K(!0),se(Ye,null,Rt(x.items,M=>(K(),se("button",{key:M,type:"button",title:M,onClick:O=>Ce(`:${M}:`)},[E.value?(K(),se("img",{key:0,class:"wl-emoji",src:N.value.map[M],alt:M,loading:"lazy",referrerPolicy:"no-referrer"},null,8,Zf)):Le("v-if",!0)],8,Kf))),128))])):Le("v-if",!0)],64))),128)),N.value.tabs.length>1?(K(),se("div",Qf,[(K(!0),se(Ye,null,Rt(N.value.tabs,(x,I)=>(K(),se("button",{key:x.name,type:"button",class:lt(["wl-tab",{active:_.value===I}]),onClick:M=>_.value=I},[re("img",{class:"wl-emoji",src:x.icon,alt:x.name,title:x.name,loading:"lazy",referrerPolicy:"no-referrer"},null,8,Jf)],10,Yf))),128))])):Le("v-if",!0)],2)])]),te.replyId||(y=te.edit)!=null&&y.objectId?(K(),se("button",{key:1,type:"button",class:"wl-close",title:P.value.cancelReply,onClick:V[6]||(V[6]=x=>te.replyId?s("cancelReply"):s("cancelEdit"))},[Ue(we(oo),{size:24})],8,em)):Le("v-if",!0)])}}});const tm=["id"],nm={class:"wl-user","aria-hidden":"true"},sm=["src"],im={class:"wl-card"},am={class:"wl-head"},rm=["href"],om={key:1,class:"wl-nick"},lm=["textContent"],cm=["textContent"],um=["textContent"],dm=["textContent"],hm=["textContent"],pm={class:"wl-comment-actions"},fm=["title"],mm=["title"],gm={class:"wl-meta","aria-hidden":"true"},bm=["data-value","textContent"],vm={key:0,class:"wl-content"},ym={key:0},wm=["href"],_m=["innerHTML"],Em={key:1,class:"wl-admin-actions"},xm={class:"wl-comment-status"},Sm=["disabled","onClick","textContent"],km={key:3,class:"wl-quote"};var Nm=Fs({__name:"CommentCard",props:{comment:{},edit:{},rootId:{},reply:{}},emits:["log","submit","delete","like","sticky","edit","reply","status"],setup(t,{emit:e}){const n=t,s=e,i=["approved","waiting","spam"],a=Oi(Si),r=Hl(),o=Th(),l=Va(),c=rt(()=>a.value.locale),d=rt(()=>{const{link:_}=n.comment;return _?xo(_)?_:`https://${_}`:""}),h=rt(()=>r.value.includes(n.comment.objectId)),p=rt(()=>qc(new Date(n.comment.time),o.value,c.value)),m=rt(()=>l.value.type==="administrator"),b=rt(()=>n.comment.user_id&&l.value.objectId===n.comment.user_id),w=rt(()=>{var _;return n.comment.objectId===((_=n.reply)==null?void 0:_.objectId)}),N=rt(()=>{var _;return n.comment.objectId===((_=n.edit)==null?void 0:_.objectId)});return(_,E)=>{var $;const T=Qu("CommentCard",!0);return K(),se("div",{id:_.comment.objectId.toString(),class:"wl-card-item"},[re("div",nm,[_.comment.avatar?(K(),se("img",{key:0,class:"wl-user-avatar",src:_.comment.avatar,alt:""},null,8,sm)):Le("v-if",!0),_.comment.type?(K(),mn(we(Up),{key:1})):Le("v-if",!0)]),re("div",im,[re("div",am,[d.value?(K(),se("a",{key:0,class:"wl-nick",href:d.value,target:"_blank",rel:"nofollow noopener noreferrer"},$e(_.comment.nick),9,rm)):(K(),se("span",om,$e(_.comment.nick),1)),_.comment.type==="administrator"?(K(),se("span",{key:2,class:"wl-badge",textContent:$e(c.value.admin)},null,8,lm)):Le("v-if",!0),_.comment.label?(K(),se("span",{key:3,class:"wl-badge",textContent:$e(_.comment.label)},null,8,cm)):Le("v-if",!0),_.comment.sticky?(K(),se("span",{key:4,class:"wl-badge",textContent:$e(c.value.sticky)},null,8,um)):Le("v-if",!0),typeof _.comment.level=="number"?(K(),se("span",{key:5,class:lt(`wl-badge level${_.comment.level}`),textContent:$e(c.value[`level${_.comment.level}`]||`Level ${_.comment.level}`)},null,10,dm)):Le("v-if",!0),re("span",{class:"wl-time",textContent:$e(p.value)},null,8,hm),re("div",pm,[m.value||b.value?(K(),se(Ye,{key:0},[re("button",{type:"button",class:"wl-edit",onClick:E[0]||(E[0]=B=>s("edit",_.comment))},[Ue(we(qp))]),re("button",{type:"button",class:"wl-delete",onClick:E[1]||(E[1]=B=>s("delete",_.comment))},[Ue(we(Dp))])],64)):Le("v-if",!0),re("button",{type:"button",class:"wl-like",title:h.value?c.value.cancelLike:c.value.like,onClick:E[2]||(E[2]=B=>s("like",_.comment))},[Ue(we(zp),{active:h.value},null,8,["active"]),hn(" "+$e("like"in _.comment?_.comment.like:""),1)],8,fm),re("button",{type:"button",class:lt(["wl-reply",{active:w.value}]),title:w.value?c.value.cancelReply:c.value.reply,onClick:E[3]||(E[3]=B=>s("reply",w.value?null:_.comment))},[Ue(we(Hp))],10,mm)])]),re("div",gm,[(K(),se(Ye,null,Rt(["addr","browser","os"],B=>(K(),se(Ye,null,[_.comment[B]?(K(),se("span",{key:B,class:lt(`wl-${B}`),"data-value":_.comment[B],textContent:$e(_.comment[B])},null,10,bm)):Le("v-if",!0)],64))),64))]),N.value?Le("v-if",!0):(K(),se("div",vm,["reply_user"in _.comment&&_.comment.reply_user?(K(),se("p",ym,[re("a",{href:"#"+_.comment.pid},"@"+$e(_.comment.reply_user.nick),9,wm),E[17]||(E[17]=re("span",null,": ",-1))])):Le("v-if",!0),re("div",{innerHTML:_.comment.comment},null,8,_m)])),m.value&&!N.value?(K(),se("div",Em,[re("span",xm,[(K(),se(Ye,null,Rt(i,B=>re("button",{key:B,type:"submit",class:lt(`wl-btn wl-${B}`),disabled:_.comment.status===B,onClick:Y=>s("status",{status:B,comment:_.comment}),textContent:$e(c.value[B])},null,10,Sm)),64))]),m.value&&!("rid"in _.comment)?(K(),se("button",{key:0,type:"submit",class:"wl-btn wl-sticky",onClick:E[4]||(E[4]=B=>s("sticky",_.comment))},$e(_.comment.sticky?c.value.unsticky:c.value.sticky),1)):Le("v-if",!0)])):Le("v-if",!0),w.value||N.value?(K(),se("div",{key:2,class:lt({"wl-reply-wrapper":w.value,"wl-edit-wrapper":N.value})},[Ue(Ul,{edit:_.edit,"reply-id":($=_.reply)==null?void 0:$.objectId,"reply-user":_.comment.nick,"root-id":_.rootId,onLog:E[5]||(E[5]=B=>s("log")),onCancelReply:E[6]||(E[6]=B=>s("reply",null)),onCancelEdit:E[7]||(E[7]=B=>s("edit",null)),onSubmit:E[8]||(E[8]=B=>s("submit",B))},null,8,["edit","reply-id","reply-user","root-id"])],2)):Le("v-if",!0),"children"in _.comment?(K(),se("div",km,[(K(!0),se(Ye,null,Rt(_.comment.children,B=>(K(),mn(T,{key:B.objectId,comment:B,reply:_.reply,edit:_.edit,"root-id":_.rootId,onLog:E[9]||(E[9]=Y=>s("log")),onDelete:E[10]||(E[10]=Y=>s("delete",Y)),onEdit:E[11]||(E[11]=Y=>s("edit",Y)),onLike:E[12]||(E[12]=Y=>s("like",Y)),onReply:E[13]||(E[13]=Y=>s("reply",Y)),onStatus:E[14]||(E[14]=Y=>s("status",Y)),onSticky:E[15]||(E[15]=Y=>s("sticky",Y)),onSubmit:E[16]||(E[16]=Y=>s("submit",Y))},null,8,["comment","reply","edit","root-id"]))),128))])):Le("v-if",!0)])],8,tm)}}});const Am="3.5.7",Lm={"data-waline":""},Cm={class:"wl-meta-head"},Mm={class:"wl-count"},Tm=["textContent"],Im={class:"wl-sort"},Om=["onClick"],$m={class:"wl-cards"},Rm={key:1,class:"wl-operation"},Dm=["textContent"],Pm={key:2,class:"wl-loading"},Bm=["textContent"],zm={key:4,class:"wl-operation"},jm=["textContent"],Fm={key:5,class:"wl-power"};var Hm=Fs({__name:"WalineComment",props:{serverURL:{},path:{},meta:{},requiredMeta:{},wordLimit:{},pageSize:{},lang:{},locale:{},commentSorting:{},dark:{type:[String,Boolean]},login:{},noCopyright:{type:Boolean},recaptchaV3Key:{},turnstileKey:{},reaction:{type:[Array,Boolean]},emoji:{},search:{},highlighter:{type:Function},imageUploader:{type:Function},texRenderer:{type:Function}},setup(t){const e=t,n=Va(),s=Hl(),i=ze("loading"),a=ze(0),r=ze(1),o=ze(0),l=rt(()=>jc(e)),c=ze(l.value.commentSorting),d=ze([]),h=ze(null),p=ze(null),m=rt(()=>Fc(l.value.dark)),b=rt(()=>l.value.locale);$h(m,{id:"waline-darkmode"});let w=null;const N=D=>{const{serverURL:ee,path:P,pageSize:ce}=l.value,de=new AbortController;i.value="loading",w==null||w(),mc({serverURL:ee,lang:l.value.lang,path:P,pageSize:ce,sortBy:wo[c.value],page:D,signal:de.signal,token:n.value.token}).then(Ce=>{i.value="success",a.value=Ce.count,d.value.push(...Ce.data),r.value=D,o.value=Ce.totalPages}).catch(Ce=>{Ce.name!=="AbortError"&&(console.error(Ce.message),i.value="error")}),w=de.abort.bind(de)},_=()=>{N(r.value+1)},E=()=>{a.value=0,d.value=[],N(1)},$=D=>{c.value!==D&&(c.value=D,E())},T=D=>{h.value=D},B=D=>{p.value=D},Y=D=>{if(p.value)p.value.comment=D.comment,p.value.orig=D.orig;else if("rid"in D){const ee=d.value.find(({objectId:P})=>P===D.rid);if(!ee)return;Array.isArray(ee.children)||(ee.children=[]),ee.children.push(D)}else d.value.unshift(D),a.value+=1},R=async({comment:D,status:ee})=>{if(D.status===ee)return;const{serverURL:P,lang:ce}=l.value;await si({serverURL:P,lang:ce,token:n.value.token,objectId:D.objectId,comment:{status:ee}}),D.status=ee},Z=async D=>{if("rid"in D)return;const{serverURL:ee,lang:P}=l.value;await si({serverURL:ee,lang:P,token:n.value.token,objectId:D.objectId,comment:{sticky:D.sticky?0:1}}),D.sticky=!D.sticky},le=async({objectId:D})=>{if(!confirm("Are you sure you want to delete this comment?"))return;const{serverURL:ee,lang:P}=l.value;await bc({serverURL:ee,lang:P,token:n.value.token,objectId:D}),d.value.some((ce,de)=>ce.objectId===D?(d.value=d.value.filter((Ce,st)=>st!==de),!0):ce.children.some((Ce,st)=>Ce.objectId===D?(d.value[de].children=ce.children.filter((fe,xe)=>xe!==st),!0):!1))},oe=async D=>{const{serverURL:ee,lang:P}=l.value,{objectId:ce}=D,de=s.value.includes(ce);await si({serverURL:ee,lang:P,objectId:ce,token:n.value.token,comment:{like:!de}}),de?s.value=s.value.filter(Ce=>Ce!==ce):(s.value=[...s.value,ce],s.value.length>50&&(s.value=s.value.slice(-50))),D.like=Math.max(0,(D.like||0)+(de?-1:1))};return sd(Si,l),Hs(()=>{Yn(()=>[e.serverURL,e.path],()=>{E()})}),Ta(()=>{w==null||w()}),(D,ee)=>(K(),se("div",Lm,[Ue(mf),!h.value&&!p.value?(K(),mn(Ul,{key:0,onLog:E,onSubmit:Y})):Le("v-if",!0),re("div",Cm,[re("div",Mm,[a.value?(K(),se("span",{key:0,class:"wl-num",textContent:$e(a.value)},null,8,Tm)):Le("v-if",!0),hn(" "+$e(b.value.comment),1)]),re("ul",Im,[(K(!0),se(Ye,null,Rt(we(Bc),P=>(K(),se("li",{key:P,class:lt([P===c.value?"active":""]),onClick:ce=>$(P)},$e(b.value[P]),11,Om))),128))])]),re("div",$m,[(K(!0),se(Ye,null,Rt(d.value,P=>(K(),mn(Nm,{key:P.objectId,"root-id":P.objectId,comment:P,reply:h.value,edit:p.value,onLog:E,onReply:T,onEdit:B,onSubmit:Y,onStatus:R,onDelete:le,onSticky:Z,onLike:oe},null,8,["root-id","comment","reply","edit"]))),128))]),i.value==="error"?(K(),se("div",Rm,[re("button",{type:"button",class:"wl-btn",onClick:E,textContent:$e(b.value.refresh)},null,8,Dm)])):i.value==="loading"?(K(),se("div",Pm,[Ue(we(Bs),{size:30})])):d.value.length?r.value<o.value?(K(),se("div",zm,[re("button",{type:"button",class:"wl-btn",onClick:_,textContent:$e(b.value.more)},null,8,jm)])):Le("v-if",!0):(K(),se("div",{key:3,class:"wl-empty",textContent:$e(b.value.sofa)},null,8,Bm)),l.value.noCopyright?Le("v-if",!0):(K(),se("div",Fm,[ee[0]||(ee[0]=hn(" Powered by ")),ee[1]||(ee[1]=re("a",{href:"https://github.com/walinejs/waline",target:"_blank",rel:"noopener noreferrer"}," Waline ",-1)),hn(" v"+$e(we(Am)),1)]))]))}});const mo=(t,e)=>{e.forEach((n,s)=>{const i=t[s].time;typeof i=="number"&&(n.innerText=i.toString())})},qm=({serverURL:t,path:e=window.location.pathname,selector:n=".waline-pageview-count",update:s=!0,lang:i=navigator.language})=>{const a=new AbortController,r=Array.from(document.querySelectorAll(n)),o=c=>{const d=va(c);return d!==null&&e!==d},l=c=>wc({serverURL:oi(t),paths:c.map(d=>va(d)??e),lang:i,signal:a.signal}).then(d=>mo(d,c)).catch(Al);if(s){const c=r.filter(h=>!o(h)),d=r.filter(o);_c({serverURL:oi(t),path:e,lang:i}).then(h=>mo(h,c)),d.length&&l(d)}else l(r);return a.abort.bind(a)},Um=({el:t="#waline",path:e=window.location.pathname,comment:n=!1,pageview:s=!1,...i})=>{const a=t?zh(t):null;if(t&&!a)throw new Error("Option 'el' do not match any domElement!");if(!i.serverURL)throw new Error("Option 'serverURL' is missing!");const r=Os({...i}),o=Os({comment:n,pageview:s,path:e}),l=()=>{o.comment&&Rp({serverURL:r.serverURL,path:o.path,...Jn(o.comment)?{selector:o.comment}:{}})},c=()=>{o.pageview&&qm({serverURL:r.serverURL,path:o.path,...Jn(o.pageview)?{selector:o.pageview}:{}})};let d=null;a&&(d=dh(()=>Pe(Hm,{path:o.path,...r})),d.mount(a));const h=Nr(l),p=Nr(c);return{el:a,update:({comment:m,pageview:b,path:w=window.location.pathname,...N}={})=>{Object.entries(N).forEach(([_,E])=>{r[_]=E}),o.path=w,m!==void 0&&(o.comment=m),b!==void 0&&(o.pageview=b)},destroy:()=>{d==null||d.unmount(),h(),p()}}};document.querySelector('link[href*="@waline"]')||document.head.insertAdjacentHTML("beforeend",'<link rel="stylesheet" href="/css/lib/waline.css">');class Vm{constructor(){this.articles=[],this.searchQuery="",this.searchHistory=JSON.parse(localStorage.getItem("searchHistory")||"[]"),this.batchSize=6,this.currentIndex=0,this.loading=!1,this.allLoaded=!1,this.selectedTags=new Set,this.sidebar=document.querySelector(".sidebar"),this.mainContent=document.querySelector(".main-content"),this.originalPageTitle=document.title,this.initTransitionEffect(),this.setupSearchListener(),this.updateSearchHistory(),this.init(),window.addEventListener("popstate",async e=>{const n=window.location.pathname;if(n==="/")this.transitionMessage.innerHTML='<span class="transition-loading"></span>',document.title=this.originalPageTitle||document.title;else if(n.startsWith("/article/")){this.transitionMessage.innerHTML='<span class="transition-loading"></span>';const s=n.replace("/article/",""),i=this.articles.find(a=>a.contentUrl.replace("/articles/content/","").replace(".html","")===s);i&&(document.title=`${i.title} - ${this.originalPageTitle||document.title.split(" - ")[1]}`)}if(this.transitionMask.classList.add("active"),await new Promise(s=>setTimeout(s,600)),n==="/"){const s=document.querySelector(".article-toc");s&&s.remove();const i=document.querySelector("nav:not(#article-nav)"),a=document.getElementById("article-nav");i.style.display="block",a.style.display="none",this.sidebar.style.display="",this.mainContent.style.width="",this.mainContent.style.maxWidth="",this.mainContent.style.margin="";const r=document.getElementById("article-detail");if(r){r.remove(),this.currentIndex=0,this.loading=!1,this.allLoaded=!1,await this.loadArticles();const o=document.querySelector(".main-content").children;Array.from(o).forEach(l=>{l.id!=="comments"&&(l.style.display="")}),window.handleHomeView(),this.renderArticles(!1),this.setupScrollListener(),this.initWaline()}}else if(n.startsWith("/article/")){const s=n.replace("/article/",""),i=this.articles.find(a=>a.contentUrl.replace("/articles/content/","").replace(".html","")===s);i&&(this.currentIndex=0,this.loading=!1,this.allLoaded=!1,await this.showArticle(i,!0))}this.transitionMask.classList.remove("active"),this.transitionMask.classList.add("reverse"),setTimeout(()=>{this.transitionMask.classList.remove("reverse"),n==="/"&&(this.loading=!1,this.allLoaded=!1,this.updateLoadingIndicator())},500)}),document.querySelector(".scroll-to-top").addEventListener("click",e=>{e.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})})}setupSearchListener(){const e=document.getElementById("article-search"),n=document.querySelector(".search-button"),s=document.querySelector(".clear-search-button"),i=document.querySelector(".search-suggestions");document.querySelector(".articles-grid"),e.addEventListener("input",r=>{this.showSuggestions(r.target.value)}),e.addEventListener("focus",()=>{e.value&&this.showSuggestions(e.value)}),document.addEventListener("click",r=>{r.target.closest(".search-input-wrapper")||(i.style.display="none")});const a=()=>{const r=e.value.trim();r&&(this.searchQuery=r.toLowerCase(),this.addToHistory(r),this.currentIndex=0,this.renderArticles(),i.style.display="none")};n.addEventListener("click",a),e.addEventListener("keypress",r=>{r.key==="Enter"&&a()}),s.addEventListener("click",()=>{e.value="",this.searchQuery="",this.currentIndex=0,this.renderArticles(),i.style.display="none"}),document.querySelector(".clear-history").addEventListener("click",()=>{this.searchHistory=[],localStorage.setItem("searchHistory","[]"),this.updateSearchHistory()})}showSuggestions(e){if(!e){document.querySelector(".search-suggestions").style.display="none";return}const n=this.articles.map(i=>{const a=i.title.toLowerCase().includes(e.toLowerCase()),r=i.excerpt.toLowerCase().includes(e.toLowerCase()),o=i.tags?i.tags.filter(l=>l.toLowerCase().includes(e.toLowerCase())):[];return{article:i,matchTypes:[...a?["title"]:[],...r?["excerpt"]:[],...o.length>0?["tag"]:[]],matchedTags:o,matchScore:(a?3:0)+(r?2:0)+(o.length>0?1:0)}}).filter(i=>i.matchTypes.length>0).sort((i,a)=>a.matchScore-i.matchScore).slice(0,5),s=document.querySelector(".search-suggestions");s.innerHTML="",n.length>0?(n.forEach(({article:i,matchTypes:a,matchedTags:r})=>{const o=document.createElement("div");o.className="suggestion-item";const l=document.createElement("i");l.className=a[0]==="title"?"fas fa-heading":a[0]==="tag"?"fas fa-tag":"fas fa-align-left";const c=document.createElement("div");c.className="suggestion-content";const d=document.createElement("div");d.className="suggestion-title",d.textContent=i.title;const h=document.createElement("div");h.className="suggestion-subtitle",r.length>0&&(h.innerHTML=`<i class="fas fa-tag"></i> ${r.join(", ")}`),c.appendChild(d),r.length>0&&c.appendChild(h),o.appendChild(l),o.appendChild(c),o.addEventListener("click",()=>{const p=document.getElementById("article-search");p.value=i.title,s.style.display="none",this.searchQuery=i.title.toLowerCase(),this.addToHistory(i.title),this.currentIndex=0,this.renderArticles()}),s.appendChild(o)}),s.style.display="block"):s.style.display="none"}addToHistory(e){this.searchHistory.includes(e)||(this.searchHistory.unshift(e),this.searchHistory.length>5&&this.searchHistory.pop(),localStorage.setItem("searchHistory",JSON.stringify(this.searchHistory)),this.updateSearchHistory(!0))}updateSearchHistory(e=!1){const n=document.querySelector(".history-tags");if(e){const s=document.createElement("span");s.className="history-tag",s.textContent=this.searchHistory[0],s.style.opacity="0",s.addEventListener("click",()=>{document.getElementById("article-search").value=this.searchHistory[0],this.searchQuery=this.searchHistory[0].toLowerCase(),this.currentIndex=0,this.renderArticles()}),n.firstChild?n.insertBefore(s,n.firstChild):n.appendChild(s),requestAnimationFrame(()=>{s.style.opacity="1"})}else{const s=n.querySelectorAll(".history-tag"),i=[];s.forEach(a=>{a.classList.add("removing");const r=new Promise(o=>{a.addEventListener("animationend",()=>{o()})});i.push(r)}),Promise.all(i).then(()=>{n.innerHTML="",this.searchHistory.forEach(a=>{const r=document.createElement("span");r.className="history-tag",r.textContent=a,r.addEventListener("click",()=>{document.getElementById("article-search").value=a,this.searchQuery=a.toLowerCase(),this.currentIndex=0,this.renderArticles()}),n.appendChild(r)})})}}getFilteredArticles(){let e=this.articles;return this.searchQuery&&(e=e.filter(n=>n.title.toLowerCase().includes(this.searchQuery)||n.excerpt.toLowerCase().includes(this.searchQuery))),this.selectedTags.size>0&&(e=e.filter(n=>n.tags?Array.from(this.selectedTags).every(s=>n.tags.includes(s)):!1)),e}initTransitionEffect(){const e=document.createElement("div");e.className="transition-mask";const n=document.createElement("div");n.className="transition-message",n.innerHTML='<span class="transition-loading"></span>',e.appendChild(n),document.body.appendChild(e),this.transitionMask=e,this.transitionMessage=n}getAllTags(){const e=new Set;return this.articles.forEach(n=>{n.tags&&n.tags.forEach(s=>e.add(s))}),Array.from(e)}renderTagsFilter(){const e=document.querySelector(".tags-filter");this.getAllTags().forEach(s=>{const i=document.createElement("span");i.className="filter-tag",i.textContent=s,i.addEventListener("click",()=>{i.classList.toggle("active"),this.selectedTags.has(s)?this.selectedTags.delete(s):this.selectedTags.add(s),this.currentIndex=0,this.renderArticles()}),e.appendChild(i)})}renderArticles(e=!1){const n=document.querySelector(".articles-grid");e||(n.innerHTML="");const s=this.getFilteredArticles();if(s.length===0){const r=document.createElement("div");r.className="empty-message",r.innerHTML=`
                <div class="empty-icon">
                    <i class="fas fa-inbox"></i>
                </div>
                <p>${this.selectedTags.size>0?"":""}</p>
            `,n.appendChild(r),this.allLoaded=!0,this.loading=!1,this.updateLoadingIndicator();return}const i=this.currentIndex+this.batchSize;s.slice(this.currentIndex,i).forEach(r=>{const o=this.createArticleCard(r);n.appendChild(o)}),this.currentIndex=i,this.allLoaded=this.currentIndex>=s.length,this.loading=!1,this.updateLoadingIndicator()}async init(){const e=window.location.pathname;if(e.startsWith("/article/")){await this.loadArticles();const n=e.replace("/article/",""),s=this.articles.find(i=>i.contentUrl.replace("/articles/content/","").replace(".html","")===n);if(s){this.sidebar.style.display="none";const i=document.querySelector(".main-content");i.style.width="100%",i.style.maxWidth="1200px",i.style.margin="0 auto";const a=document.querySelector("nav:not(#article-nav)"),r=document.getElementById("article-nav");a.style.display="none",r.style.display="block",await this.showArticle(s,!0,!0)}}else await this.loadArticles(),this.renderTagsFilter(),this.renderArticles(),this.initWaline(),this.setupScrollListener(),this.loading=!1,this.allLoaded=!1}async loadArticles(){try{const e=await fetch(`${API_BASE}/article/list`);if(!e.ok)throw new Error("");this.articles=await e.json(),this.articles.sort((n,s)=>{const i=new Date(n.date);return new Date(s.date)-i})}catch(e){console.error(":",e),this.articles=[],showNotification("",2,"error")}}setupScrollListener(){const e=document.querySelector(".loading-indicator");new IntersectionObserver(s=>{s[0].isIntersecting&&!this.loading&&!this.allLoaded&&(this.loading=!0,this.updateLoadingIndicator(),this.renderArticles(!0))}).observe(e)}updateLoadingIndicator(){const e=document.querySelector(".loading-indicator");e.style.display=this.allLoaded?"none":"block"}createArticleCard(e){const n=document.createElement("div");n.className="article-card";const s=r=>r,i=e.tags?`<div class="article-tags">
                ${e.tags.map(r=>`<span class="tag">${r}</span>`).join("")}
                </div>`:"",a=e.aiAssistants?`
            <div class="ai-assistant-tags">
                ${e.aiAssistants.map(r=>`
                    <span class="ai-assistant-tag">
                        <i class="fas fa-robot"></i>
                        ${r}
                    </span>
                `).join("")}
            </div>
        `:"";return n.innerHTML=`
            <div class="article-thumbnail-container">
                <img data-src="${e.thumbnail}" alt="${e.title}" class="article-thumbnail">
            </div>
            <h3 class="article-title">${s(e.title)}</h3>
            <div class="article-meta">
                <i class="far fa-calendar-alt"></i> ${e.date}
                ${i}
            </div>
            ${a}
            <p class="article-excerpt">${s(e.excerpt)}</p>
        `,n.addEventListener("click",()=>{this.showArticle(e)}),n}initWaline(){const e=document.querySelector("#waline");return e.innerHTML="",Um({el:"#waline",serverURL:"https://comment.zygame1314.site",placeholder:"",meta:["nick","mail"],requiredMeta:["nick","mail"],login:"enable",pageSize:10,lang:"zh-CN",highlight:!0,recordIP:!0,emoji:["https://bucket.zygame1314.site/static/emoji/bilibili_tv","https://bucket.zygame1314.site/static/emoji/blobs-gif"],imageUploader:async n=>{const s=await Xm(n),i=new FormData;i.append("file",s,`${n.name.split(".")[0]}.webp`);const a=window.location.hostname;i.append("site",a);try{const r=await fetch("https://api.zygame1314.site/comment/upload-image",{method:"POST",body:i});if(!r.ok)throw new Error("");return(await r.json()).url}catch(r){return console.error(":",r),showNotification("",2,"error"),null}},pageview:!0,comment:!0,search:!1,reaction:!1,locale:{placeholder:"",sofa:"~"}})}isArticleOutdated(e){const n=new Date,s=new Date(e);return(n.getFullYear()-s.getFullYear())*12+(n.getMonth()-s.getMonth())>=6}async loadLanguage(e){if(!hljs.getLanguage(e))try{return await dc(Object.assign({}),`../../../../https:/cdn.jsdmirror.com/gh/highlightjs/cdn-release@latest/build/languages/${e}.min.js`,12),!0}catch(n){return console.warn(` ${e} :`,n),!1}return!0}setupImageZoom(e){if(!document.querySelector(".image-modal")){const n=document.createElement("div");n.className="image-modal";const s=document.createElement("img");s.className="modal-image",n.appendChild(s),document.body.appendChild(n),n.addEventListener("click",()=>{n.classList.remove("active"),setTimeout(()=>n.style.display="none",300),document.body.style.overflow=""})}e.querySelectorAll("img").forEach(n=>{n.closest(".article-thumbnail")||n.addEventListener("click",()=>{const s=document.querySelector(".image-modal"),i=s.querySelector(".modal-image");i.src=n.src,s.style.display="flex",document.body.style.overflow="hidden",requestAnimationFrame(()=>s.classList.add("active"))})})}async showArticle(e,n=!1,s=!1){this.originalPageTitle=document.title,document.title=`${e.title} - ${this.originalPageTitle}`;const i=document.querySelector(".article-toc");i&&i.remove();const a=document.querySelector("nav:not(#article-nav)"),r=document.getElementById("article-nav");if(a.style.display="none",r.style.display="block",s||(this.transitionMessage.innerHTML='<span class="transition-loading"></span>',this.transitionMask.classList.add("active"),await new Promise(h=>setTimeout(h,600))),window.scrollTo({top:0,behavior:s?"auto":"smooth"}),!n){const h=e.contentUrl.replace("/articles/content/","").replace(".html","");history.pushState({articleId:h},"",`/article/${h}`)}window.handleArticleView();const o=document.querySelector(".main-content"),l=document.querySelector(".sidebar");l.style.display="none",o.style.width="100%",o.style.maxWidth="1200px",o.style.margin="0 auto";const c=document.createElement("section");c.id="article-detail",c.innerHTML=`
            <div class="article-header">
                <button class="back-btn">
                    <i class="fas fa-arrow-left"></i> 
                </button>
                <h1>${e.title}</h1>
                <div class="article-meta">
                    <i class="far fa-calendar-alt"></i> ${e.date}
                    ${e.tags?`<div class="article-tags">
                            ${e.tags.map(h=>`<span class="tag">${h}</span>`).join("")}
                        </div>`:""}
                </div>      
                ${e.aiAssistants?`<div class="ai-edit-notice">
                    <div class="ai-notice-header">
                        <i class="fas fa-robot"></i> AI
                    </div>
                    <div class="ai-assistant-tags">
                        AI
                        ${e.aiAssistants.map(h=>`
                            <span class="ai-assistant-tag">
                                <i class="fas fa-robot"></i>
                                ${h}
                            </span>
                        `).join("")}
                    </div>
                </div>`:`<div class="ai-edit-notice">
                    <div class="ai-notice-header">
                        <i class="fas fa-pen-fancy"></i> 
                    </div>
                    <div class="ai-assistant-tags">
                        
                    </div>
                </div>`}
            </div>
            <div class="article-content">
                ...
            </div>
        `;const d=o.children;Array.from(d).forEach(h=>{h.id!=="comments"&&(h.style.display="none")}),o.insertBefore(c,document.getElementById("comments"));try{const h=await fetch(e.contentUrl);if(!h.ok)throw new Error("");const p=await h.text(),m=c.querySelector(".article-content");m.innerHTML=p,this.setupImageZoom(m);const b=document.createElement("div");b.className="article-ai-summary loading",b.innerHTML=`
                <div class="article-ai-summary-header">
                    <div class="header-left">
                        <i class="fas fa-brain"></i>
                        <h4>AI</h4>
                    </div>
                    <div class="summary-loader">
                        <div class="summary-spinner"></div>
                        <div class="summary-loader-text">AI...</div>
                    </div>
                </div>
                <div class="article-ai-summary-content">
                    ...
                </div>
                <div class="article-ai-summary-footer">
                    <span>AI</span>
                    <button class="article-ai-summary-reload" style="display: none;">
                        <i class="fas fa-sync"></i> 
                    </button>
                </div>
            `,c.querySelector(".article-header").insertAdjacentElement("afterend",b);const N=this.getArticleTextContent(m);this.generateArticleSummary(e.title,N,b);const _=m.querySelectorAll("pre code");for(const Z of _){const le=Z.innerHTML,oe=document.createElement("textarea");oe.innerHTML=le;const D=oe.value;Z.textContent=D;const ee=Array.from(Z.classList).find(P=>P.startsWith("language-"));if(ee){const P=ee.replace("language-",""),ce=document.createElement("div");ce.className="language-label";const de=document.createElement("i");switch(P){case"html":de.className="fab fa-html5";break;case"css":de.className="fab fa-css3-alt";break;case"javascript":case"js":de.className="fab fa-js";break;case"python":de.className="fab fa-python";break;case"java":de.className="fab fa-java";break;case"json":case"yaml":case"yml":de.className="fas fa-cog";break;case"markdown":case"md":de.className="fab fa-markdown";break;case"plaintext":de.className="fas fa-align-left";break;default:de.className="fas fa-code"}ce.appendChild(de);const Ce=document.createElement("span");if(Ce.textContent=P==="plaintext"?"":P,ce.appendChild(Ce),Z.parentElement.appendChild(ce),P!=="plaintext"){const st=document.createElement("div");st.className="code-loading",st.textContent=` ${P} ...`,Z.insertAdjacentElement("beforebegin",st);const fe=await this.loadLanguage(P);st.remove(),fe&&(Z.classList.add("hljs"),hljs.highlightElement(Z))}}if(!Z.classList.contains("secure-code")){const P=document.createElement("button");P.className="article-copy-button",P.innerHTML='<i class="far fa-copy"></i> ',P.addEventListener("click",async()=>{const ce=Z.textContent;try{await navigator.clipboard.writeText(ce),P.innerHTML='<i class="fas fa-check"></i> ',P.classList.add("copied"),setTimeout(()=>{P.innerHTML='<i class="far fa-copy"></i> ',P.classList.remove("copied")},2e3)}catch(de){console.error(":",de),showNotification("",2,"error")}}),Z.parentElement.appendChild(P)}}this.isArticleOutdated(e.date)&&showNotification("~ ",5,"info");const E=document.querySelector(".article-toc");E&&E.remove();const $=document.createElement("div");$.className="article-toc",$.innerHTML=`
                <button class="pin-btn" title="">
                    <i class="fas fa-thumbtack"></i>
                </button>
                <div class="toc-preview"></div>
                <h3></h3>
                <ul></ul>
            `,$.querySelector(".pin-btn").addEventListener("click",Z=>{Z.stopPropagation(),$.classList.toggle("pinned")});const B=m.querySelectorAll("h2, h3, h4"),Y=$.querySelector("ul"),R=$.querySelector(".toc-preview");document.body.appendChild($),B.forEach((Z,le)=>{Z.id=`heading-${le}`;const oe=document.createElement("li");oe.className=`toc-${Z.tagName.toLowerCase()}`;const D=document.createElement("a");D.href=`#heading-${le}`,D.textContent=Z.textContent,D.addEventListener("click",P=>{P.preventDefault(),Z.scrollIntoView({behavior:"smooth"})}),oe.appendChild(D),Y.appendChild(oe);const ee=document.createElement("div");ee.className="preview-item",ee.dataset.level=Z.tagName.toLowerCase(),ee.dataset.title=Z.textContent,R.appendChild(ee)}),this.updateActivePreview=()=>{const oe=Array.from(B).map(P=>({top:P.getBoundingClientRect().top,bottom:P.getBoundingClientRect().bottom,header:P}));let D=null,ee=1/0;oe.forEach(P=>{const ce=P.top-30,de=Math.abs(ce-80);de<ee&&ce<=80&&(ee=de,D=P.header)}),B.forEach((P,ce)=>{const de=R.children[ce],Ce=Y.children[ce];P===D?(de.classList.add("active"),Ce.classList.add("active-heading")):(de.classList.remove("active"),Ce.classList.remove("active-heading"))})},window.addEventListener("scroll",this.updateActivePreview),this.initWaline()}catch(h){console.error(":",h),showNotification("",2,"error")}s||(this.transitionMask.classList.remove("active"),this.transitionMask.classList.add("reverse"),setTimeout(()=>{this.transitionMask.classList.remove("reverse")},500)),c.querySelector(".back-btn").addEventListener("click",async()=>{document.title=this.originalPageTitle,this.updateActivePreview&&window.removeEventListener("scroll",this.updateActivePreview),this.transitionMessage.innerHTML='<span class="transition-loading"></span>',this.transitionMask.classList.add("active"),await new Promise(_=>setTimeout(_,600)),document.querySelectorAll("#article-detail").forEach(_=>_.remove());const p=document.querySelector(".article-toc");p&&p.remove();const m=document.querySelector("nav:not(#article-nav)"),b=document.getElementById("article-nav");m.style.display="block",b.style.display="none",history.pushState(null,"","/");const w=document.querySelector(".main-content"),N=w.children;Array.from(N).forEach(_=>{_.id!=="comments"&&(_.style.display="")}),l.style.display="",w.style.width="",w.style.maxWidth="",w.style.margin="",window.handleHomeView(),this.currentIndex=0,this.loading=!1,this.allLoaded=!1,this.renderArticles(!1),this.setupScrollListener(),this.initWaline(),this.transitionMask.classList.remove("active"),this.transitionMask.classList.add("reverse"),setTimeout(()=>{this.transitionMask.classList.remove("reverse")},500)})}getArticleTextContent(e){const n=e.cloneNode(!0);return["pre",".image-modal","script","style"].forEach(i=>{n.querySelectorAll(i).forEach(a=>a.remove())}),n.textContent.replace(/\s+/g," ").trim()}async generateArticleSummary(e,n,s){const i=s.querySelector(".article-ai-summary-content"),a=s.querySelector(".article-ai-summary-reload"),r=s.querySelector(".article-ai-summary-footer span");if(this.currentSummaryController=null,this.typewriterTimers=[],!r){const c=s.querySelector(".article-ai-summary-footer");c&&c.insertAdjacentHTML("afterbegin","<span>AI</span>")}const o=async()=>{this.typewriterTimers&&this.typewriterTimers.length&&(this.typewriterTimers.forEach(b=>clearTimeout(b)),this.typewriterTimers=[]),this.currentSummaryController&&this.currentSummaryController.abort(),this.currentSummaryController=new AbortController;const c=this.currentSummaryController.signal;s.classList.add("loading");const d=["AI...","AI...","AI...","AI...","AI..."],h=s.querySelector(".summary-loader-text"),p=s.querySelector(".summary-spinner"),m=s.querySelector(".summary-loader");h&&(h.textContent=d[Math.floor(Math.random()*d.length)],h.classList.remove("success")),p&&p.classList.remove("success"),m&&m.classList.remove("success");try{const b=`article-summary-${btoa(encodeURIComponent(e)).substring(0,20)}`,w=localStorage.getItem(b);let N=null,_=0;if(w)try{const oe=JSON.parse(w);N=oe.summary,_=oe.timestamp||0}catch{N=w}if(N&&Date.now()-_<7*24*60*60*1e3&&!s.dataset.regenerating){await new Promise(oe=>setTimeout(oe,800)),p&&p.classList.add("success"),h&&(h.textContent="",h.classList.add("success")),m&&m.classList.add("success"),setTimeout(()=>{s.classList.remove("loading"),this.typeWriterEffect(i,N),a.style.display="flex"},1200);return}const $=`summary-last-request-${btoa(encodeURIComponent(e)).substring(0,20)}`,T=localStorage.getItem($);if(T&&Date.now()-parseInt(T)<6e4&&!s.dataset.regenerating)throw new Error("1");localStorage.setItem($,Date.now().toString()),i.innerHTML="";let B="";const Y=await fetch("https://api.zygame1314.site/article/summarize",{method:"POST",headers:{"Content-Type":"application/json","x-last-request-time":localStorage.getItem("last-summary-request-time")||"0"},body:JSON.stringify({title:e,articleContent:n}),signal:c});if(Y.status===429)throw new Error("");if(!Y.ok){const oe=await Y.json();throw new Error(oe.error||"")}const R=Y.body.getReader(),Z=new TextDecoder;h&&(h.textContent="..."),s.classList.remove("loading"),i.classList.add("streaming"),i.innerHTML='<div class="summary-streaming"></div>';const le=i.querySelector(".summary-streaming");for(;;){const{done:oe,value:D}=await R.read();if(oe)break;const ee=Z.decode(D,{stream:!0});if(c.aborted){console.log("");break}const P=ee.split(`

`);for(const ce of P){if(!ce.trim())continue;if(c.aborted)break;const de=ce.match(/^event:\s*(\w+)/m),Ce=ce.match(/^data:\s*(.+)$/m);if(!de||!Ce)continue;const st=de[1];let fe;try{fe=JSON.parse(Ce[1])}catch(xe){console.error(":",xe);continue}switch(st){case"start":le.innerHTML="";break;case"token":if(fe.content){B+=fe.content;const be=fe.content.replace(/\*\*([^*]+)\*\*/g,"<strong>$1</strong>").replace(/(?:^|<br>|<\/p>)\s*####\s+(.*?)(?=$|<br>|<p>)/g,"<h4>$1</h4>").replace(/(?:^|<br>|<\/p>)\s*###\s+(.*?)(?=$|<br>|<p>)/g,"<h3>$1</h3>").replace(/(?:^|<br>|<\/p>)\s*##\s+(.*?)(?=$|<br>|<p>)/g,"<h2>$1</h2>").replace(/(?:^|<br>|<\/p>)\s*#\s+(.*?)(?=$|<br>|<p>)/g,"<h1>$1</h1>").replace(/\*([^*]+)\*/g,"<em>$1</em>").replace(/`([^`]+)`/g,"<code>$1</code>").replace(/\[([^\]]+)\]\(([^\)]+)\)/g,'<a href="$2">$1</a>');le.insertAdjacentHTML("beforeend",be)}break;case"error":throw new Error(fe.error||"");case"end":p&&p.classList.add("success"),h&&(h.textContent="",h.classList.add("success")),m&&m.classList.add("success");const Ve=B.trim().replace(/\n/g,"<br>").replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/(?:^|<br>)\s*####\s+(.*?)(?=$|<br>)/g,"<h4>$1</h4>").replace(/(?:^|<br>)\s*###\s+(.*?)(?=$|<br>)/g,"<h3>$1</h3>").replace(/(?:^|<br>)\s*##\s+(.*?)(?=$|<br>)/g,"<h2>$1</h2>").replace(/(?:^|<br>)\s*#\s+(.*?)(?=$|<br>)/g,"<h1>$1</h1>");localStorage.setItem(b,JSON.stringify({summary:Ve,timestamp:Date.now()})),setTimeout(()=>{i.classList.remove("streaming"),i.innerHTML=Ve,a.style.display="flex"},500);break}}}localStorage.setItem("last-summary-request-time",Y.headers.get("x-last-request-time")||Date.now().toString())}catch(b){if(b.name==="AbortError"){console.log("");return}console.error("AI:",b),i.innerHTML=`
                    <div class="summary-error">
                        <i class="fas fa-exclamation-triangle"></i>
                        
                    </div>
                    <div>: ${b.message||""}</div>
                    <div style="margin-top:8px;"></div>
                `,s.classList.remove("loading"),a.style.display="flex"}finally{delete s.dataset.regenerating}};await o(),a.removeEventListener("click",l),a.addEventListener("click",l);async function l(){const c=`summary-last-request-${btoa(encodeURIComponent(e)).substring(0,20)}`;localStorage.removeItem(c),s.dataset.regenerating="true",a.innerHTML='<i class="fas fa-spinner fa-spin"></i> ...',a.disabled=!0,await o(),a.innerHTML='<i class="fas fa-sync"></i> ',a.disabled=!1}}typeWriterEffect(e,n,s=15){e.innerHTML="",e.classList.remove("fade-in"),e.classList.add("typing"),this.typewriterTimers&&this.typewriterTimers.length&&(this.typewriterTimers.forEach(l=>clearTimeout(l)),this.typewriterTimers=[]),this.typewriterTimers=[];const a=new DOMParser().parseFromString(`<div>${n}</div>`,"text/html"),r=Array.from(a.body.firstChild.childNodes),o=(l,c)=>{let d=0,h=0;const p=()=>{if(h>=l.length){e.classList.remove("typing"),e.classList.add("fade-in");return}const m=l[h];if(m.nodeType===Node.ELEMENT_NODE){const b=document.createElement(m.tagName);Array.from(m.attributes).forEach(w=>{b.setAttribute(w.name,w.value)}),c.appendChild(b),m.childNodes.length>0&&o(Array.from(m.childNodes),b),h++,p()}else if(m.nodeType===Node.ELEMENT_NODE&&m.tagName==="BR"){const b=document.createElement("br");c.appendChild(b),h++,p()}else if(m.nodeType===Node.TEXT_NODE)if(d<m.textContent.length){c.appendChild(document.createTextNode(m.textContent[d])),d++;const b=setTimeout(p,s);this.typewriterTimers.push(b)}else d=0,h++,p();else h++,p()};p()};o(r,e)}}async function Xm(t){return new Promise((e,n)=>{const s=URL.createObjectURL(t),i=new Image;i.onload=()=>{const a=document.createElement("canvas");a.width=i.width,a.height=i.height,a.getContext("2d").drawImage(i,0,0),a.toBlob(o=>{URL.revokeObjectURL(s),e(o)},"image/webp",.5)},i.onerror=()=>{URL.revokeObjectURL(s),n(new Error(""))},i.src=s})}document.addEventListener("DOMContentLoaded",()=>{window.articlesManager=new Vm});const ni="https://api.zygame1314.site";document.addEventListener("DOMContentLoaded",function(){window.loadingComplete.then(()=>{(window.location.pathname==="/"||window.location.pathname==="/index.html")&&setTimeout(t,3e3)});function t(){const l=localStorage.getItem("lastImportantNoticeDate"),c=new Date().toDateString();l!==c&&fetch(`${ni}/getdata/important-notice`).then(d=>d.json()).then(d=>{if(!d.active||!d.notices||d.notices.length===0)return;const h=d.notices.filter(p=>localStorage.getItem(`doNotShow_${p.id}`)!=="true");h.length!==0&&e(h)}).catch(d=>{console.error(":",d)})}function e(l){const c=document.createElement("div");c.className="important-notice-modal";let d="",h=0;l.forEach((b,w)=>{d+=`
                <div class="notice-item ${w===0?"active":""}" data-index="${w}" data-notice-id="${b.id}">
                    ${n(b)}
                </div>
            `});const p=l.length>1?`
            <div class="notice-navigation">
                <button class="nav-btn prev-btn" ${l.length<=1?"disabled":""}>
                    <i class="fas fa-chevron-left"></i>
                </button>
                <span class="notice-counter">1 / ${l.length}</span>
                <button class="nav-btn next-btn" ${l.length<=1?"disabled":""}>
                    <i class="fas fa-chevron-right"></i>
                </button>
            </div>
        `:"";c.innerHTML=`
            <div class="important-notice-content">
                <div class="notices-container">
                    ${d}
                </div>
                ${p}
                <div class="important-notice-footer">
                    <label class="do-not-show-again">
                        <input type="checkbox" id="doNotShowAgain">
                        <div class="checkmark"></div>
                        <span></span>
                    </label>
                    <div class="notice-actions">
                        <button class="notice-btn secondary" id="noticeClose"></button>
                        <button class="notice-btn" id="noticeAcknowledge"></button>
                    </div>
                </div>
            </div>
        `,document.body.appendChild(c),window.reinitializeLazyLoad&&window.reinitializeLazyLoad(),c.querySelectorAll(".important-notice-image img").forEach(b=>{window.saveLazyLoadErrorHandler&&window.saveLazyLoadErrorHandler(b,function(){const w=this.parentElement;w.style.display="none"})}),setTimeout(()=>{c.classList.add("show")},100),l.length>1&&s(c,l),i(c,l[h]),l[h].poll&&l[h].poll.active&&o(l[h].id,l[h].poll)}function n(l){let c="";const d=l.image&&l.image.url,h=d?l.image.position||"top":null,p=d?`<div class="important-notice-image">
                <img data-src="${l.image.url}"
                     alt="${l.image.alt||""}"
                     class="lazy-placeholder"
                     ${l.image.width?`data-width="${l.image.width}"`:""}
                     ${l.image.height?`data-height="${l.image.height}"`:""}>
            </div>`:"",m=l.poll&&l.poll.active?a(l.poll):"";return d?h==="top"?c=`
                    ${p}
                    <div class="important-notice-body">
                        ${l.content}
                    </div>
                    ${m}
                `:h==="bottom"?c=`
                    <div class="important-notice-body">
                        ${l.content}
                    </div>
                    ${m}
                    ${p}
                `:h==="left"?c=`
                    <div class="notice-with-image-left">
                        ${p}
                        <div class="important-notice-body">
                            ${l.content}
                        </div>
                    </div>
                    ${m}
                `:h==="right"&&(c=`
                    <div class="notice-with-image-right">
                        <div class="important-notice-body">
                            ${l.content}
                        </div>
                        ${p}
                    </div>
                    ${m}
                `):c=`
                <div class="important-notice-body">
                    ${l.content}
                </div>
                ${m}
            `,`
            <div class="important-notice-title">
                <h2><i class="fas fa-exclamation-circle notice-icon"></i> ${l.title}</h2>
                <button class="important-close-button"></button>
            </div>
            ${c}
        `}function s(l,c){const d=l.querySelector(".prev-btn"),h=l.querySelector(".next-btn"),p=l.querySelector(".notice-counter"),m=l.querySelectorAll(".notice-item");let b=0;function w(){m.forEach($=>$.classList.remove("active")),m[b].classList.add("active");const N=l.querySelector("#doNotShowAgain");if(N){const $=c[b].id,T=localStorage.getItem(`doNotShow_${$}`)==="true";N.checked=T}p.textContent=`${b+1} / ${c.length}`,d.disabled=b===0,h.disabled=b===c.length-1;const _=c[b];if(_.poll&&_.poll.active){const $=l.querySelector("#poll-container");$&&$.remove(),setTimeout(()=>{o(_.id,_.poll)},100)}window.reinitializeLazyLoad&&window.reinitializeLazyLoad();const E=m[b].querySelector(".important-close-button");E&&(E.onclick=()=>{l.classList.add("closing"),setTimeout(()=>{l.classList.remove("show"),setTimeout(()=>{l.remove()},300)},500)})}d.addEventListener("click",()=>{b>0&&(b--,w())}),h.addEventListener("click",()=>{b<c.length-1&&(b++,w())})}function i(l,c){const d=l.querySelector("#noticeClose"),h=l.querySelector("#noticeAcknowledge"),p=l.querySelector("#doNotShowAgain");function m(w=l){w.classList.add("closing"),setTimeout(()=>{w.classList.remove("show"),setTimeout(()=>{w.remove()},300)},500)}l.querySelectorAll(".important-close-button").forEach(w=>{w.addEventListener("click",()=>m())}),d.addEventListener("click",()=>m()),h.addEventListener("click",function(){localStorage.setItem("lastImportantNoticeDate",new Date().toDateString()),m()}),p.addEventListener("change",function(){const w=l.querySelector(".notice-item.active"),N=w?w.dataset.noticeId:c.id;this.checked?localStorage.setItem(`doNotShow_${N}`,"true"):localStorage.setItem(`doNotShow_${N}`,"false")})}function a(l){const c=l.allowMultipleVotes?"checkbox":"radio";let d="";return l.options.forEach(h=>{d+=`
                <div class="notice-poll-option">
                    <input type="${c}" id="${h.id}" name="poll-option" value="${h.id}">
                    <label for="${h.id}">${h.text}</label>
                </div>
            `}),`
            <div class="notice-poll-container" id="poll-container">
                <div class="notice-poll-question">${l.question}</div>
                <div class="notice-poll-options">
                    ${d}
                </div>
                <div class="notice-poll-submit">
                    <button class="notice-btn" id="pollSubmitBtn"></button>
                </div>
                <div id="poll-result" class="notice-poll-result" style="display: none;"></div>
                <div id="poll-error" class="notice-poll-error" style="display: none;"></div>
            </div>
        `}async function r(l){if(localStorage.getItem(`voted_${l}`)==="true")return Promise.resolve(!0);try{const d=await fetch(`${ni}/notice/has-voted?id=${l}`);if(!d.ok)throw new Error("");const h=await d.json();return h.hasVoted&&localStorage.setItem(`voted_${l}`,"true"),h.hasVoted}catch(d){return console.error(":",d),!1}}function o(l,c){const d=document.getElementById("poll-container"),h=document.getElementById("pollSubmitBtn"),p=document.getElementById("poll-result"),m=document.getElementById("poll-error");r(l).then(_=>{_&&c.showResults&&(h.disabled=!0,h.textContent="",b(l,c,p,m))}).catch(_=>{console.error(":",_)}),h.addEventListener("click",function(){const _=Array.from(document.querySelectorAll('input[name="poll-option"]:checked')).map(E=>E.value);if(_.length===0){m.textContent="",m.style.display="block",setTimeout(()=>{m.style.display="none"},3e3);return}h.disabled=!0,h.textContent="...",m.style.display="none",N(l,_).then(E=>{if(!E.ok)throw new Error("");return E.json()}).then(E=>{localStorage.setItem(`voted_${l}`,"true");const $=document.createElement("div");$.className="notice-poll-thanks",$.textContent="",d.insertBefore($,p),c.showResults&&w(E.results,c,p),h.textContent=""}).catch(E=>{console.error(":",E),m.textContent="",m.style.display="block",h.disabled=!1,h.textContent=""})});function b(_,E,$,T){fetch(`${ni}/notice/poll-results?id=${_}`).then(B=>{if(!B.ok)throw new Error("");return B.json()}).then(B=>{w(B.results,E,$)}).catch(B=>{console.error(":",B),T.textContent="",T.style.display="block"})}function w(_,E,$){if(!_||!E||!E.options)return;const T=E.options.map(R=>R.id);_.sort((R,Z)=>{const le=T.indexOf(R.id),oe=T.indexOf(Z.id);return le===-1?1:oe===-1?-1:le-oe});const B=_.reduce((R,Z)=>R+Z.count,0);let Y=`
                <div class="notice-poll-result-title"> (: ${B})</div>
            `;_.forEach(R=>{const Z=B>0?Math.round(R.count/B*100):0,le=E.options.find(oe=>oe.id===R.id)||{text:""};Y+=`
                    <div class="notice-poll-result-item">
                        <div>${le.text} (${R.count})</div>
                        <div class="notice-poll-result-bar">
                            <div class="notice-poll-result-fill" style="width: ${Z}%"></div>
                            <div class="notice-poll-result-percent">${Z}%</div>
                        </div>
                    </div>
                `}),$.innerHTML=Y,$.style.display="block"}function N(_,E){return fetch(`${ni}/notice/vote`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({noticeId:_,options:E})})}}});class Wm{constructor(){this.notices=[],this.currentIndex=0,this.contentWrapper=document.querySelector(".notice-content-wrapper"),this.pageDisplay=document.querySelector(".notice-page"),this.isAnimating=!1,this.animationQueue=Promise.resolve(),this.ANIMATION_DURATION=300,this.autoplayInterval=5e3,this.autoplayTimer=null,this.isPaused=!1,document.querySelector(".notice-prev").addEventListener("click",()=>this.prevNotice()),document.querySelector(".notice-next").addEventListener("click",()=>this.nextNotice()),document.querySelector(".notice-autoplay").addEventListener("click",()=>this.toggleAutoplay()),this.contentWrapper.addEventListener("mouseenter",()=>this.pause()),this.contentWrapper.addEventListener("mouseleave",()=>this.resume()),this.loadNotices(),this.startAutoplay()}async loadNotices(){try{const n=await(await fetch(`${API_BASE}/getdata/notices`)).json();this.notices=n.notices,this.updateDisplay(),this.updatePageCount()}catch(e){console.error(":",e)}}createContentElement(e){const n=document.createElement("p");if(n.className=e.type,e.icon){const s=document.createElement("i");s.className=e.icon,n.appendChild(s)}if(e.number!==void 0){const s=document.createElement("span");s.className="step-number",s.textContent=e.number+".",n.appendChild(s)}if(e.highlight)if(Array.isArray(e.highlight)){let s=e.text;e.highlight.forEach(i=>{s=s.replace(i,`<span class="highlight">${i}</span>`)}),n.innerHTML+=s}else if(typeof e.highlight=="object")if(e.highlight.full)n.innerHTML+=`<span class="highlight">${e.text}</span>`;else{const s=e.text.split(e.highlight.text);n.innerHTML+=s[0],n.innerHTML+=`<span class="highlight">${e.highlight.text}</span>`,n.innerHTML+=s[1]}else e.highlight===!0&&(n.innerHTML+=`<span class="highlight">${e.text}</span>`);else n.innerHTML+=e.text;if(e.description){const s=document.createElement("p");s.className=`${e.type}-description`,s.textContent=e.description;const i=document.createElement("div");return i.appendChild(n),i.appendChild(s),i}return n}async updateDisplay(e="next"){if(!this.notices.length)return;const n=async()=>{const s=this.notices[this.currentIndex],i=this.contentWrapper.querySelector(".notice-content"),a=document.createElement("div");if(a.className="notice-content",s.title){const r=document.createElement("div");if(r.className="notice-header",s.icon){const l=document.createElement("i");l.className=s.icon,r.appendChild(l)}const o=document.createElement("h4");o.textContent=s.title,r.appendChild(o),a.appendChild(r)}s.content.forEach(r=>{a.appendChild(this.createContentElement(r))}),this.contentWrapper.appendChild(a),a.offsetHeight,a.classList.add("active"),i&&(i.classList.remove("active"),i.classList.add(e==="next"?"exit-left":"exit-right"),await new Promise(r=>setTimeout(r,this.ANIMATION_DURATION)),i.remove()),this.updatePageCount()};this.animationQueue=this.animationQueue.then(n).catch(console.error).finally(()=>{this.isAnimating=!1})}updatePageCount(){this.pageDisplay.textContent=`${this.currentIndex+1}/${this.notices.length}`}startAutoplay(){!this.autoplayTimer&&!this.isPaused&&(this.autoplayTimer=setInterval(()=>{this.currentIndex>=this.notices.length-1&&(this.currentIndex=-1),this.nextNotice()},this.autoplayInterval))}stopAutoplay(){this.autoplayTimer&&(clearInterval(this.autoplayTimer),this.autoplayTimer=null)}toggleAutoplay(){const e=document.querySelector(".notice-autoplay i");this.autoplayTimer?(this.stopAutoplay(),this.isPaused=!0,e.className="fas fa-play"):(this.isPaused=!1,this.startAutoplay(),e.className="fas fa-pause")}pause(){this.isPaused||this.stopAutoplay()}resume(){this.isPaused||this.startAutoplay()}prevNotice(){this.currentIndex>0&&!this.isAnimating&&(this.stopAutoplay(),this.currentIndex--,this.updateDisplay("prev").then(()=>this.startAutoplay()))}nextNotice(){this.currentIndex<this.notices.length-1&&!this.isAnimating&&(this.stopAutoplay(),this.currentIndex++,this.updateDisplay("next").then(()=>this.startAutoplay()))}}document.addEventListener("DOMContentLoaded",()=>{new Wm});document.addEventListener("DOMContentLoaded",function(){let t=1,e=1,n=!1;const s=4;async function i(c=1){try{n=!0;const h=await(await fetch(`${API_BASE}/getdata/projects?page=${c}&limit=${s}`)).json();return n=!1,h.pagination&&(t=h.pagination.page,e=h.pagination.totalPages),h.projects||[]}catch(d){return n=!1,console.error(":",d),[]}}function a(c){const d=document.createElement("div");return d.className="project-card",c.type==="construction"?(d.innerHTML=`
                <div class="construction-card">
                    <div class="construction-header">
                        <div class="construction-icon"></div>
                        <div class="construction-title">${c.title}</div>
                    </div>
                    <div class="blueprint-grid">
                        <div class="blueprint-item"></div>
                        <div class="blueprint-item"></div>
                        <div class="blueprint-item"></div>
                    </div>
                    <div class="construction-progress">
                        <div class="progress-bar"></div>
                    </div>
                    <div class="construction-status"></div>
                    <div class="construction-eta"></div>
                </div>
            `,d):(d.innerHTML=`
            <a href="${c.githubUrl}" target="_blank">
                <img data-src="${c.imageUrl}" alt="${c.title}">
            </a>
            <h3>${c.title}</h3>
            <p>${c.description}</p>
            <div class="project-actions">
                ${c.actions.map(h=>`
                    <a href="${h.url}" class="button" ${h.type==="external"?'target="_blank"':""}>
                        ${h.text}
                    </a>
                `).join("")}
            </div>
        `,d)}async function r(c){if(n)return;const d=document.querySelector(".project-list");if(!d){console.error(".project-list element not found");return}d.querySelectorAll(".project-card.visible").forEach(p=>{p.classList.remove("visible"),p.classList.add("exiting")}),setTimeout(async()=>{d.innerHTML="",(await i(c)).forEach(m=>{const b=a(m);d.appendChild(b),b.style.display="none",requestAnimationFrame(()=>{b.style.display="block",requestAnimationFrame(()=>{b.classList.add("visible")})})}),o()},300)}function o(){const c=document.querySelector(".pagination");if(c&&(c.innerHTML="",!(e<=1)))for(let d=1;d<=e;d++){const h=document.createElement("button");h.classList.add("pagination-button"),h.dataset.page=d,h.textContent=d,d===t&&h.classList.add("active"),h.addEventListener("click",function(){const p=parseInt(this.dataset.page);p!==t&&!n&&r(p)}),c.appendChild(h)}}function l(){if(!document.querySelector(".notice-content-wrapper"))return;const d=document.querySelectorAll(".notice-content"),h=document.querySelector(".notice-prev"),p=document.querySelector(".notice-next"),m=document.querySelector(".notice-page");if(!h||!p||!m){m&&d.length===0&&(m.textContent="0/0");return}let b=0;function w(){d.length>0?m.textContent=`${b+1}/${d.length}`:m.textContent="0/0"}function N(_){d.length!==0&&(d.forEach((E,$)=>{$===_?(E.classList.add("active"),E.style.transform="translateX(0)"):(E.classList.remove("active"),E.style.transform=$<_?"translateX(-100%)":"translateX(100%)")}),b=_,w())}h.addEventListener("click",()=>{b>0&&N(b-1)}),p.addEventListener("click",()=>{b<d.length-1&&N(b+1)}),d.length>0?N(0):w()}l(),r(1)});let aa=[],As=1,xi=1,pn=!1;const Vl=10;async function Gm(){try{const t=document.querySelector(".milestone-timeline");if(!t)return;pn=!0,t.innerHTML='<div class="timeline-loading">...</div>';const n=await(await fetch(`${API_BASE}/getdata/timeline?page=1&limit=${Vl}`)).json();if(pn=!1,!n.milestones||n.milestones.length===0){t.innerHTML='<div class="timeline-empty"></div>';return}As=n.pagination.page,xi=n.pagination.totalPages,Xl(n.milestones,!1)}catch(t){pn=!1,console.error(":",t);const e=document.querySelector(".milestone-timeline");e&&(e.innerHTML='<div class="timeline-empty"></div>')}}async function Km(){if(pn||As>=xi)return;pn=!0;const t=As+1,e=document.getElementById("load-more-btn");e&&(e.disabled=!0,e.textContent="...");try{const s=await(await fetch(`${API_BASE}/getdata/timeline?page=${t}&limit=${Vl}`)).json();pn=!1,s.milestones&&s.milestones.length>0&&(As=s.pagination.page,xi=s.pagination.totalPages,Xl(s.milestones,!0))}catch(n){pn=!1,console.error(":",n),e&&(e.disabled=!1,e.textContent="")}}function Xl(t,e=!1){const n=document.querySelector(".milestone-timeline");if(!n)return;if(e){const r=n.querySelector(".future-milestone");r&&r.remove();const o=n.querySelector(".load-more-container");o&&o.remove()}else{n.innerHTML="",aa=[];const r=document.createElement("div");r.className="timeline-line",n.appendChild(r)}aa=aa.concat(t);const s=t.map(r=>`
        <div class="milestone">
            <div class="milestone-dot"></div>
            <div class="milestone-content">
                <span class="date">${r.date}</span>
                <h3>${r.title}</h3>
                <p class="milestone-description">
                    ${r.description}
                </p>
            </div>
        </div>
    `).join("");if(n.insertAdjacentHTML("beforeend",s),n.insertAdjacentHTML("beforeend",`
        <div class="milestone future-milestone">
            <div class="milestone-dot"></div>
            <div class="milestone-content">
                <span class="date">???</span>
                <h3> </h3>
            </div>
        </div>
    `),As<xi){const r=`
            <div class="load-more-container">
                <button id="load-more-btn" class="load-more-btn" ${pn?"disabled":""}>
                    ${pn?"...":""}
                </button>
            </div>
        `;n.insertAdjacentHTML("beforeend",r),document.getElementById("load-more-btn").addEventListener("click",Km)}const a=n.querySelector(".timeline-line");a&&(a.style.height=`${n.scrollHeight}px`),Zm()}function Zm(){document.querySelectorAll(".milestone:not(.future-milestone)").forEach(t=>{const e=t.querySelector(".milestone-content");t.addEventListener("mouseenter",()=>{e.style.maxHeight=e.scrollHeight+"px"}),t.addEventListener("mouseleave",()=>{e.style.maxHeight="70px"})})}document.addEventListener("DOMContentLoaded",Gm);document.querySelectorAll(".contact-copy-button").forEach(t=>{t.addEventListener("click",()=>{const e=t.getAttribute("data-copy");navigator.clipboard.writeText(e).then(()=>{t.textContent="!",t.classList.add("copied"),setTimeout(()=>{t.textContent="",t.classList.remove("copied")},2e3)})})});function go(){let t=null,e=Date.now();const n=5*60*1e3,s=1*60*1e3;function i(){return Date.now()-e<n}function a(){e=Date.now(),!t&&!document.hidden&&o()}function r(){document.hidden?(l(),console.log(" Steam ")):a()}function o(){t||(c(),t=setInterval(()=>{!document.hidden&&i()?c():(l(),console.log(" Steam "))},s),console.log(`Steam  ${s/1e3} `))}function l(){t&&(clearInterval(t),t=null,console.log("Steam "))}async function c(){console.log(" Steam ...");try{const d=await fetch(`${API_BASE}/games/steam-status`);if(!d.ok){const fe=await d.json().catch(()=>({message:""}));throw new Error(`API : ${d.status} ${d.statusText} - ${fe.message||""}`)}const h=await d.json();if(!h.success||!h.player)throw new Error(`API : ${h.message||""}`);const p=h.player,m=document.querySelector(".steam-status-widget");if(!m){console.error(" .steam-status-widget "),l();return}const b=m.querySelector(".steam-avatar"),w=m.querySelector(".steam-user-info"),N=m.querySelector(".steam-username"),_=m.querySelector(".steam-status"),E=m.querySelector(".steam-level-num"),$=m.querySelector(".steam-featured-badge"),T=m.querySelector(".steam-badge-icon"),B=m.querySelector(".steam-badge-name"),Y=m.querySelector(".steam-badge-xp"),R=m.querySelector(".steam-background-video");if(b&&w){const fe=w.querySelector('a[href*="steamcommunity.com/profiles"]');if(!fe){console.error(" Steam  a");return}let xe=fe.querySelector(".steam-avatar-container");xe||(xe=document.createElement("div"),xe.className="steam-avatar-container",fe.appendChild(xe)),b.parentNode!==xe&&xe.appendChild(b),xe.parentNode!==fe&&fe.appendChild(xe);const Ve=fe.querySelector(":scope > img.steam-avatar");Ve&&Ve.remove(),p.avatarfull&&b.getAttribute("data-src")!==p.avatarfull&&(b.setAttribute("data-src",p.avatarfull),b.classList.remove("lazy-initialized","lazy-loaded","lazy-error"),b.classList.add("lazy-placeholder"),b.src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",window.reinitializeLazyLoad&&window.reinitializeLazyLoad([b]));let be=xe.querySelector(".steam-avatar-frame");const ot=be?be.dataset.actualSrc:null;if(p.avatar_frame_url){if(be||(be=document.createElement("img"),be.className="steam-avatar-frame",be.alt="Avatar Frame",be.src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",xe.insertBefore(be,b)),ot!==p.avatar_frame_url){be.classList.remove("loaded"),be.dataset.actualSrc=p.avatar_frame_url;const Ot=new Image;Ot.onload=()=>{be.dataset.actualSrc===p.avatar_frame_url&&(be.src=p.avatar_frame_url,be.classList.add("loaded"),console.log("Avatar frame loaded:",p.avatar_frame_url))},Ot.onerror=()=>{console.error("Failed to load avatar frame:",p.avatar_frame_url),be.dataset.actualSrc===p.avatar_frame_url&&(be.style.display="none")},Ot.src=p.avatar_frame_url}be.style.display=""}else be&&be.remove()}N&&p.personaname&&(N.textContent=p.personaname);let Z="",le="offline";const oe=p.personastate_css_class||"offline";oe==="in-game"||p.game_name?(le="in-game",Z=p.game_state||""):oe==="online"?(le="online",Z=""):(le="offline",Z="");const D=m.querySelector(".steam-user-details"),ee=D.querySelector(".steam-username"),P=m.querySelector(".steam-level");let ce=D.querySelector(".steam-username-level-container");ce||(ce=document.createElement("div"),ce.className="steam-username-level-container",ee?(ee.parentNode.insertBefore(ce,ee),ce.appendChild(ee)):D.prepend(ce)),P&&P.parentNode!==ce&&ce.appendChild(P),_&&(_.textContent=Z,_.className=`steam-status ${le}`,ce.nextSibling?D.insertBefore(_,ce.nextSibling):D.appendChild(_)),m.className=`steam-status-widget ${le}`;const de=m.querySelector(".steam-game-info")||document.createElement("div");if(de.className="steam-game-info",p.game_name){let fe=`
                    <div class="steam-game-name" title="${p.game_name}${p.rich_presence?" - "+p.rich_presence:""}">
                        ${p.game_state||""}: ${p.game_name}
                        ${p.rich_presence?`<span class="steam-rich-presence">(${p.rich_presence})</span>`:""}
                    </div>
                `;if(p.game_logo){const Ve=p.appId?`https://store.steampowered.com/app/${p.appId}`:"#",be=p.appId?`<a href="${Ve}" target="_blank" rel="noopener noreferrer" class="steam-game-thumbnail-link">`:"",ot=p.appId?"</a>":"";fe+=`
                        ${be}
                        <img
                            class="steam-game-thumbnail lazy-placeholder"
                            data-src="${p.game_logo}"
                            src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="
                            alt="${p.game_name}"
                        />
                        ${ot}
                    `}de.innerHTML=fe,m.contains(de)||m.appendChild(de);const xe=de.querySelector(".steam-game-thumbnail");xe&&window.reinitializeLazyLoad&&window.reinitializeLazyLoad([xe])}else m.contains(de)&&de.remove();if(E&&P&&p.steam_level!==null){let xe=function(be){if(be<0)return"level-color-0";const ot=Math.floor(be/10);return`level-color-${Math.min(ot,14)}`};const fe=parseInt(p.steam_level,10);E.textContent=fe;const Ve=xe(fe);P.className=P.className.replace(/\blevel-color-\d+\b/g,"").trim(),P.classList.add(Ve),P.style.display="flex"}else P&&(P.style.display="none");if($&&p.featured_badge_icon&&p.featured_badge_name?(T&&T.getAttribute("data-src")!==p.featured_badge_icon&&(T.setAttribute("data-src",p.featured_badge_icon),T.classList.remove("lazy-initialized","lazy-loaded","lazy-error"),T.classList.add("lazy-placeholder"),T.src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",window.reinitializeLazyLoad&&window.reinitializeLazyLoad([T])),B&&(B.textContent=p.featured_badge_name),Y&&(Y.textContent=p.featured_badge_xp||""),$.style.display="flex"):$&&($.style.display="none"),R&&(p.background_video_webm||p.background_video_mp4)){const fe=R.querySelector('source[type="video/webm"]'),xe=R.querySelector('source[type="video/mp4"]');let Ve=!1;if(fe&&p.background_video_webm&&fe.src!==p.background_video_webm)fe.src=p.background_video_webm,Ve=!0;else if(!fe&&p.background_video_webm){const be=document.createElement("source");be.src=p.background_video_webm,be.type="video/webm",R.appendChild(be),Ve=!0}else fe&&!p.background_video_webm&&(fe.remove(),Ve=!0);if(xe&&p.background_video_mp4&&xe.src!==p.background_video_mp4)xe.src=p.background_video_mp4,Ve=!0;else if(!xe&&p.background_video_mp4){const be=document.createElement("source");be.src=p.background_video_mp4,be.type="video/mp4",R.appendChild(be),Ve=!0}else xe&&!p.background_video_mp4&&(xe.remove(),Ve=!0);Ve&&(R.load(),R.play().catch(be=>console.log("Autoplay prevented for background video:",be))),R.style.display="block"}else R&&(R.style.display="none",R.innerHTML="");const Ce=m.__steamMouseEnterListener;Ce&&m.removeEventListener("mouseenter",Ce);const st=function(){let fe="",xe=null;const Ve=le;Ve==="in-game"?(fe=` ${p.game_name} ${p.rich_presence?`(${p.rich_presence})`:""}`,xe=L2D_EXPRESSIONS.SUNGLASSES):Ve==="online"?(fe="",xe=L2D_EXPRESSIONS.BAG):(fe="~",xe=L2D_EXPRESSIONS.CONFUSED),fe&&window.showLive2dNotification&&showLive2dNotification(fe,null,xe)};m.addEventListener("mouseenter",st),m.__steamMouseEnterListener=st}catch(d){console.error("Steam :",d);const h=document.querySelector(".steam-status-widget");if(h){const p=h.querySelector(".steam-status");p&&(p.textContent="",p.className="steam-status error");const m=h.querySelector(".steam-game-info");m&&m.remove()}window.showLive2dNotification&&showLive2dNotification("Steam...",null,L2D_EXPRESSIONS.ANNOYED),l()}}document.addEventListener("visibilitychange",r),["click","keydown","mousemove","scroll","touchstart"].forEach(d=>{document.addEventListener(d,a,{passive:!0})}),document.hidden?console.log(" Steam "):o()}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",go):go();class Qm{constructor(){this.statusHistory=[],this.updateInterval=null,this.userLastActive=Date.now(),this.INACTIVITY_TIMEOUT=5*60*1e3,this.currentTimeRange="1h",this.timeRanges={"1h":{label:"1",minutes:60},"12h":{label:"12",minutes:720},"24h":{label:"1",minutes:1440},"3d":{label:"3",minutes:4320},"7d":{label:"7",minutes:10080}},this.init(),this.setupActivityTracking(),this.setupTimeRangeSelector()}isUserActive(){return Date.now()-this.userLastActive<this.INACTIVITY_TIMEOUT}updateUserActivity(){this.userLastActive=Date.now(),this.updateInterval||this.startUpdates()}setupActivityTracking(){document.addEventListener("visibilitychange",()=>this.handleVisibilityChange()),["click","keydown","mousemove","scroll","touchstart"].forEach(e=>{document.addEventListener(e,()=>this.updateUserActivity())})}handleVisibilityChange(){document.hidden?this.stopUpdates():(this.updateUserActivity(),this.updateInterval||(this.updateInterval=setInterval(()=>{!document.hidden&&this.isUserActive()?this.loadHistory():this.stopUpdates()},6e4),console.log("")))}startUpdates(){this.updateInterval||(this.updateInterval=setInterval(()=>{!document.hidden&&this.isUserActive()?this.loadHistory():this.stopUpdates()},6e4),console.log(""))}stopUpdates(){this.updateInterval&&(clearInterval(this.updateInterval),this.updateInterval=null,console.log(""))}async loadHistory(){try{const e=this.timeRanges[this.currentTimeRange].minutes,n=await fetch(`${API_BASE}/check/status-history?minutes=${e}`);this.statusHistory=await n.json();const s=this.groupLatestStatusesBySite(this.statusHistory);this.updateUI(s),this.updateChart()}catch(e){console.error(":",e),this.updateUIError()}}setupTimeRangeSelector(){const e=document.querySelector(".uptime-chart");if(!e||document.querySelector(".time-range-selector"))return;const n=document.createElement("div");n.className="time-range-selector",Object.entries(this.timeRanges).forEach(([s,i])=>{const a=document.createElement("button");a.textContent=i.label,a.dataset.range=s,a.className=this.currentTimeRange===s?"active":"",a.addEventListener("click",()=>{document.querySelectorAll(".time-range-selector button").forEach(r=>{r.classList.remove("active")}),a.classList.add("active"),this.currentTimeRange=s,this.loadHistory()}),n.appendChild(a)}),e.parentNode.insertBefore(n,e)}groupLatestStatusesBySite(e){const n=new Map;return e.forEach(s=>{(!n.has(s.url)||new Date(s.timestamp)>new Date(n.get(s.url).timestamp))&&n.set(s.url,s)}),Array.from(n.values())}async init(){await this.loadHistory(),this.startUpdates()}updateUI(e){const n=document.querySelector(".site-status-widget");n.innerHTML="",e.forEach(i=>{const a=this.getSiteName(i.url),r=`
                <div class="status-item" data-site="${a}"
                     onmouseenter="this.dispatchEvent(new CustomEvent('site-status-hover', 
                     {detail: {status: '${i.status}', responseTime: ${i.responseTime}, site: '${a}'}}))">
                    <span class="status-label">
                        <i class="fas ${this.getSiteIcon(a)}"></i>
                        ${a}
                    </span>
                    <span class="status-indicator ${i.status} ${a}"></span>
                    <span class="status-response">
                        ${i.responseTime?i.responseTime+"ms":"--"}
                    </span>
                </div>
            `;n.insertAdjacentHTML("beforeend",r)}),document.querySelectorAll(".status-item").forEach(i=>{i.addEventListener("site-status-hover",a=>{const{status:r,responseTime:o,site:l}=a.detail,{message:c,expression:d}=this.getStatusMessage(l,r,o);typeof window.showLive2dNotification=="function"&&window.showLive2dNotification(c,null,d)})});const s=document.querySelector(".last-check span");e.length>0&&(s.textContent=new Date(e[0].timestamp).toLocaleString())}getStatusMessage(e,n,s){const a=(h=>h?h<100?{text:"",expression:L2D_EXPRESSIONS.STARRY_EYES}:h<500?{text:"",expression:null}:h<1e3?{text:"",expression:L2D_EXPRESSIONS.CONFUSED}:h<3e3?{text:"",expression:L2D_EXPRESSIONS.DIZZY}:{text:"...",expression:L2D_EXPRESSIONS.SPEECHLESS}:{text:"",expression:null})(s),r=a.text;let o=a.expression;const c={:{online:[`${s}ms${r}`,`${s}ms${r}`,`${s?`${s}ms${r}`:""}`],offline:{messages:["...","~",""],expression:L2D_EXPRESSIONS.ANNOYED}},:{online:[`${s}ms${r}`,`${s}ms${r}`,`${s?`${s}ms${r}`:""}`],offline:{messages:["~","...","~"],expression:L2D_EXPRESSIONS.SURPRISED}},CDN:{online:[`CDN${s}ms${r}`,`CDN${s}ms${r}`,`CDN${s?`${s}ms${r}`:""}`],offline:{messages:["CDN...","CDN~","CDN~"],expression:L2D_EXPRESSIONS.CONFUSED}}}[e][n.toLowerCase()];let d;return n.toLowerCase()==="online"?d=c[Math.floor(Math.random()*c.length)]:(d=c.messages[Math.floor(Math.random()*c.messages.length)],o=c.expression),{message:d,expression:o}}getSiteName(e){switch(e){case"https://blog.zygame1314.site":return"";case"https://api.zygame1314-666.top":return"";case"https://shell.cdn1.vip":return"CDN";default:return""}}getSiteIcon(e){switch(e){case"":return"fa-home";case"":return"fa-code-branch";case"CDN":return"fa-cloud";default:return"fa-server"}}updateUIError(){const e=document.querySelector(".site-status-widget");e.innerHTML=`
            <div class="status-item">
                <span class="status-label">
                    <i class="fas fa-exclamation-triangle"></i>
                    
                </span>
            </div>
        `,typeof window.showLive2dNotification=="function"&&window.showLive2dNotification("...",null,L2D_EXPRESSIONS.DIZZY)}updateChart(){const e=document.querySelector(".uptime-chart");if(!e)return;e.innerHTML="";const n=document.createElementNS("http://www.w3.org/2000/svg","svg");n.setAttribute("width","100%"),n.setAttribute("height","100%"),n.setAttribute("viewBox","-25 0 330 70"),n.style.padding="5px";for(let a=0;a<6;a++){const r=document.createElementNS("http://www.w3.org/2000/svg","line");r.setAttribute("x1","0"),r.setAttribute("y1",a*10+5),r.setAttribute("x2","290"),r.setAttribute("y2",a*10+5),r.setAttribute("stroke","rgba(255,255,255,0.1)"),r.setAttribute("stroke-width","1"),n.appendChild(r)}const s=Date.now();if(this.generateTimeLabels().forEach((a,r)=>{const o=document.createElementNS("http://www.w3.org/2000/svg","text");o.textContent=a.text,o.setAttribute("x",5+r*70),o.setAttribute("y",68),o.setAttribute("fill","rgba(255,255,255,0.5)"),o.setAttribute("font-size","10"),o.setAttribute("text-anchor","middle"),n.appendChild(o)}),this.statusHistory.length>0){const a=[...this.statusHistory].sort((N,_)=>new Date(_.timestamp)-new Date(N.timestamp)),r={:15,:30,CDN:45},o={:{online:"#2ecc71",offline:"#e74c3c"},:{online:"#3498db",offline:"#e74c3c"},CDN:{online:"#9b59b6",offline:"#e74c3c"}},l=new Map,c=document.createElementNS("http://www.w3.org/2000/svg","path");let d="";const h=s,p=this.timeRanges[this.currentTimeRange].minutes,m=h-p*60*1e3;a.forEach((N,_)=>{const E=new Date(N.timestamp).getTime();if(E<m)return;const T=5+(1-(E-m)/(h-m))*270,B=this.getSiteName(N.url),Y=r[B];l.has(B)?l.set(B,l.get(B)+` L ${T} ${Y}`):l.set(B,`M ${T} ${Y}`);const R=document.createElementNS("http://www.w3.org/2000/svg","circle");R.setAttribute("cx",T),R.setAttribute("cy",Y),R.setAttribute("r","3");const Z=N.status==="online"?o[B].online:o[B].offline;R.setAttribute("fill",Z),R.setAttribute("filter","url(#glow)"),R.setAttribute("class",`status-point ${B}`);let le=this.formatTimeAgo(s-E);const oe=document.createElementNS("http://www.w3.org/2000/svg","title");oe.textContent=`: ${B}
    : ${N.status==="online"?"":""}
    : ${new Date(N.timestamp).toLocaleString()}
    : ${N.responseTime||"--"}ms
    ${le}`,R.appendChild(oe),n.appendChild(R)}),Object.entries(r).forEach(([N,_])=>{const E=document.createElementNS("http://www.w3.org/2000/svg","text");E.textContent=N,E.setAttribute("x","-2"),E.setAttribute("y",_+4),E.setAttribute("fill","rgba(255,255,255,0.5)"),E.setAttribute("font-size","10"),E.setAttribute("text-anchor","end"),n.appendChild(E)}),l.forEach((N,_)=>{const E=document.createElementNS("http://www.w3.org/2000/svg","path");E.setAttribute("d",N),E.setAttribute("stroke","rgba(255,255,255,0.3)"),E.setAttribute("stroke-width","1"),E.setAttribute("fill","none"),E.setAttribute("class",`status-path ${_}`),n.insertBefore(E,n.firstChild)});const b=document.createElementNS("http://www.w3.org/2000/svg","defs"),w=document.createElementNS("http://www.w3.org/2000/svg","filter");w.setAttribute("id","glow"),w.innerHTML=`
                <feGaussianBlur stdDeviation="2" result="coloredBlur"/>
                <feMerge>
                    <feMergeNode in="coloredBlur"/>
                    <feMergeNode in="SourceGraphic"/>
                </feMerge>
            `,b.appendChild(w),n.appendChild(b),c.setAttribute("d",d),c.setAttribute("stroke","rgba(255,255,255,0.3)"),c.setAttribute("stroke-width","1"),c.setAttribute("fill","none"),n.insertBefore(c,n.firstChild)}e.appendChild(n)}generateTimeLabels(){switch(this.timeRanges[this.currentTimeRange].minutes,this.currentTimeRange){case"1h":return[{text:"60",minutes:60},{text:"45",minutes:45},{text:"30",minutes:30},{text:"15",minutes:15},{text:"",minutes:0}].reverse();case"12h":return[{text:"12",minutes:720},{text:"9",minutes:540},{text:"6",minutes:360},{text:"3",minutes:180},{text:"",minutes:0}].reverse();case"24h":return[{text:"24",minutes:1440},{text:"18",minutes:1080},{text:"12",minutes:720},{text:"6",minutes:360},{text:"",minutes:0}].reverse();case"3d":return[{text:"3",minutes:4320},{text:"2",minutes:2880},{text:"1",minutes:1440},{text:"12",minutes:720},{text:"",minutes:0}].reverse();case"7d":return[{text:"7",minutes:10080},{text:"5",minutes:7200},{text:"3",minutes:4320},{text:"1",minutes:1440},{text:"",minutes:0}].reverse();default:return[{text:"60",minutes:60},{text:"45",minutes:45},{text:"30",minutes:30},{text:"15",minutes:15},{text:"",minutes:0}].reverse()}}formatTimeAgo(e){const n=Math.floor(e/1e3),s=Math.floor(n/60),i=Math.floor(s/60),a=Math.floor(i/24);return a>0?`${a}`:i>0?`${i}`:s>0?`${s}`:`${n}`}}document.addEventListener("DOMContentLoaded",()=>{new Qm});document.addEventListener("DOMContentLoaded",function(){const t=document.querySelector(".scripts-list"),e=document.getElementById("refreshScripts"),n=document.getElementById("scripts-search");let s=[];if(!t||!e)return;i(),n&&n.addEventListener("input",function(){a(this.value)}),e.addEventListener("click",function(){this.classList.add("fa-spin"),i().finally(()=>{setTimeout(()=>{this.classList.remove("fa-spin")},500)})});async function i(){t.innerHTML='<div class="scripts-loading">...</div>';try{const d=await fetch(`${API_BASE}/check/scripts`);if(!d.ok)throw new Error(`HTTP error! Status: ${d.status}`);const h=await d.json();if(!h||h.length===0){t.innerHTML='<div class="no-scripts-message"></div>';return}s=h,r(s)}catch(d){console.error("Error loading scripts:",d),t.innerHTML=`<div class="scripts-loading">: ${d.message}</div>`}return Promise.resolve()}function a(d){if(!d){r(s);return}const h=s.filter(p=>p.name.toLowerCase().includes(d.toLowerCase()));r(h)}function r(d){if(t.innerHTML="",d.length===0){t.innerHTML='<div class="no-scripts-message"></div>';return}d.forEach(h=>{const p=o(h);t.appendChild(p)})}function o(d){const h=document.createElement("div");h.className="script-item";const p=l(d.size),m=c(d.uploaded);return h.innerHTML=`
            <div class="script-header">
                <div>
                    <span class="script-name">${d.name}</span>
                    <span class="script-version">v${d.version}</span>
                </div>
                <div class="script-size">${p}</div>
            </div>
            <div class="script-date">: ${m}</div>
            <a href="${d.downloadUrl}" class="script-download" download="${d.key}">
                <i class="fas fa-download download-icon"></i>
                <span></span>
            </a>
        `,h}function l(d){return d<1024?d+" B":d<1024*1024?(d/1024).toFixed(1)+" KB":(d/(1024*1024)).toFixed(1)+" MB"}function c(d){const h=new Date(d);return`${h.getFullYear()}${h.getMonth()+1}${h.getDate()}`}});document.addEventListener("DOMContentLoaded",()=>{Ym()});const Vn=document.querySelector(".sidebar"),Gt=document.getElementById("sidebar-toggle");function Ym(){Gt&&Vn&&(Gt.innerHTML='<i class="fas fa-bars"></i>',Gt.addEventListener("click",function(){Vn.classList.toggle("active"),Vn.classList.contains("active")?(Gt.innerHTML='<i class="fas fa-times"></i>',Gt.style.backgroundColor="#ff4757"):(Gt.innerHTML='<i class="fas fa-bars"></i>',Gt.style.backgroundColor="")}),document.addEventListener("click",function(e){!Vn.contains(e.target)&&!Gt.contains(e.target)&&Vn.classList.contains("active")&&(Vn.classList.remove("active"),Gt.innerHTML='<i class="fas fa-bars"></i>',Gt.style.backgroundColor="")})),Jm(),eg();const t=document.getElementById("quick-nav");if(t){const e=t.querySelector("h3");e&&(e.addEventListener("click",()=>{t.classList.toggle("expanded")}),t.querySelectorAll(".nav-link").forEach(s=>{s.addEventListener("click",()=>{setTimeout(()=>{t.classList.remove("expanded")},1e3)})}))}}function Jm(){const t=document.querySelector("#quick-nav");if(!t)return;const e=Array.from(document.querySelectorAll(".sidebar-content > section")).filter(s=>s.id!=="quick-nav");let n='<h3></h3><ul class="nav-list">';e.forEach(s=>{if(window.getComputedStyle(s).display==="none")return;const i=s.id,a=s.querySelector("h2")?s.querySelector("h2").textContent.trim():i.replace(/-/g," ");let r="fas fa-link";switch(i){case"weather":r="fas fa-cloud-sun";break;case"donate-button-section":r="fas fa-heart";break;case"site-status":r="fas fa-chart-line";break;case"scripts-download":r="fas fa-code";break;case"games":r="fas fa-gamepad";break;case"steam-games":r="fab fa-steam-symbol";break;case"steam-status":r="fas fa-user-circle";break;case"article-network":r="fas fa-project-diagram";break;case"music-player":r="fas fa-music";break;case"live2d-settings":r="fas fa-sliders-h";break;default:r="fas fa-link"}n+=`
            <li class="nav-item">
                <a href="javascript:void(0)" data-target="${i}" class="nav-link">
                    <i class="${r}"></i>
                    <span class="link-text">${a}</span>
                </a>
            </li>
        `}),n+="</ul>",t.innerHTML=n}function eg(){const t=document.getElementById("quick-nav");if(!t)return;const e=t.querySelectorAll(".nav-link"),n=document.querySelectorAll(".sidebar-content > section"),s=document.querySelector(".sidebar-content");e.forEach(i=>{i.addEventListener("click",a=>{a.preventDefault(),a.stopPropagation(),e.forEach(c=>c.classList.remove("active")),i.classList.add("active");const r=i.getAttribute("data-target"),o=document.getElementById(r);if(o&&s){const c=Math.max(0,o.offsetTop-10);s.scrollTo({top:c,behavior:"smooth"})}const l=t;return l.classList.contains("expanded")&&window.innerWidth<=768&&setTimeout(()=>l.classList.remove("expanded"),300),!1})}),s&&n.length&&e.length&&setTimeout(()=>tg(n,e,s),500)}function tg(t,e,n){let s=null;const i=n.scrollTop;if(t.forEach(a=>{a.offsetTop<=i+100&&(s=a)}),i<50&&t.length>0&&!s&&(s=t[0]),s){const a=s.getAttribute("id");e.forEach(r=>{r.classList.remove("active"),r.getAttribute("href")===`#${a}`&&r.classList.add("active")})}else e.forEach(a=>a.classList.remove("active"))}document.addEventListener("DOMContentLoaded",function(){var t=document.getElementById("donate-button"),e=document.getElementById("donate-modal"),n=document.querySelector(".donate-close-button");let s=[],i=1,a=1,r=!1;const o=10;function l(){e.style.display="flex",e.style.justifyContent="center",e.style.alignItems="center",setTimeout(function(){e.classList.add("show")},10)}function c(){e.classList.remove("show"),setTimeout(function(){e.style.display="none"},300)}t.addEventListener("click",l),n.addEventListener("click",c),window.addEventListener("click",function(b){b.target===e&&c()}),document.addEventListener("keydown",function(b){b.key==="Escape"&&e.classList.contains("show")&&c()});function d(){const b=document.getElementById("day-tip"),w=["","","","","","",""],N=new Date,_=N.getDay(),E=N.getFullYear(),$=String(N.getMonth()+1).padStart(2,"0"),T=String(N.getDate()).padStart(2,"0"),B=`${E}-${$}-${T}`,Y=(4-_+7)%7,R={0:["","","",""],1:["","","",""],2:["","","",""],3:["","","",""],4:["","","",""],5:["","","",""],6:["","","",""]},Z=oe=>oe[Math.floor(Math.random()*oe.length)],le=R[_];if(_===4){const oe=["","KFC",""],D=oe[Math.floor(Math.random()*oe.length)];b.innerHTML=`${Z(le)} ${B} ${D}`,b.classList.add("thursday"),b.style.color="#FFD700"}else{const oe=[`v50${Y}`,`${Y}`],D=oe[Math.floor(Math.random()*oe.length)];b.innerHTML=`${Z(le)} ${B} ${w[_]}<br>${D}`,b.classList.remove("thursday")}}function h(b,w=!1){const N=document.querySelector(".donation-list");if(!N)return;if(w||(N.innerHTML="",s=[]),!b||b.length===0){w||(N.innerHTML='<div class="donation-empty"></div>');return}s=s.concat(b),b.forEach((E,$)=>{const T=document.createElement("div");T.className="donation-item",E.amount>=50?T.classList.add("amount-huge"):E.amount>=20?T.classList.add("amount-large"):E.amount>=10?T.classList.add("amount-medium"):T.classList.add("amount-small"),!w&&$===0&&T.classList.add("highlighted");const B=E.platform==="wechat"?'<i class="fab fa-weixin donation-platform wechat"></i>':'<i class="fab fa-alipay donation-platform alipay"></i>';T.innerHTML=`
                <div class="donation-info">
                    <div class="donation-name">${B}${E.name}</div>
                    ${E.message?`<div class="donation-message">${E.message}</div>`:""}
                </div>
                <div class="donation-amount">${E.amount.toFixed(2)}</div>
            `,N.appendChild(T)});const _=N.querySelector(".load-more-container");if(_&&_.remove(),i<a){const E=document.createElement("div");E.className="load-more-container";const $=document.createElement("button");$.className="load-more-button",$.innerHTML='<i class="fas fa-angle-down"></i> ',r&&($.disabled=!0,$.innerHTML='<i class="fas fa-spinner fa-spin"></i> ...'),$.addEventListener("click",function(){m()}),E.appendChild($),N.appendChild(E)}}function p(){const b=document.querySelector(".donation-list");b&&(r=!0,b.innerHTML='<div class="donation-loading">...</div>',fetch(`${API_BASE}/getdata/donations?page=1&limit=${o}`).then(w=>{if(!w.ok)throw new Error("");return w.json()}).then(w=>{if(r=!1,!w.data||w.data.length===0){b.innerHTML='<div class="donation-empty"></div>';return}i=w.pagination.page,a=w.pagination.totalPages,h(w.data,!1)}).catch(w=>{r=!1,console.error(":",w),b.innerHTML='<div class="donation-empty"></div>'}))}function m(){if(r||i>=a)return;r=!0;const b=i+1,w=document.querySelector(".load-more-button");w&&(w.disabled=!0,w.innerHTML='<i class="fas fa-spinner fa-spin"></i> ...'),fetch(`${API_BASE}/getdata/donations?page=${b}&limit=${o}`).then(N=>{if(!N.ok)throw new Error("");return N.json()}).then(N=>{r=!1,N.data&&N.data.length>0&&(i=N.pagination.page,a=N.pagination.totalPages,h(N.data,!0))}).catch(N=>{r=!1,console.error(":",N),w&&(w.disabled=!1,w.innerHTML='<i class="fas fa-angle-down"></i> ')})}d(),p(),setInterval(d,6e4)});class ng{constructor(){this.canvas=document.getElementById("networkCanvas"),this.ctx=this.canvas.getContext("2d"),this.isInitialized=!1,this.isActive=!1,this.nodes=[],this.links=[],this.simulation=null,this.hoveredNode=null,this.pixelSize=2,this.glowIntensity=0,this.glowDirection=1,this.dpr=window.devicePixelRatio||1,this.isDragging=!1,this.selectedNode=null,this.frameInterval=1e3/60,this.particleSystem=[],this.dragStartTime=0,this.lastTouchPosition=null,this.touchStartTime=0,this.dragStartPosition={x:0,y:0},this.titleScaleThreshold=1.2,this.scale=1,this.minScale=.1,this.maxScale=4,this.lastPinchDistance=null,this.offset={x:0,y:0},this.isDraggingCanvas=!1,this.lastMousePosition=null,this.activeCanvas=this.canvas,this.activeCtx=this.ctx,this.maxParticles=100,this.drawTimeout=null,this.minOffset={x:-2e3,y:-2e3},this.maxOffset={x:2e3,y:2e3},this.handleMouseDown=this.handleMouseDown.bind(this),this.handleMouseMove=this.handleMouseMove.bind(this),this.handleMouseUp=this.handleMouseUp.bind(this),this.handleNodeClick=this.handleNodeClick.bind(this),this.handleTouchStart=this.handleTouchStart.bind(this),this.handleTouchMove=this.handleTouchMove.bind(this),this.handleTouchEnd=this.handleTouchEnd.bind(this),this.initCanvas(),this.createOverlay(),this.addFullscreenButton(),this.initFullscreenModal()}loadScript(e){return new Promise((n,s)=>{if(document.querySelector(`script[src="${e}"]`)){n();return}const i=document.createElement("script");i.src=e,i.async=!0,i.onload=()=>n(),i.onerror=a=>s(new Error(`Failed to load script: ${e}. Error: ${a}`)),document.body.appendChild(i)})}createOverlay(){const e=this.canvas.parentElement,n=document.createElement("div");n.className="network-overlay";const s=document.createElement("div");s.className="network-overlay-text",s.innerHTML="";const i=document.createElement("button");i.className="network-start-btn",i.innerHTML='<i class="fas fa-project-diagram" style="margin-right: 8px;"></i>',i.addEventListener("mouseenter",()=>{}),i.addEventListener("click",()=>{i.innerHTML='<i class="fas fa-spinner fa-spin" style="margin-right: 8px;"></i>...',i.disabled=!0,setTimeout(()=>this.initializeNetwork(),800)});const a=document.createElement("div");a.className="network-hint",a.textContent="",n.appendChild(s),n.appendChild(i),n.appendChild(a),this.createBackgroundEffect(n),this.networkOverlay=n,e.appendChild(n)}createBackgroundEffect(e){for(let s=0;s<25;s++){const i=document.createElement("div");i.style.position="absolute",i.style.width="1px",i.style.height="1px",i.style.backgroundColor="rgba(255,255,255,0.3)",i.style.left=`${Math.random()*100}%`,i.style.top=`${Math.random()*100}%`;const a=Math.random()*2+1;i.style.width=`${a}px`,i.style.height=`${a}px`,i.style.animation=`float ${3+Math.random()*5}s infinite ease-in-out`,e.appendChild(i)}}async initializeNetwork(){if(!this.isActive){this.isActive=!0,this.canvas.addEventListener("mousedown",this.handleMouseDown),this.canvas.addEventListener("mousemove",this.handleMouseMove),this.canvas.addEventListener("mouseup",this.handleMouseUp),this.canvas.addEventListener("mouseout",this.handleMouseOut.bind(this)),this.canvas.addEventListener("mouseleave",this.handleMouseOut.bind(this)),this.canvas.addEventListener("touchstart",this.handleTouchStart,{passive:!1}),this.canvas.addEventListener("touchmove",this.handleTouchMove,{passive:!1}),this.canvas.addEventListener("touchend",this.handleTouchEnd),this.canvas.addEventListener("touchcancel",this.handleTouchEnd),this.canvas.addEventListener("wheel",this.handleWheel.bind(this),{passive:!1}),this.networkOverlay.style.opacity="0",this.networkOverlay.style.transform="scale(1.1)",this.networkOverlay.style.transition="opacity 0.7s ease, transform 0.7s ease",setTimeout(()=>{this.networkOverlay.style.display="none"},700);try{await this.loadData()}catch(e){console.error("Failed to initialize network:",e)}this.startAnimationLoop()}}startAnimationLoop(){this.animationInterval=setInterval(()=>{this.glowIntensity+=.05*this.glowDirection,this.glowIntensity>1?(this.glowDirection=-1,this.glowIntensity=1):this.glowIntensity<0&&(this.glowDirection=1,this.glowIntensity=0),this.draw()},50),this.lastParticleTime=Date.now()}addParticle(e,n){const s=Math.random()*Math.PI*2,i=.5+Math.random()*1;this.particleSystem.push({x:e,y:n,vx:Math.cos(s)*i,vy:Math.sin(s)*i,life:1,color:this.getRandomColor(),size:this.pixelSize})}updateParticles(){this.particleSystem.length>this.maxParticles&&this.particleSystem.splice(0,this.particleSystem.length-this.maxParticles);const e=Date.now();if(e-this.lastParticleTime>200){const n=this.nodes[Math.floor(Math.random()*this.nodes.length)];n&&(this.addParticle(n.x,n.y),this.lastParticleTime=e)}this.particleSystem=this.particleSystem.filter(n=>(n.x+=n.vx,n.y+=n.vy,n.life-=.02,n.life>0?(this.drawPixelRect(n.x,n.y,n.size,n.color,n.life),!0):!1))}initCanvas(){const e=()=>{const s=this.canvas.parentElement.getBoundingClientRect();this.canvas.width=s.width*this.dpr,this.canvas.height=s.height*this.dpr,this.canvas.style.width=`${s.width}px`,this.canvas.style.height=`${s.height}px`,this.ctx.scale(this.dpr,this.dpr),this.simulation&&this.simulation.alpha(.3).restart()};e(),window.addEventListener("resize",e)}async loadData(){try{const e=await fetch(`${API_BASE}/article/list`);if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const n=await e.json();await this.loadScript("/js/lib/d3.min.js"),console.log("D3.js loaded successfully."),this.initNetwork(n)}catch(e){console.error("Failed to load data or D3.js:",e),this.networkOverlay.innerHTML='<div class="network-overlay-text" style="color: red;"></div>',this.networkOverlay.style.opacity="1",this.networkOverlay.style.display="flex";const n=this.networkOverlay.querySelector(".network-start-btn");n&&(n.style.display="none")}}initNetwork(e){const n=new Set;e.forEach(s=>{s.tags.forEach(i=>n.add(i))}),this.nodes=e.map(s=>({id:s.id,title:s.title,type:"article",radius:4,color:"#FF6B6B"})),n.forEach(s=>{this.nodes.push({id:s,title:s,type:"tag",radius:6,color:"#4ECDC4"})}),this.links=[],e.forEach(s=>{s.tags.forEach(i=>{this.links.push({source:this.nodes.find(a=>a.id===s.id),target:this.nodes.find(a=>a.id===i),strength:.1})})}),this.simulation=d3.forceSimulation(this.nodes).force("link",d3.forceLink(this.links).strength(s=>s.strength*.8).distance(80)).force("charge",d3.forceManyBody().strength(s=>s.type==="tag"?-250:-120).distanceMax(250)).force("collision",d3.forceCollide().radius(s=>s.radius*3).strength(.5)).velocityDecay(.5).alphaMin(.001).alphaDecay(.02).on("tick",()=>{!this.isInitialized&&this.simulation.alpha()<.1&&(this.fitView(),this.isInitialized=!0),this.throttledDraw()}),this.canvas.addEventListener("mousemove",this.handleMouseMove.bind(this)),this.canvas.addEventListener("mouseout",()=>{this.hoveredNode=null,this.draw()})}fitView(){let e=1/0,n=-1/0,s=1/0,i=-1/0;this.nodes.forEach(m=>{e=Math.min(e,m.x),n=Math.max(n,m.x),s=Math.min(s,m.y),i=Math.max(i,m.y)});const a=n-e,r=i-s,o=this.canvas.width/this.dpr,l=this.canvas.height/this.dpr,c=o*.8/a,d=l*.8/r;this.scale=Math.min(c,d,1);const h=(e+n)/2,p=(s+i)/2;this.offset.x=o/2-h*this.scale,this.offset.y=l/2-p*this.scale,this.draw()}throttledDraw(){this.animationFrameId||(this.animationFrameId=requestAnimationFrame(()=>{this.draw(),this.animationFrameId=null}))}getRandomColor(){const e=["#ff004d","#29adff","#00e436","#ffa300","#ff77a8"];return e[Math.floor(Math.random()*e.length)]}drawPixelRect(e,n,s,i,a=1,r=this.ctx){r.fillStyle=i,r.globalAlpha=a;for(let o=0;o<s;o+=this.pixelSize)for(let l=0;l<s;l+=this.pixelSize)r.fillRect(Math.floor(e-s/2+o),Math.floor(n-s/2+l),this.pixelSize,this.pixelSize);r.globalAlpha=1}drawPixelLine(e,n,s,i,a,r=this.ctx){const o=s-e,l=i-n,c=Math.sqrt(o*o+l*l),d=Math.floor(c/(this.pixelSize*2));for(let h=0;h<=d;h++){const p=e+o*h/d,m=n+l*h/d;r.fillStyle=a,r.fillRect(Math.floor(p),Math.floor(m),this.pixelSize,this.pixelSize)}}addFullscreenButton(){const e=document.createElement("button");e.className="network-fullscreen-btn",e.innerHTML='<i class="fas fa-expand"></i>',this.canvas.parentElement.appendChild(e),e.addEventListener("click",()=>{this.showFullscreen()})}initFullscreenModal(){this.fullscreenModal=document.getElementById("network-modal"),this.fullscreenCanvas=document.getElementById("networkCanvasFullscreen"),this.fullscreenCtx=this.fullscreenCanvas.getContext("2d"),document.querySelector(".network-modal-close").addEventListener("click",()=>{this.hideFullscreen()}),this.fullscreenModal.addEventListener("click",n=>{n.target===this.fullscreenModal&&this.hideFullscreen()}),document.addEventListener("keydown",n=>{n.key==="Escape"&&this.fullscreenModal.style.display==="block"&&this.hideFullscreen()})}showFullscreen(){var s;this.fullscreenModal.style.display="block";const n=document.querySelector(".network-modal-content").getBoundingClientRect();this.fullscreenCanvas.width=n.width*this.dpr,this.fullscreenCanvas.height=n.height*this.dpr,this.fullscreenCanvas.style.width=`${n.width}px`,this.fullscreenCanvas.style.height=`${n.height}px`,this.originalScale=this.scale,this.originalOffset={...this.offset},this.activeCanvas=this.fullscreenCanvas,this.activeCtx=this.fullscreenCtx,this.fullscreenCtx.scale(this.dpr,this.dpr),this.lastPinchDistance=null,this.isDragging=!1,this.isDraggingCanvas=!1,this.lastTouchPosition=null,(s=this.cleanupFullscreenEvents)==null||s.call(this),this.setupFullscreenEvents(),requestAnimationFrame(()=>{let i=1/0,a=-1/0,r=1/0,o=-1/0;this.nodes.forEach(N=>{i=Math.min(i,N.x),a=Math.max(a,N.x),r=Math.min(r,N.y),o=Math.max(o,N.y)});const l=a-i,c=o-r,d=(i+a)/2,h=(r+o)/2,p=this.fullscreenCanvas.width/this.dpr,m=this.fullscreenCanvas.height/this.dpr,b=p*.8/l,w=m*.8/c;this.scale=Math.min(b,w,2),this.offset.x=p/2-d*this.scale,this.offset.y=m/2-h*this.scale,this.draw()})}hideFullscreen(){this.fullscreenModal.classList.add("closing"),setTimeout(()=>{this.fullscreenModal.style.display="none",this.fullscreenModal.classList.remove("closing"),this.activeCanvas=this.canvas,this.activeCtx=this.ctx,this.scale=this.originalScale,this.offset={...this.originalOffset},this.fitView(),typeof this.cleanupFullscreenEvents=="function"&&(this.cleanupFullscreenEvents(),this.cleanupFullscreenEvents=null),this.lastPinchDistance=null,this.isDragging=!1,this.isDraggingCanvas=!1,this.lastTouchPosition=null,this.hoveredNode=null,this.selectedNode=null},300)}setupFullscreenEvents(){this.cleanupFullscreenEvents&&this.cleanupFullscreenEvents();const e=new Map;[["mousedown",this.handleMouseDown],["mousemove",this.handleMouseMove],["mouseup",this.handleMouseUp],["wheel",this.handleWheel],["touchstart",this.handleTouchStart],["touchmove",this.handleTouchMove],["touchend",this.handleTouchEnd],["touchcancel",this.handleTouchEnd],["mouseout",this.handleMouseOut],["mouseleave",this.handleMouseOut]].forEach(([s,i])=>{const a=i.bind(this);e.set(s,a);const r=["touchstart","touchmove","wheel"].includes(s)?{passive:!1}:void 0;this.fullscreenCanvas.addEventListener(s,a,r)}),this.cleanupFullscreenEvents=()=>{e.forEach((s,i)=>{this.fullscreenCanvas.removeEventListener(i,s)}),e.clear()}}draw(){const e=(n,s)=>{const i=n.width/this.dpr,a=n.height/this.dpr;s.clearRect(0,0,i,a),s.save(),s.translate(this.offset.x,this.offset.y),s.scale(this.scale,this.scale),this.links.forEach(o=>{this.drawPixelLine(o.source.x,o.source.y,o.target.x,o.target.y,"rgba(255,255,255,0.15)",s)}),this.links.forEach(o=>{const l=Date.now()%2e3/2e3;this.drawAnimatedLine(o.source.x,o.source.y,o.target.x,o.target.y,l,s)}),this.updateParticles(s),this.nodes.forEach(o=>{const l=o.type==="tag"?12:8,c=o.color;if(o===this.hoveredNode&&(this.drawPixelRect(o.x,o.y,l+6,c,.2+this.glowIntensity*.3,s),this.drawPixelRect(o.x,o.y,l+4,c,.3+this.glowIntensity*.3,s)),this.hoveredNode){const d=this.links.some(h=>h.source===this.hoveredNode&&h.target===o||h.target===this.hoveredNode&&h.source===o);this.drawPixelRect(o.x,o.y,l,d||o===this.hoveredNode?"#fff":c,d||o===this.hoveredNode?1:.6,s)}else this.drawPixelRect(o.x,o.y,l,c,1,s)});const r=this.nodes.filter(o=>this.scale>=this.titleScaleThreshold&&o.type==="article"||o.type==="tag"||o===this.hoveredNode);this.calculateLabelPositions(r,s),r.sort((o,l)=>o===this.hoveredNode?1:l===this.hoveredNode?-1:0).forEach(o=>{this.drawNodeLabel(o,s)}),s.restore()};e(this.canvas,this.ctx),this.fullscreenModal&&this.fullscreenModal.style.display==="block"&&e(this.fullscreenCanvas,this.fullscreenCtx)}calculateLabelPositions(e,n){const s=[{x:0,y:-15},{x:0,y:20},{x:-20,y:0},{x:20,y:0},{x:-15,y:-15},{x:15,y:-15},{x:-15,y:15},{x:15,y:15}],i=new Map;[...e].sort((r,o)=>r===this.hoveredNode?-1:o===this.hoveredNode?1:0).forEach(r=>{const o=r.type==="tag"?10:14;n.font=`${o}px "zpix"`;const l=n.measureText(r.title).width,c=o+2;if(r.labelOffset&&!(r===this.hoveredNode&&!r.wasHovered)){const m={x:r.x+r.labelOffset.x-l/2,y:r.y+r.labelOffset.y-c,width:l,height:c};i.set(r.id,m);return}let d=null,h=1/0;for(const m of s){const b=r.x+m.x,w=r.y+m.y,N={x:b-l/2,y:w-c,width:l,height:c};let _=0;for(const[,E]of i)this.rectsOverlap(N,E)&&(_+=this.calculateOverlap(N,E));_<h&&(h=_,d=m)}r.labelOffset=d||s[0],r.wasHovered=r===this.hoveredNode;const p={x:r.x+r.labelOffset.x-l/2,y:r.y+r.labelOffset.y-c,width:l,height:c};i.set(r.id,p)})}rectsOverlap(e,n){return!(e.x+e.width<n.x||n.x+n.width<e.x||e.y+e.height<n.y||n.y+n.height<e.y)}calculateOverlap(e,n){const s=Math.max(0,Math.min(e.x+e.width,n.x+n.width)-Math.max(e.x,n.x)),i=Math.max(0,Math.min(e.y+e.height,n.y+n.height)-Math.max(e.y,n.y));return s*i}drawNodeLabel(e,n){var r,o;const s=e.type==="tag"?10:14;n.font=`${s}px "zpix"`,n.textAlign="center";const i=((r=e.labelOffset)==null?void 0:r.x)||0,a=((o=e.labelOffset)==null?void 0:o.y)||-15;e.type==="article"?(n.strokeStyle="#000",n.lineWidth=3,n.strokeText(e.title,e.x+i,e.y+a),n.fillStyle=e===this.hoveredNode?"#FFE166":"#7BFFF0"):n.fillStyle=e===this.hoveredNode?"#FFE166":"#fff",n.fillText(e.title,e.x+i,e.y+a),e===this.hoveredNode&&(n.shadowColor="#fff",n.shadowBlur=10,n.fillText(e.title,e.x+i,e.y+a),n.shadowBlur=0)}drawTooltip(e){const s=e.title;this.ctx.font="12px Arial";const a=this.ctx.measureText(s).width+5*2,r=20;let o=e.x-a/2,l=e.y-r-10;this.ctx.fillStyle="rgba(0,0,0,0.8)",this.ctx.roundRect(o,l,a,r,5),this.ctx.fill(),this.ctx.fillStyle="#fff",this.ctx.fillText(s,o+5,l+14)}drawAnimatedLine(e,n,s,i,a,r=this.ctx){const o=s-e,l=i-n,c=Math.sqrt(o*o+l*l),d=Math.floor(c/(this.pixelSize*2));for(let h=0;h<=d;h++){const p=h/d;if(Math.abs(p-a)<.1){const m=e+o*h/d,b=n+l*h/d;r.fillStyle="#ffffff",r.globalAlpha=1-Math.abs(p-a)*10,r.fillRect(Math.floor(m),Math.floor(b),this.pixelSize*2,this.pixelSize*2),r.globalAlpha=1}}}resetDragState(){this.selectedNode&&(this.selectedNode.fx=null,this.selectedNode.fy=null),this.isDragging=!1,this.isDraggingCanvas=!1,this.lastMousePosition=null,this.lastTouchPosition=null,this.selectedNode=null,this.hoveredNode=null,this.simulation.alphaTarget(0)}handleMouseDown(e){const n=e.target,s=n.getBoundingClientRect(),i=(e.clientX-s.left-this.offset.x)/this.scale,a=(e.clientY-s.top-this.offset.y)/this.scale;n===this.activeCanvas&&(this.hoveredNode=this.nodes.find(r=>{const o=i-r.x,l=a-r.y;return Math.sqrt(o*o+l*l)<r.radius*2}),this.hoveredNode?(this.isDragging=!0,this.selectedNode=this.hoveredNode,this.dragStartTime=Date.now(),this.dragStartPosition={x:e.clientX-s.left,y:e.clientY-s.top},this.simulation.alphaTarget(.3).restart()):(this.isDraggingCanvas=!0,this.lastMousePosition={x:e.clientX,y:e.clientY}))}handleMouseMove(e){const n=e.target;if(n!==this.activeCanvas)return;if(this.isDraggingCanvas&&this.lastMousePosition){const o=e.clientX-this.lastMousePosition.x,l=e.clientY-this.lastMousePosition.y;this.offset.x+=o,this.offset.y+=l,this.lastMousePosition={x:e.clientX,y:e.clientY},this.draw();return}const s=n.getBoundingClientRect(),i=(e.clientX-s.left-this.offset.x)/this.scale,a=(e.clientY-s.top-this.offset.y)/this.scale;if(!this.isDragging){const o=this.hoveredNode;this.hoveredNode=this.nodes.find(l=>{const c=i-l.x,d=a-l.y;return Math.sqrt(c*c+d*d)<l.radius*2}),o!==this.hoveredNode&&(o&&(o.wasHovered=!1),this.hoveredNode&&(this.hoveredNode.wasHovered=!0))}this.isDragging&&this.selectedNode&&(this.selectedNode.fx=i,this.selectedNode.fy=a,this.simulation.alpha(.3).restart()),this.draw();const r=this.hoveredNode?`url('${encodeURI("https://bucket.zygame1314.site/static/images/cursors/Rath Link.cur")}'), pointer`:this.isDraggingCanvas?`url('${encodeURI("https://bucket.zygame1314.site/static/images/cursors/RTON move.cur")}'), grabbing`:`url('${encodeURI("https://bucket.zygame1314.site/static/images/cursors/RTON move.cur")}'), grab`;this.activeCanvas.style.cursor=r}handleMouseUp(e){const n=e.target;if(n!==this.activeCanvas)return;if(this.isDraggingCanvas){this.isDraggingCanvas=!1,this.lastMousePosition=null;return}const i=Date.now()-this.dragStartTime;if(this.selectedNode){const a=n.getBoundingClientRect(),r=e.clientX-a.left,o=e.clientY-a.top,l=r-this.dragStartPosition.x,c=o-this.dragStartPosition.y,d=Math.sqrt(l*l+c*c);i<200&&d<5&&this.handleNodeClick(this.selectedNode);const h=this.selectedNode.vx,p=this.selectedNode.vy;this.selectedNode.fx=null,this.selectedNode.fy=null,this.selectedNode.vx=h,this.selectedNode.vy=p}this.isDragging=!1,this.selectedNode=null,this.simulation.alphaTarget(0)}handleMouseOut(){this.resetDragState(),this.draw()}handleWheel(e){e.preventDefault();const n=this.activeCanvas.getBoundingClientRect(),s=e.clientX-n.left,i=e.clientY-n.top,a=(s-this.offset.x)/this.scale,r=(i-this.offset.y)/this.scale,o=.1,l=e.deltaY>0?1-o:1+o,c=Math.max(this.minScale,Math.min(this.maxScale,this.scale*l));this.offset.x=s-a*c,this.offset.y=i-r*c,this.scale=c,this.draw()}handleTouchStart(e){const n=e.target;if(n===this.activeCanvas){if(e.preventDefault(),e.touches.length===2){const s=e.touches[0],i=e.touches[1];this.lastPinchDistance=Math.hypot(i.clientX-s.clientX,i.clientY-s.clientY)}else if(e.touches.length===1){const s=e.touches[0],i=n.getBoundingClientRect(),a=(s.clientX-i.left-this.offset.x)/this.scale,r=(s.clientY-i.top-this.offset.y)/this.scale;this.touchStartNode=this.nodes.find(o=>{const l=a-o.x,c=r-o.y;return Math.sqrt(l*l+c*c)<o.radius*2}),this.touchStartNode?(this.isDragging=!0,this.selectedNode=this.touchStartNode,this.touchStartTime=Date.now(),this.dragStartPosition={x:s.clientX-i.left,y:s.clientY-i.top}):(this.isDraggingCanvas=!0,this.lastTouchPosition={x:s.clientX,y:s.clientY})}}}handleTouchMove(e){const n=e.target;if(n===this.activeCanvas){if(e.preventDefault(),e.touches.length===2){const s=e.touches[0],i=e.touches[1],a=Math.hypot(i.clientX-s.clientX,i.clientY-s.clientY);if(this.lastPinchDistance!==null){const r=n.getBoundingClientRect(),o=(s.clientX+i.clientX)/2-r.left,l=(s.clientY+i.clientY)/2-r.top,c=(o-this.offset.x)/this.scale,d=(l-this.offset.y)/this.scale,m=1+(a/this.lastPinchDistance-1)*.5,b=Math.max(this.minScale,Math.min(this.maxScale,this.scale*m));this.offset.x=o-c*b,this.offset.y=l-d*b,this.scale=b,this.draw()}this.lastPinchDistance=a}else if(e.touches.length===1){const s=e.touches[0],i=n.getBoundingClientRect(),a=(s.clientX-i.left-this.offset.x)/this.scale,r=(s.clientY-i.top-this.offset.y)/this.scale;if(!this.isDragging&&!this.isDraggingCanvas&&(this.hoveredNode=this.nodes.find(o=>{const l=a-o.x,c=r-o.y;return Math.sqrt(l*l+c*c)<o.radius*2})),this.isDraggingCanvas&&this.lastTouchPosition){const o=s.clientX-this.lastTouchPosition.x,l=s.clientY-this.lastTouchPosition.y;this.offset.x+=o,this.offset.y+=l,this.lastTouchPosition={x:s.clientX,y:s.clientY},this.draw()}else if(this.isDragging&&this.selectedNode){const o=(s.clientX-i.left-this.offset.x)/this.scale,l=(s.clientY-i.top-this.offset.y)/this.scale;this.selectedNode.fx=o,this.selectedNode.fy=l,this.hoveredNode=this.selectedNode,this.simulation.alpha(.3).restart(),this.draw()}}this.offset.x=Math.max(this.minOffset.x,Math.min(this.maxOffset.x,this.offset.x)),this.offset.y=Math.max(this.minOffset.y,Math.min(this.maxOffset.y,this.offset.y)),this.drawTimeout&&clearTimeout(this.drawTimeout),this.drawTimeout=setTimeout(()=>this.draw(),16)}}handleTouchEnd(e){this.touchStartNode&&Date.now()-this.touchStartTime<300&&Math.abs(e.changedTouches[0].clientX-(this.dragStartPosition.x+this.activeCanvas.getBoundingClientRect().left))<10&&Math.abs(e.changedTouches[0].clientY-(this.dragStartPosition.y+this.activeCanvas.getBoundingClientRect().top))<10&&this.handleNodeClick(this.touchStartNode),this.resetDragState(),this.touchStartNode=null,this.hoveredNode=null,this.draw()}async handleNodeClick(e){if(e.type==="article"){const i=(await(await fetch("/article/list")).json()).find(a=>a.id===e.id);if(i){const a=window.articlesManager;a&&await a.showArticle(i)}}}}document.addEventListener("DOMContentLoaded",()=>{if(window.innerWidth<1200){console.log("");const t=document.getElementById("article-network-container");t&&(t.innerHTML='<p style="text-align: center; padding: 20px; color: var(--text-color-secondary);"></p>');return}window.articleNetwork=new ng});class sg{constructor(){this.audio=new Audio,this.audio.crossOrigin="anonymous",this.isPlaying=!1,this.currentSong=0,this.songs=[],this.isLoaded=!1,this.originalSongs=[],this.shuffledQueue=[],this.loopMode="none",this.isShuffled=!1,this.volume=1,this.initializeElements(),this.setupAudioAnalyzer(),this.createVisualizer(),this.setupMobileLayout(),this.loadPlaylist().then(()=>{this.initializePlaylist(),this.addEventListeners(),this.updateLoopButton(),this.updateUIForSong(this.currentSong)})}isMobileDevice(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||window.innerWidth<=1200}setupMobileLayout(){this.isMobileDevice()&&(this.leftVisualizer&&(this.leftVisualizer.style.display="none"),this.rightVisualizer&&(this.rightVisualizer.style.display="none"),this.setupTouchEvents(),this.progress.classList.add("mobile-progress"),this.volumeSlider.classList.add("mobile-volume"),document.querySelector(".music-player").classList.add("mobile-player"))}setupTouchEvents(){this.progress.addEventListener("touchstart",n=>{n.preventDefault();const s=n.touches[0],i=this.progress.getBoundingClientRect(),a=s.clientX-i.left;this.setProgress({offsetX:a,clientX:s.clientX});const r=l=>{l.preventDefault();const c=l.touches[0],d=this.progress.getBoundingClientRect(),h=c.clientX-d.left;this.setProgress({offsetX:h,clientX:c.clientX})},o=()=>{document.removeEventListener("touchmove",r),document.removeEventListener("touchend",o)};document.addEventListener("touchmove",r,{passive:!1}),document.addEventListener("touchend",o)},{passive:!1}),this.volumeSlider.addEventListener("touchstart",n=>{n.preventDefault();const s=n.touches[0];this.setVolume({clientX:s.clientX});const i=r=>{r.preventDefault();const o=r.touches[0];this.setVolume({clientX:o.clientX})},a=()=>{document.removeEventListener("touchmove",i),document.removeEventListener("touchend",a)};document.addEventListener("touchmove",i,{passive:!1}),document.addEventListener("touchend",a)},{passive:!1});let e=0;this.coverImg.addEventListener("touchstart",n=>{e=n.touches[0].clientX},{passive:!0}),this.coverImg.addEventListener("touchend",n=>{const i=n.changedTouches[0].clientX-e;i<-50?this.nextSong():i>50&&this.prevSong()},{passive:!0})}async loadPlaylist(){try{const e=await fetch(`${API_BASE}/getdata/playlist`);if(!e.ok)throw console.error(`Failed to load playlist. Status: ${e.status}`),new Error("Failed to load playlist");const n=await e.json();this.songs=n.songs.map(s=>({...s})),this.originalSongs=[...this.songs]}catch(e){console.error("Error loading playlist:",e),this.songs=[{title:"",artist:"",path:""}],this.originalSongs=[...this.songs]}}initializeElements(){this.playBtn=document.querySelector("#play-btn"),this.prevBtn=document.querySelector("#prev-btn"),this.nextBtn=document.querySelector("#next-btn"),this.songTitle=document.querySelector(".song-title"),this.artist=document.querySelector(".artist"),this.progress=document.querySelector(".music-progress"),this.progressBar=document.querySelector(".music-progress-bar"),this.currentTimeEl=document.querySelector(".current-time"),this.totalTimeEl=document.querySelector(".total-time"),this.coverImg=document.querySelector(".cover-img"),this.loopBtn=document.querySelector("#loop-btn"),this.shuffleBtn=document.querySelector("#shuffle-btn"),this.playlistBtn=document.querySelector("#playlist-btn"),this.playlistContainer=document.querySelector(".playlist-container"),this.volumeSlider=document.querySelector(".volume-slider"),this.volumeProgress=document.querySelector(".volume-progress"),this.volumeIcon=document.querySelector(".volume-icon"),this.ytLinkContainer=document.querySelector(".yt-link")}addEventListeners(){this.playBtn.addEventListener("click",()=>this.togglePlay()),this.prevBtn.addEventListener("click",()=>this.prevSong()),this.nextBtn.addEventListener("click",()=>this.nextSong()),this.audio.addEventListener("timeupdate",()=>this.updateProgress()),this.audio.addEventListener("ended",()=>this.nextSong()),this.loopBtn.addEventListener("click",()=>this.toggleLoop()),this.shuffleBtn.addEventListener("click",()=>this.toggleShuffle()),this.playlistBtn.addEventListener("click",()=>this.togglePlaylist()),this.volumeIcon.addEventListener("click",()=>this.toggleMute());let e=!1;this.progress.addEventListener("mousedown",s=>{e=!0;const i=this.progress.getBoundingClientRect(),a=s.clientX-i.left;this.setProgress({offsetX:a,clientX:s.clientX});const r=l=>{if(e){const c=this.progress.getBoundingClientRect(),d=l.clientX-c.left;this.setProgress({offsetX:d,clientX:l.clientX})}},o=()=>{e=!1,document.removeEventListener("mousemove",r),document.removeEventListener("mouseup",o)};document.addEventListener("mousemove",r),document.addEventListener("mouseup",o)});let n=!1;this.volumeSlider.addEventListener("mousedown",s=>{n=!0,this.setVolume(s);const i=r=>{n&&this.setVolume(r)},a=()=>{n=!1,document.removeEventListener("mousemove",i),document.removeEventListener("mouseup",a)};document.addEventListener("mousemove",i),document.addEventListener("mouseup",a)})}updateUIForSong(e){const n=this.songs[e];if(this.songTitle.textContent=n.title,this.artist.textContent=n.artist,n.ytLink?(this.ytLinkContainer.innerHTML=`
                <a href="${n.ytLink}" target="_blank" rel="noopener noreferrer">
                    <i class="fab fa-youtube"></i>
                    
                </a>
            `,this.ytLinkContainer.style.display="block"):this.ytLinkContainer.style.display="none",n.cover?(this.coverImg.setAttribute("data-src",n.cover),this.coverImg.classList.remove("lazy-initialized","lazy-loaded","lazy-error"),this.coverImg.classList.add("lazy-placeholder"),this.coverImg.src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",this.coverImg.style.display="block"):(this.coverImg.setAttribute("data-src","https://bucket.zygame1314.site/static/images/default-album-cover.webp"),this.coverImg.classList.remove("lazy-initialized","lazy-loaded","lazy-error"),this.coverImg.classList.add("lazy-placeholder"),this.coverImg.src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="),this.coverImg.onerror=()=>{console.error(`: ${this.coverImg.getAttribute("data-src")}`),this.coverImg.setAttribute("data-src","https://bucket.zygame1314.site/static/images/default-album-cover.webp"),this.coverImg.classList.add("default-cover");const s=new Image;s.onload=()=>{this.coverImg.src="https://bucket.zygame1314.site/static/images/default-album-cover.webp",this.coverImg.classList.remove("lazy-placeholder"),this.coverImg.classList.add("lazy-loaded")},s.src="https://bucket.zygame1314.site/static/images/default-album-cover.webp"},window.reinitializeLazyLoad)setTimeout(()=>window.reinitializeLazyLoad(),50);else{const s=new Image;s.onload=()=>{this.coverImg.src=this.coverImg.getAttribute("data-src"),this.coverImg.classList.remove("lazy-placeholder"),this.coverImg.classList.add("lazy-loaded")},s.src=this.coverImg.getAttribute("data-src")}this.updatePlaylistActive()}loadSong(e){this.updateUIForSong(e),this.audio.src=this.songs[e].path,this.audio.crossOrigin="anonymous",this.isLoaded=!1,this.audio.load()}togglePlay(){this.isPlaying?this.pauseSong():this.playSong()}setupAudioAnalyzer(){this.audioContext=new(window.AudioContext||window.webkitAudioContext),this.analyser=this.audioContext.createAnalyser(),this.analyser.fftSize=256,this.analyser.smoothingTimeConstant=.8,this.dataArray=new Uint8Array(this.analyser.frequencyBinCount),this.source=this.audioContext.createMediaElementSource(this.audio),this.source.connect(this.analyser),this.analyser.connect(this.audioContext.destination)}createVisualizer(){this.isMobileDevice()||(this.createSpectrum("left"),this.createSpectrum("right"),this.animateRhythm())}createSpectrum(e){const n=document.createElement("div");n.className=`audio-visualizer ${e}`;const s="http://www.w3.org/2000/svg",i=document.createElementNS(s,"svg");i.setAttribute("class","spectrum-svg");const a=document.createElementNS(s,"path");a.setAttribute("class","spectrum-path"),i.appendChild(a),n.appendChild(i),document.body.appendChild(n),this[`${e}Visualizer`]=n,this[`${e}Path`]=a}frequencyToColor(e,n,s){const i=e/n*360,a=90,r=Math.min(40+s/255*40,80);return`hsl(${i}, ${a}%, ${r}%)`}animateRhythm(){const e=()=>{this.isPlaying&&!this.isMobileDevice()?(this.analyser.getByteFrequencyData(this.dataArray),this.updateSpectrum("left",this.leftPath),this.updateSpectrum("right",this.rightPath)):(this.leftPath&&this.resetSpectrum("left",this.leftPath),this.rightPath&&this.resetSpectrum("right",this.rightPath)),requestAnimationFrame(e)};e()}updateSpectrum(e,n){if(!n)return;const s=this[`${e}Visualizer`];if(!s)return;const{width:i,height:a}=s.getBoundingClientRect(),r=this.analyser.frequencyBinCount;let o="";if(e==="left"){o=`M 0,${a}`;for(let l=0;l<r;l++){const c=l/r*a,d=this.dataArray[l]/255*i;o+=` L ${d},${a-c}`}o+=" L 0,0 Z"}else{o=`M ${i},${a}`;for(let l=0;l<r;l++){const c=l/r*a,d=this.dataArray[l]/255*i;o+=` L ${i-d},${a-c}`}o+=` L ${i},0 Z`}n.setAttribute("d",o)}resetSpectrum(e,n){if(!n)return;const s=this[`${e}Visualizer`];if(!s)return;const{width:i,height:a}=s.getBoundingClientRect();let r="";e==="left"?r=`M 0,${a} L 0,0 Z`:r=`M ${i},${a} L ${i},0 Z`,n.setAttribute("d",r)}async playSong(){try{if(this.audio.src||this.loadSong(this.currentSong),this.audioContext.state==="suspended"&&await this.audioContext.resume(),!this.isLoaded){await new Promise(n=>{const s=()=>{this.audio.removeEventListener("canplay",s),n()};this.audio.readyState>=2?n():this.audio.addEventListener("canplay",s)});const e=this.songs[this.currentSong];e.comment&&window.showLive2dNotification&&window.showLive2dNotification(e.comment,null,e.expression||null),this.isLoaded=!0}this.isPlaying=!0,this.playBtn.innerHTML='<i class="fas fa-pause"></i>',this.isMobileDevice()||(this.leftVisualizer&&(this.leftVisualizer.style.display="flex"),this.rightVisualizer&&(this.rightVisualizer.style.display="flex")),await this.audio.play()}catch(e){console.error(":",e),this.isPlaying=!1,this.playBtn.innerHTML='<i class="fas fa-play"></i>'}}pauseSong(){this.isPlaying=!1,this.playBtn.innerHTML='<i class="fas fa-play"></i>',this.audio.pause()}initializePlaylist(){const e=document.querySelector(".playlist");this.songs.forEach((n,s)=>{const i=document.createElement("li");i.textContent=`${n.title} - ${n.artist}`,i.addEventListener("click",()=>{this.currentSong=s,this.loadSong(s),this.playSong(),this.updatePlaylistActive()}),e.appendChild(i)})}updatePlaylistActive(){document.querySelectorAll(".playlist li").forEach((n,s)=>{n.classList.toggle("active",s===this.currentSong)})}toggleLoop(){const e=["none","one","all"],n=e.indexOf(this.loopMode);this.loopMode=e[(n+1)%e.length],this.updateLoopButton()}updateLoopButton(){const e={none:'<i class="fas fa-sync"></i>',one:'<i class="fas fa-sync"></i><span class="loop-one-indicator">1</span>',all:'<i class="fas fa-sync-alt"></i>'};this.loopBtn.innerHTML=e[this.loopMode],this.loopBtn.classList.remove("mode-none","mode-one","mode-all"),this.loopBtn.classList.add(`mode-${this.loopMode}`),this.loopBtn.title=`: ${{none:"",one:"",all:""}[this.loopMode]}`}createShuffleQueue(){this.shuffledQueue=[...Array(this.songs.length).keys()];for(let e=this.shuffledQueue.length-1;e>0;e--){const n=Math.floor(Math.random()*(e+1));[this.shuffledQueue[e],this.shuffledQueue[n]]=[this.shuffledQueue[n],this.shuffledQueue[e]]}}toggleShuffle(){if(this.isShuffled=!this.isShuffled,this.shuffleBtn.classList.toggle("active",this.isShuffled),this.isShuffled){this.createShuffleQueue();const e=this.shuffledQueue.indexOf(this.currentSong);e!==-1&&(this.shuffledQueue.splice(e,1),this.shuffledQueue.unshift(this.currentSong))}}togglePlaylist(){this.playlistContainer.classList.toggle("show")}setVolume(e){const n=this.volumeSlider.getBoundingClientRect(),s=(e.clientX-n.left)/n.width;this.volume=Math.max(0,Math.min(1,s)),this.updateVolume()}updateVolume(){this.audio.volume=this.volume,this.volumeProgress.style.width=`${this.volume*100}%`,this.volumeIcon.className=`fas fa-volume-${this.volume===0?"mute":this.volume<.5?"down":"up"}`}toggleMute(){this.audio.volume>0?(this.lastVolume=this.volume,this.volume=0):this.volume=this.lastVolume||1,this.updateVolume()}prevSong(){if(this.isShuffled){const n=(this.shuffledQueue.indexOf(this.currentSong)-1+this.shuffledQueue.length)%this.shuffledQueue.length;this.currentSong=this.shuffledQueue[n]}else this.currentSong=(this.currentSong-1+this.songs.length)%this.songs.length;this.isLoaded=!1,this.loadSong(this.currentSong),this.isPlaying&&this.playSong()}nextSong(){if(this.loopMode==="one"){this.audio.currentTime=0,this.playSong();return}if(this.isShuffled){const n=(this.shuffledQueue.indexOf(this.currentSong)+1)%this.shuffledQueue.length;this.currentSong=this.shuffledQueue[n],n===0&&this.loopMode==="all"&&this.createShuffleQueue()}else this.currentSong=(this.currentSong+1)%this.songs.length;if(this.loopMode==="none"&&this.currentSong===0){this.loadSong(0),this.pauseSong();return}this.isLoaded=!1,this.loadSong(this.currentSong),this.isPlaying&&this.playSong()}updateProgress(){const{duration:e,currentTime:n}=this.audio,s=n/e*100;this.progressBar.style.width=`${s}%`,this.currentTimeEl.textContent=this.formatTime(n),e&&(this.totalTimeEl.textContent=this.formatTime(e))}setProgress(e){const n=this.progress.getBoundingClientRect();let s;if(typeof e.offsetX=="number"&&e.target===this.progress)s=e.offsetX;else if(typeof e.clientX=="number")s=e.clientX-n.left;else return;const i=n.width;if(i>0&&this.audio.duration&&!isNaN(this.audio.duration)){let a=s/i*this.audio.duration;a=Math.max(0,Math.min(a,this.audio.duration)),this.audio.currentTime=a}}formatTime(e){const n=Math.floor(e/60),s=Math.floor(e%60);return`${n}:${s.toString().padStart(2,"0")}`}}document.addEventListener("DOMContentLoaded",()=>{new sg});document.addEventListener("DOMContentLoaded",function(){const t=document.getElementById("live2d-display"),e=document.getElementById("text-box-display"),n=document.getElementById("L2dCanvas"),s=document.getElementById("live2d-text-box"),i=localStorage.getItem("live2dDisplay")!=="false",a=localStorage.getItem("textBoxDisplay")!=="false";t.checked=i,e.checked=a,n.style.display=i?"":"none",s.style.display=a?"":"none",t.addEventListener("change",function(){n.style.display=this.checked?"":"none",localStorage.setItem("live2dDisplay",this.checked)}),e.addEventListener("change",function(){s.style.display=this.checked?"":"none",localStorage.setItem("textBoxDisplay",this.checked)})});document.getElementById("visit-count").addEventListener("click",function(){showNotification(" + 3 ()",3,"success")});document.addEventListener("scroll",function(){(window.scrollY||document.documentElement.scrollTop)>80?document.body.classList.add("nav-fixed"):document.body.classList.remove("nav-fixed")});document.addEventListener("DOMContentLoaded",function(){const t=document.querySelector(".visit-counter-widget"),e=70;function n(){const o=document.querySelector('nav:not([style*="display: none"])');if(!o)return;const l=o.getBoundingClientRect(),c=o.offsetHeight;l.top<=0?t.style.top=c+e+"px":t.style.top="50px"}window.addEventListener("scroll",function(){requestAnimationFrame(n)});const s=new MutationObserver(function(o){o.forEach(function(l){l.type==="attributes"&&l.attributeName==="style"&&n()})});document.querySelectorAll("nav").forEach(o=>{s.observe(o,{attributes:!0,attributeFilter:["style"]})}),n(),window.addEventListener("load",Ls),Ls();const i=document.createElement("button");i.id="toggle-widget-btn",i.className="button-style",i.innerText="",i.addEventListener("click",()=>{t.classList.contains("folded")?(t.classList.remove("folded"),i.innerText=""):(t.classList.add("folded"),i.innerText="")}),t.appendChild(i),document.querySelector(".visit-counter-card").addEventListener("transitionend",o=>{o.propertyName==="transform"&&Ls()});const r=document.querySelector(".visit-counter-widget");r&&r.addEventListener("click",function(o){if(o.target.closest("a.scroll-to-scripts")){o.preventDefault(),o.stopPropagation();const d=document.querySelector(".sidebar-content"),h=document.querySelector("#scripts-download");if(d&&h){const p=document.querySelector(".sidebar");if(p&&!p.classList.contains("active")&&window.innerWidth<=768){const m=document.getElementById("sidebar-toggle");m&&m.click(),setTimeout(()=>{d.scrollTo({top:h.offsetTop-10,behavior:"smooth"})},300)}else d.scrollTo({top:h.offsetTop-10,behavior:"smooth"})}return}if(o.target.closest("a.scroll-to-contact")){o.preventDefault(),o.stopPropagation();const d=document.querySelector("#contact");d&&d.scrollIntoView({behavior:"smooth",block:"start"});return}})});function Ls(){const t=document.querySelector(".card-front"),e=document.querySelector(".card-back"),n=document.querySelector(".visit-counter-widget"),s=document.querySelector(".visit-counter-card"),r=(n.classList.contains("flipped")?e:t).scrollHeight,l=Math.min(r,500);s.style.height=`${l}px`,n.style.height=`${l}px`}document.getElementById("flip-card").addEventListener("click",function(){document.querySelector(".visit-counter-widget").classList.add("flipped")});document.getElementById("flip-back").addEventListener("click",function(){document.querySelector(".visit-counter-widget").classList.remove("flipped")});function ig(){const t=document.querySelector(".visit-counter-widget"),e=document.querySelector(".card-back");t.classList.add("flipped"),e.innerHTML=`
        <p id="visit-count">
            : <span class="waline-pageview-count">0</span>
        </p>
        <div class="button-container">
            <button id="back-to-home" class="button-style"></button>
        </div>
    `,document.getElementById("back-to-home").addEventListener("click",()=>{document.querySelector(".back-btn").click()})}function ag(){const t=document.querySelector(".card-front"),e=document.querySelector(".card-back");t.innerHTML=`
        <div class="activation-info">
            <h4 class="activation-title"></h4>
            <ol class="activation-steps">
                <li> <a href="https://afdian.com/a/zygame1314" target="_blank"
                        rel="noopener noreferrer"></a> </li>
                <li><span class="highlight-action"></span><a
                        href="https://xiaoya-get.zygame1314.site" target="_blank"
                        rel="noopener noreferrer"></a> </li>
                <li></li>
            </ol>
            <div class="friendly-reminder"
                style="font-size: 0.9em; margin-top: 10px; padding: 10px; background-color: var(--theme-bg); border-radius: 5px;">
                <i class="fas fa-lightbulb"
                    style="color: #17a2b8; margin-right: 5px;"></i><strong></strong>
                ( _)
            </div>
            <div class="warning-message">
                <div class="warning-header"><i class="fas fa-exclamation-triangle"></i> </div>
                <div class="warning-content">
                    <span class="highlight-action"></span>
                    <br>
                    <span class="highlight-action"></span> <a href="#contact"
                        class="scroll-to-contact"></a> 
                </div>
            </div>
        </div>
        <div class="script-update-prompt-style">
            <div class="prompt-content">
                <span class="prompt-icon"></span>
                <span class="prompt-text"></span>
                <a href="javascript:void(0)" class="scroll-to-scripts"></a>
                <span class="prompt-text"></span>
            </div>
        </div>
        <div class="button-container">
            <button id="flip-card" class="button-style flip-button"></button>
        </div>
    `,e.innerHTML=`
        <p id="visit-count">
            : <span class="waline-pageview-count">0</span>
        </p>
        <div class="button-container">
            <button id="flip-back" class="button-style"></button>
        </div>
    `,document.getElementById("flip-card").addEventListener("click",function(){document.querySelector(".visit-counter-widget").classList.add("flipped")}),document.getElementById("flip-back").addEventListener("click",function(){document.querySelector(".visit-counter-widget").classList.remove("flipped")}),document.getElementById("visit-count").addEventListener("click",function(){showNotification(" + 3 ()",3,"success")})}window.handleArticleView=function(){ig(),Ls()};window.handleHomeView=function(){ag(),Ls()};(function(){let t=!1,e=!1;const n=160,s=360;function i(){const a=window.outerWidth-window.innerWidth>n||window.outerHeight-window.innerHeight>n;a&&!t?(t=!0,typeof showNotification=="function"&&showNotification(" <br><br>`console.log`...",3,"info")):a||(t=!1);const r=window.innerWidth<s;r&&!e?(e=!0,typeof showNotification=="function"&&showNotification("<br>",3,"warning")):r||(e=!1)}window.addEventListener("resize",i),i()})();document.addEventListener("DOMContentLoaded",()=>{let t;function e(){const a=document.querySelectorAll("img[data-src]:not(.lazy-initialized)");if(a.length!==0&&("IntersectionObserver"in window&&!t&&(t=new IntersectionObserver((r,o)=>{r.forEach(l=>{if(l.isIntersecting){const c=l.target;n(c),o.unobserve(c)}})},{rootMargin:"200px 0px",threshold:.01})),a.forEach(r=>{r.classList.add("lazy-placeholder"),r.classList.add("lazy-initialized"),(!r.src||r.src===window.location.href)&&(r.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"),r.dataset.width&&r.dataset.height&&(r.style.aspectRatio=`${r.dataset.width} / ${r.dataset.height}`),t&&t.observe(r)}),!("IntersectionObserver"in window))){console.log(" IntersectionObserver");const r=()=>{document.querySelectorAll("img.lazy-placeholder").forEach(o=>{o.getBoundingClientRect().top<=window.innerHeight+200&&n(o)})};window.lazyLoadListenersAdded||(document.addEventListener("scroll",s(r,200)),window.addEventListener("resize",s(r,200)),window.addEventListener("orientationchange",r),window.lazyLoadListenersAdded=!0),r()}}function n(a){if(!a.dataset.src||!a.classList.contains("lazy-placeholder"))return;const r=a.dataset.src,o=new Image;a.onerror=function(){console.log(`: ${this.src}`),a._userErrorHandler?a._userErrorHandler.call(this):(a.classList.remove("lazy-placeholder"),a.classList.add("lazy-error"))},o.onload=()=>{a.src=r,a.classList.remove("lazy-placeholder"),a.classList.add("lazy-loaded")},o.onerror=()=>{a._userErrorHandler?a._userErrorHandler.call(a):(a.classList.remove("lazy-placeholder"),a.classList.add("lazy-error"))},o.src=r}function s(a,r){let o=0;return function(...l){const c=new Date().getTime();if(!(c-o<r))return o=c,a(...l)}}function i(){new MutationObserver(r=>{let o=!1;r.forEach(l=>{l.addedNodes&&l.addedNodes.length>0&&l.addedNodes.forEach(c=>{c.nodeName==="IMG"&&c.hasAttribute("data-src")&&!c.classList.contains("lazy-initialized")&&(o=!0),c.querySelectorAll&&c.querySelectorAll("img[data-src]:not(.lazy-initialized)").length>0&&(o=!0)})}),o&&e()}).observe(document.body,{childList:!0,subtree:!0})}window.saveLazyLoadErrorHandler=function(a,r){a&&typeof r=="function"&&(a._userErrorHandler=r)},window.reinitializeLazyLoad=e,window.reloadLazyImage=function(a){a&&a.dataset&&a.dataset.src&&(a.classList.remove("lazy-loaded"),a.classList.remove("lazy-error"),a.classList.add("lazy-placeholder"),n(a))},e(),"MutationObserver"in window&&i()});document.addEventListener("DOMContentLoaded",()=>{initSmoothScroll(),initTypingEffect(),initParallax(),initClouds(),initCursorTrail(),initWeatherWidget(),initGamesFetch(),initPongGame()})});export default rg();
